<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="·ª®ng d·ª•ng Pomodoro h·ªó tr·ª£ h·ªçc t·∫≠p v·ªõi t√≠ch h·ª£p Gemini AI v√† giao di·ªán hi·ªán ƒë·∫°i." />
    <title>Pomodoro Study App ‚Äî T√≠ch h·ª£p Gemini AI (Giao di·ªán m·ªõi)</title>
    <style>
    /*
    =============================================
    POMODORO STUDY APP ‚Äî PHI√äN B·∫¢N GIAO DI·ªÜN T·∫¨P TRUNG (v1.0)
    =============================================
    */

    :root {
      /* Theme Dark (M·∫∑c ƒë·ªãnh) - C·∫≠p nh·∫≠t t·ª´ file 2 */
      --bg: #0f1222;
      --panel: #171a2e;
      --panel-rgb: 23, 26, 46; /* Th√™m bi·∫øn RGB cho panel */
      --muted: #212646;
      --text: #f4f6ff;
      --sub: #b7c1ff;
      --acc: #6c8cff;
      --acc-rgb: 108, 140, 255;
      --acc-2: #27d3a2;
      --purple: #a78bfa;
      --warn: #ffb020;
      --danger: #ff5c7a;
      --shadow: 0px 1.8px 2.2px rgba(0, 0, 0, 0.054), 0px 4.3px 5.3px rgba(0, 0, 0, 0.077), 0px 8.1px 10px rgba(0, 0, 0, 0.095), 0px 14.5px 17.9px rgba(0, 0, 0, 0.113), 0px 27.2px 33.4px rgba(0, 0, 0, 0.136), 0px 65px 80px rgba(0, 0, 0, 0.19);
      --radius: 16px;
      --panel-opacity: 0.85;
      --gradient-border: linear-gradient(135deg, var(--acc), var(--acc-2));
    }
    
    /* === START: TH√äM C√ÅC THEME M·ªöI === */
    [data-theme='light'] {
      --bg: #f5f0e8; --panel: #ffffff; --panel-rgb: 255, 255, 255; --muted: #eaddcf; --text: #4a4a4a; --sub: #8a817c; --acc: #d4a373; --acc-rgb: 212, 163, 115; --acc-2: #a3b18a; --warn: #e76f51; --danger: #d00000;
      --shadow: 0px 1.8px 2.2px rgba(0, 0, 0, 0.024), 0px 4.3px 5.3px rgba(0, 0, 0, 0.037), 0px 8.1px 10px rgba(0, 0, 0, 0.045), 0px 14.5px 17.9px rgba(0, 0, 0, 0.053), 0px 27.2px 33.4px rgba(0, 0, 0, 0.066), 0px 65px 80px rgba(0, 0, 0, 0.09);
      --panel-opacity: 0.9;
      /* NgƒÉn n·ªÅn t·ªëi m·∫∑c ƒë·ªãnh khi kh√¥ng c√≥ ·∫£nh */
      --bg-image: none;
    }

    [data-theme='pastel'] {
      --bg: #fde2e4; --panel: #fff1f2; --panel-rgb: 255, 241, 242; --muted: #fad2e1; --text: #595260; --sub: #8c7a8a; --acc: #c78283; --acc-rgb: 199, 130, 131; --acc-2: #7ec4cf; --warn: #f9bf45; --danger: #d7263d;
      --shadow: 0 5px 20px rgba(200,150,150,0.2);
      --panel-opacity: 0.9;
      /* NgƒÉn n·ªÅn t·ªëi m·∫∑c ƒë·ªãnh khi kh√¥ng c√≥ ·∫£nh */
      --bg-image: none;
    }
    
    [data-theme='lofi'] {
      --bg: #2a2a3e; --panel: #3c3c52; --panel-rgb: 60, 60, 82; --muted: #4d4d66; --text: #e0e0ff; --sub: #a0a0c0; --acc: #ff8c69; --acc-rgb: 255, 140, 105; --acc-2: #69c6ff; --warn: #ffd700; --danger: #ff6961;
      /* === Replaced external GIF with inline data URI (offline-safe) === */
      --bg-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSc4MDAnIGhlaWdodD0nNjAwJz48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9J2cnIHgxPScwJyB5MT0nMCcgeDI9JzEnIHkyPScxJz48c3RvcCBvZmZzZXQ9JzAlJyBzdG9wLWNvbG9yPScjMmEyYTNlJy8+PHN0b3Agb2Zmc2V0PScxMDAlJyBzdG9wLWNvbG9yPScjM2MzYzUyJy8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PHJlY3Qgd2lkdGg9JzEwMCUnIGhlaWdodD0nMTAwJScgZmlsbD0ndXJsKCNnKScvPjwvc3ZnPg==');
      --panel-opacity: 0.8;
    }
    
    [data-theme='space'] {
        --bg: #000000; --panel: #1a1a2e; --panel-rgb: 26, 26, 46; --muted: #2a2a4e; --text: #e0e0ff; --sub: #b0b0e0; --acc: #00aaff; --acc-rgb: 0, 170, 255; --acc-2: #aaff00; --warn: #ffaa00; --danger: #ff0055;
        /* === Replaced external GIF with inline data URI (offline-safe) === */
        --bg-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSc4MDAnIGhlaWdodD0nNjAwJz48ZGVmcz48cmFkaWFsR3JhZGllbnQgaWQ9J2cnIGN4PSc1MCUnIGN5PSc0MCUnIHI9JzcwJSc+PHN0b3Agb2Zmc2V0PScwJScgc3RvcC1jb2xvcj0nIzBiMGIxYScvPjxzdG9wIG9mZnNldD0nMTAwJScgc3RvcC1jb2xvcj0nIzAwMDAwMCcvPjwvcmFkaWFsR3JhZGllbnQ+PC9kZWZzPjxyZWN0IHdpZHRoPScxMDAlJyBoZWlnaHQ9JzEwMCUnIGZpbGw9J3VybCgjZyknLz48L3N2Zz4=');
        --panel-opacity: 0.75;
    }
    /* === END: TH√äM C√ÅC THEME M·ªöI === */

    *:focus-visible {
      outline: 2px solid var(--acc); outline-offset: 2px; border-radius: 4px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body {
      margin:0; 
      font-family: system-ui, -apple-system, 'Segoe UI Variable', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Inter', sans-serif; 
      
      background-color: var(--bg);
      background-image: var(--bg-image, radial-gradient(1200px 800px at 10% -10%, #20285b 0%, #0f1222 50%, #0b0e1a 100%));
      
      background-size: cover; 
      background-position: center; 
      color:var(--text); 
      transition: background 0.5s ease, color 0.5s ease, filter 0.5s ease;
      text-shadow: 0px 0px 5px rgba(0, 0, 0, 0.5);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
    }
    a{color:var(--acc)}

    .app{display:flex; min-height:100vh}
    
    .app-nav {
        width: 60px;
        padding: 16px 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 16px;
        z-index: 100;
    }
    .nav-btn {
        background: transparent;
        border: none;
        color: var(--sub);
        width: 44px;
        height: 44px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all .2s ease;
        position: relative;
    }
    .nav-btn:hover { background: var(--muted); color: var(--text); }
    .nav-btn.active { background: var(--acc); color: white; }
    .nav-btn svg { width: 24px; height: 24px; }
    .nav-btn .tooltip {
        position: absolute;
        left: 110%;
        top: 50%;
        transform: translateY(-50%);
        color: var(--text);
        padding: 4px 8px;
        border-radius: 6px;
        font-size: 12px;
        box-shadow: var(--shadow);
        white-space: nowrap;
        opacity: 0;
        visibility: hidden;
        transition: opacity .2s ease, visibility .2s ease;
        pointer-events: none;
        z-index: 200;
    }
    .nav-btn:hover .tooltip { opacity: 1; visibility: visible; }

    .app-content {
        flex: 1;
        padding: 24px;
        overflow-y: auto;
        max-height: 100vh;
    }

    .view { display: none; }
    .view.active { display: grid; gap: 24px; animation: fadeIn .3s ease; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    .main.reloading { opacity: 0; transition: opacity 0.2s ease-out; }

    .panel-bg{
        background: rgba(23, 26, 46, var(--panel-opacity));
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border:1px solid rgba(255,255,255,.08);
    }
    /* Th√™m c√°c quy t·∫Øc border cho theme light/pastel */
    [data-theme='light'] .panel-bg, [data-theme='pastel'] .panel-bg { border:1px solid rgba(0,0,0,0.05); }
    [data-theme='lofi'] .panel-bg { border:1px solid rgba(255,255,255,0.1); }
    [data-theme='space'] .panel-bg { border:1px solid rgba(255,255,255,0.12); }


header.app-header{display:flex; align-items:center; justify-content:space-between; padding:10px 14px; border-radius:var(--radius); box-shadow:var(--shadow); margin-bottom: 24px; position: relative; z-index: 2000;}
    header .actions{display:flex; gap:8px; align-items:center}
    
    .btn {
      background: rgba(255, 255, 255, 0.08);
      color: var(--text);
      border: none; /* S·ª≠a ƒë·ªïi: b·ªè border m·∫∑c ƒë·ªãnh */
      padding: 10px 14px;
      border-radius: 12px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      box-shadow: inset 0 -2px 0 rgba(0,0,0,0.08);
      font-weight: 600;
      transition: all .15s ease;
      position: relative;
      overflow: hidden;
    }
    .btn::before {
        content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
        border: 2px solid transparent; border-radius: 12px; background: var(--gradient-border) border-box;
        -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
        -webkit-mask-composite: destination-out; mask-composite: exclude; opacity: 0; transition: opacity 0.3s ease;
    }
    .btn:hover::before { opacity: 1; }
    .btn:hover { background: rgba(255, 255, 255, 0.12); }
    .btn:active { transform: translateY(1px) scale(0.98); filter: brightness(1); }
    .btn:disabled { cursor: not-allowed; filter: brightness(0.8) saturate(0.5); }
    .btn.ghost { background: transparent; border: 1px solid rgba(255, 255, 255, 0.2); }
    .btn.ghost:hover { background: rgba(255, 255, 255, 0.1); border-color: rgba(255, 255, 255, 0.3); }
    .btn.acc { background: var(--acc); color: white; }
    .btn.warn { background: var(--warn); color: white; }
    .btn.danger { background: var(--danger); color: white; }
    .btn.small { padding: 6px 10px; font-size: 14px; border-radius: 9px; }
    .btn.small::before { border-radius: 9px; }
    .btn > svg { width: 16px; height: 16px; stroke-width: 2.5px; }

    /* === START: C·∫¨P NH·∫¨T GIAO DI·ªÜN QU·∫¢N L√ù CH·ª¶ ƒê·ªÄ === */
    #view-topics { grid-template-columns: 1fr; }
    .topic-item { background:rgba(255,255,255,.04); border:1px solid var(--muted); border-radius:12px; padding:8px; margin-bottom:8px; } /* S·ª≠a ƒë·ªïi */
    .topic-header, .sub-row { display:flex; align-items:center; gap:8px; position: relative; }
    .topic-header { cursor: pointer; }
    .topic-header .topic-actions { cursor: default; }
    .topic-header .topic-actions * { cursor: pointer; }
    .topic-item { cursor: pointer; }
    .topic-item .topic-actions { cursor: default; }
    .topic-item .topic-actions * { cursor: pointer; }
    .topic-title { flex:1; font-weight:600; cursor: pointer; }
    .chev { width:28px; height:28px; border-radius:8px; display:inline-flex; align-items:center; justify-content:center; flex-shrink: 0; cursor: pointer; }
    .chev .ico { display:inline-block; transition: transform .18s ease; }
    .chev[aria-expanded="false"] .ico { transform: rotate(-90deg); }
    .subtopics { margin-top:8px; display:flex; flex-direction:column; gap:6px; }
    .subtopics.hidden { display:none; }
    
    .topic-actions, .sub-row .actions {
        opacity: 0;
        visibility: hidden;
        transition: opacity .2s ease, visibility .2s ease;
        display: flex;
        gap: 6px;
        align-items: center;
    }
    .topic-item:hover .topic-actions, .topic-item:focus-within .topic-actions,
    .sub-row:hover .actions, .sub-row:focus-within .actions {
      opacity: 1;
      visibility: visible;
    }
    .actions-menu-btn {
        padding: 0;
        width: 28px;
        height: 28px;
        font-size: 1.2em;
        line-height: 1;
    }
    .actions-menu {
        position: absolute;
        top: 100%;
        right: 0;
        border-radius: 8px;
        padding: 6px;
        box-shadow: var(--shadow);
        z-index: 10;
        min-width: 150px;
        display: none;
        flex-direction: column;
        gap: 4px;
    }
    /* N√¢ng kh·ªëi ƒëang m·ªü menu l√™n tr√™n c√°c kh·ªëi kh√°c */
    .topic-item.menu-active { position: relative; z-index: 20; }
    
    .actions-menu.show { display: flex; }
    .menu-item {
        background: transparent; border: none; color: var(--text);
        padding: 8px 10px; border-radius: 6px; text-align: left;
        width: 100%; cursor: pointer; transition: background .2s ease;
        display: flex; align-items: center; gap: 8px; font-size: 14px; font-weight: 500;
    }
    .menu-item:hover { background: var(--acc); color: white; }
    .menu-item.danger:hover { background: var(--danger); }
    /* === END: C·∫¨P NH·∫¨T GIAO DI·ªÜN QU·∫¢N L√ù CH·ª¶ ƒê·ªÄ === */

    .subtopic-btn{
        flex:1; 
        text-align:left;
        background-color: rgba(0,0,0,0.02); /* S·ª≠a ƒë·ªïi */
    }
    .subtopic-btn:hover {
        background-color: transparent; /* Hover transparent to avoid blue background */
    }
    .subtopic-btn.active{
        outline:2px solid var(--acc); 
    }
    .subtopic-btn.active:hover {
        background: transparent; /* Gi·ªØ n·ªÅn trong su·ªët khi di chu·ªôt qua */
    }
    
    .panel{border-radius:var(--radius); padding:24px; box-shadow:var(--shadow)}

    .timer-header { display: flex; justify-content: space-between; align-items: center; gap: 12px; flex-wrap: wrap; }
    .timer{display:grid; gap:16px; grid-template-columns: 1fr; align-items:center; text-align:center}
    .big-time{font-size: clamp(60px, 12vw, 96px); letter-spacing:1px; font-weight:700; color: var(--text)}
    .state{font-weight:700; letter-spacing:.6px}
    .state.work{color:var(--acc-2)} /* S·ª≠a ƒë·ªïi m√†u */
    .state.break{color:var(--warn)}
    .state.long{color:var(--danger)} /* S·ª≠a ƒë·ªïi m√†u */
    .controls{display:flex; flex-wrap:wrap; gap:12px; justify-content:center}    
    #btnStart { padding: 14px 28px; font-size: 1.2em; }
    #btnPause, #btnResume { padding: 12px 24px; font-size: 1.1em; }

    /* === START: T√ôY CH·ªàNH D·∫¢I PH√ÇN C√ÅCH M·ªÄM M·∫†I H∆†N === */
    #view-timer .panel-bg hr {
        border: none; /* B·ªè ƒë∆∞·ªùng vi·ªÅn m·∫∑c ƒë·ªãnh */
        height: 1px;  /* ƒê·∫∑t chi·ªÅu cao cho ƒë∆∞·ªùng k·∫ª */
        background-color: var(--muted); /* S·ª≠ d·ª•ng m√†u ph·ª• c·ªßa theme */
        opacity: 0.3; /* L√†m cho n√≥ m·ªù ƒëi, h√≤a v√†o n·ªÅn */
        margin-top: 0; /* ƒêi·ªÅu ch·ªânh l·∫°i kho·∫£ng c√°ch */
    }
    /* === END: T√ôY CH·ªàNH D·∫¢I PH√ÇN C√ÅCH M·ªÄM M·∫†I H∆†N === */

    .stats-grid{display:grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap:12px}
    .stat-card{background:rgba(255,255,255,0.04); border:1px solid var(--muted); border-radius:14px; padding:12px; text-align:center} /* S·ª≠a ƒë·ªïi */
    .stat-card h4{margin:4px 0 8px; color:var(--sub); font-weight:600; font-size: 14px;}
    .stat-value{font-size: 20px; font-weight: 600;}
    .tiny{font-size:12px; color:var(--sub)}
    .history{display:grid; gap:8px; max-height:300px; overflow:auto; padding-right:6px}
    .hist-item{display:grid; grid-template-columns: 1fr auto; gap:10px; align-items:start; background:rgba(255,255,255,0.04); border:1px solid var(--muted); border-radius:10px; padding:10px} /* S·ª≠a ƒë·ªïi */

    .row{display:flex; gap:8px; align-items:center}
    .row > * {flex:1}
    input[type="text"], input[type="password"], input[type="number"], select, textarea{width:100%; background:rgba(255,255,255,0.04); color:var(--text); border:1px solid var(--muted); border-radius:10px; padding:10px; outline:none}
    textarea{min-height:80px; resize: vertical;}

    .toasts{position:fixed; right:16px; bottom:16px; display:flex; flex-direction:column; gap:8px; z-index:9999}
    .toast{
        background: var(--panel); /* S·ª≠a ƒë·ªïi */
        border:1px solid var(--muted);
        color:var(--text);
        padding:10px 12px; border-radius:12px; box-shadow:var(--shadow);
        animation: toast-in .3s ease; transform-origin: bottom right;
    }
    @keyframes toast-in { from { opacity: 0; transform: scale(0.8); } to { opacity: 1; transform: scale(1); } }

    .modal{position:fixed; inset:0; display:none; align-items:center; justify-content:center; background: rgba(0,0,0,var(--panel-opacity)); z-index:10000; backdrop-filter: blur(5px);} /* N√¢ng z-index ƒë·ªÉ n·∫±m tr√™n header */
    .modal.show{display:flex}
    .modal-card{
        position: relative;
        z-index: 10001;
        width:min(720px, 94vw);
        border-radius:16px;
        padding:16px;
        box-shadow:var(--shadow);
        animation: modal-in .25s ease-out;
        max-height: 90vh;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
    }
    body.modal-open { overflow: hidden; }
    @keyframes modal-in { from { opacity: 0; transform: scale(0.92) translateY(10px); } to { opacity: 1; transform: scale(1) translateY(0); } }
    .modal-card h3{margin-top:0}
    .dashboard-table { width: 100%; border-collapse: collapse; margin-top: 12px; }
    .dashboard-table th, .dashboard-table td { padding: 8px 12px; text-align: left; border-bottom: 1px solid var(--muted); }
    .dashboard-table th { color: var(--sub); }

    .footer-note{font-size:12px; color:var(--sub)}
    .hidden{display:none !important}

    .notes-list { display: flex; flex-direction: column; gap: 8px; max-height: 250px; overflow-y: auto; padding-right: 6px; }
    .note-item { background: rgba(255,255,255,0.04); border-radius: 10px; padding: 10px; display: flex; justify-content: space-between; align-items: flex-start; gap: 10px; cursor: pointer; } /* S·ª≠a ƒë·ªïi */
    .note-content-wrapper { flex: 1; min-width: 0; }
    .note-content { white-space: pre-wrap; word-break: break-word; max-height: 60px; overflow: hidden; position: relative; transition: max-height 0.35s ease-in-out; }
    .note-content:not(.expanded)::after {
        content: ''; position: absolute; bottom: 0; right: 0; width: 100%; height: 20px; background: linear-gradient(to top, var(--panel) 20%, transparent);
    }
    .note-content.expanded { max-height: 500px; }
    .note-meta { font-size: 11px; color: var(--sub); margin-top: 4px; }
    
    .spinner { border: 2px solid var(--muted); border-top-color: var(--text); border-radius: 50%; width: 16px; height: 16px; animation: spin 1s linear infinite; } /* S·ª≠a ƒë·ªïi */
    @keyframes spin { to { transform: rotate(360deg); } }

    .panel-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
    .panel-header h3 { margin: 0; }
    .panel-header .actions { display: flex; gap: 8px; }
    
    .aux-panel { margin-top: 24px; }
    .tab-nav { display: flex; gap: 4px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); margin-bottom: 16px; }
    .tab-btn { background: transparent; border: none; color: var(--sub); padding: 8px 16px; cursor: pointer; border-bottom: 2px solid transparent; transition: all .2s ease; font-weight: 600; }
    .tab-btn:hover { color: var(--text); }
    .tab-btn.active { color: var(--acc); border-bottom-color: var(--acc); }
    .tab-content {
      display: none;
      padding-top: 8px;
    }
    .tab-content.active {
      animation: fadeIn 0.25s ease-out;
    }
    #tasks.tab-content.active,
    #notes.tab-content.active,
    #ai.tab-content.active {
        display: block;
    }

    #settings-timer.tab-content.active,
    #settings-ui.tab-content.active,
    #settings-integrations.tab-content.active {
        display: flex;
    }

    .settings-row-toggle {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 16px;
    }
    .settings-row-toggle span {
      flex: 1;
      cursor: pointer;
    }
    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 44px;
      height: 24px;
      flex-shrink: 0;
    }
    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .toggle-switch .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: var(--muted);
      transition: .3s;
      border-radius: 24px;
    }
    .toggle-switch .slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: .3s;
      border-radius: 50%;
    }
    .toggle-switch input:checked + .slider {
      background-color: var(--acc-2);
    }
    .toggle-switch input:checked + .slider:before {
      transform: translateX(20px);
    }
    
    .chat-messages { max-height: 250px; overflow-y: auto; display: flex; flex-direction: column; gap: 8px; margin-bottom: 12px; padding: 4px; }
    .chat-msg { padding: 8px 12px; border-radius: 12px; max-width: 85%; word-break: break-word; }
    .chat-msg.user { background: var(--acc); color: white; align-self: flex-end; border-bottom-right-radius: 4px; }
    .chat-msg.model { background: var(--muted); align-self: flex-start; border-bottom-left-radius: 4px; }
    .chat-input-area { display: flex; gap: 8px; }

    .methods-list { list-style: none; padding: 0; }
    .method-item { align-items: flex-start; padding: 12px; display: flex; gap: 10px; border-radius: 8px; }
    .method-item:hover { background: rgba(0,0,0,0.03); } /* S·ª≠a ƒë·ªïi */
    .method-item input[type="checkbox"] { width: 18px; height: 18px; margin-top: 2px; flex-shrink: 0;}
    .method-item label { flex: 1; }
    .method-item label.completed { text-decoration: line-through; color: var(--sub); }
    .method-item .content-wrapper { flex: 1; cursor: pointer; }
    .method-item .concept { font-size: 14px; color: var(--sub); margin-top: 8px; border-left: 2px solid var(--muted); padding-left: 12px; white-space: pre-wrap; word-break: break-word; }
    /* Highlight section titles and bold text inside method content */
    .method-content h4 {
        color: var(--acc-2);
        font-size: 1.1em;
        margin-top: 1.5em;
        margin-bottom: 0.5em;
    }
    .method-content strong {
        color: var(--acc);
        font-weight: 600;
    }
    /* Apply the same highlight to the Guide view */
    #view-guide h4 { color: var(--acc-2); }
    #view-guide strong { color: var(--acc-2); }
    /* Show hand cursor to indicate clickability */
    .method-item, .method-item summary { cursor: pointer; }
    .subtopic-todo-list { list-style: none; padding: 0; margin: 0; max-height: 100px; overflow-y: auto; text-align: left; }
    .subtopic-todo-list li { display: flex; align-items: center; gap: 8px; padding: 4px; transition: all 0.2s ease-out; }
    .subtopic-todo-list li.removing { transform: translateX(100%); opacity: 0; }
    .subtopic-todo-list label { flex: 1; }

    #youtube-player-container { position: absolute; top: -9999px; left: -9999px; width: 1px; height: 1px; overflow: hidden; }

    ::-webkit-scrollbar { width: 8px; height: 8px; }
    ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1); border-radius: 10px; } /* S·ª≠a ƒë·ªïi */
    ::-webkit-scrollbar-thumb { background: var(--muted); border-radius: 10px; border: 2px solid transparent; background-clip: content-box; }
    ::-webkit-scrollbar-thumb:hover { background: var(--sub); background-clip: content-box; }
    
    .timer-circle-container {
        position: relative; width: clamp(250px, 40vw, 320px); height: clamp(250px, 40vw, 320px); margin: 24px auto; display: flex; align-items: center; justify-content: center;
    }
    .timer-svg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; transform: rotate(-90deg); }
    .timer-circle-bg, .timer-circle-progress { fill: none; stroke-width: 8; }
    .timer-circle-bg { stroke: var(--muted); } /* S·ª≠a ƒë·ªïi */
    .timer-circle-progress { stroke: var(--acc); stroke-linecap: round; transition: stroke-dashoffset 0.3s linear, stroke 0.5s ease; }
    @keyframes flash { 0%, 100% { box-shadow: 0 0 10px 2px transparent; } 50% { box-shadow: 0 0 20px 8px currentColor; } }
    .timer-circle-container.finished { color: var(--acc-2); animation: flash 1s ease-out; }
    @keyframes breathing-effect { 0% { transform: scale(1); } 50% { transform: scale(1.03); } 100% { transform: scale(1); } }
    .timer-circle-container.breathing { animation: breathing-effect 3s ease-in-out infinite; }
    
    
    
    @media (max-width: 1024px) {
      .app-content { padding: 20px; }
      .panel { padding: 20px; }
      .timer-circle-container { width: clamp(220px, 50vw, 300px); height: clamp(220px, 50vw, 300px); }
    }

    @media (max-width: 768px) {
      .app { flex-direction: column; }
      .app-nav { width: 100%; height: 60px; flex-direction: row; justify-content: center; border-right: none; border-top: 1px solid rgba(255,255,255,.08); order: 2; padding: 0 16px; }
      .app-content { padding: 16px; order: 1; }
      .panel { padding: 16px; }
      .modal-card .tab-nav { overflow-x: auto; }
    }

    @media (max-width: 480px) {
      .app-nav { height: 50px; }
      .nav-btn { flex: 1; }
      header.app-header { flex-direction: column; align-items: stretch; gap: 8px; }
      .btn { padding: 8px 12px; }
      .timer-circle-container { width: clamp(180px, 80vw, 220px); height: clamp(180px, 80vw, 220px); margin: 16px auto; }
      .panel { padding: 12px; }
      .app-content { padding: 12px; }
    }

    #view-timer.no-subtopic-selected > .panel-bg:not(:first-child) { display: none; }
    #view-timer.no-subtopic-selected .timer-header > .presets { display: none; }
    #view-timer.no-subtopic-selected .timer { display: none; }

    header.app-header .actions #btnFullscreen { background: transparent; border: none; box-shadow: none; }
    header.app-header .actions #btnFullscreen:hover { background: var(--muted); filter: none; }
    header.app-header .actions #btnFullscreen:hover::before { opacity: 0; }

    input[type="text"], input[type="password"], input[type="number"], select, textarea {
        background: rgba(255,255,255,0.04) !important; /* S·ª≠a ƒë·ªïi: chuy·ªÉn sang n·ªÅn tr·∫Øng trong su·ªët */
        color: var(--text);
        border: 1px solid rgba(255, 255, 255, 0.1); /* Vi·ªÅn tr·∫Øng m·ªù */
        transition: background .2s ease, border-color .2s ease;
    }
    input[type="text"]:focus, input[type="password"]:focus, input[type="number"]:focus, select:focus, textarea:focus {
        background: rgba(255,255,255,0.06) !important; /* Tinh ch·ªânh: s√°t m·∫´u h∆°n */
        border-color: var(--acc);
    }
    /* === START: S·ª¨A L·ªñI N·ªÄN INPUT/SELECT TR√äN THEME S√ÅNG === */
    [data-theme='light'] input, [data-theme='light'] select, [data-theme='light'] textarea,
    [data-theme='pastel'] input, [data-theme='pastel'] select, [data-theme='pastel'] textarea {
        background: rgba(0, 0, 0, 0.05) !important; /* D√πng n·ªÅn ƒëen m·ªù thay v√¨ tr·∫Øng m·ªù */
        border-color: rgba(0, 0, 0, 0.1); /* Vi·ªÅn ƒëen m·ªù tr√™n theme s√°ng */
    }

    [data-theme='light'] input:focus, [data-theme='light'] select:focus, [data-theme='light'] textarea:focus,
    [data-theme='pastel'] input:focus, [data-theme='pastel'] select:focus, [data-theme='pastel'] textarea:focus {
        background: rgba(0, 0, 0, 0.07) !important; /* TƒÉng ƒë·ªô ƒë·∫≠m khi focus */
    }
    /* === END: S·ª¨A L·ªñI N·ªÄN INPUT/SELECT TR√äN THEME S√ÅNG === */

    /* C·∫£i thi·ªán n·ªÅn v√† m√†u ch·ªØ cho option trong select theo theme hi·ªán t·∫°i */
    select option {
        background: var(--panel);
        color: var(--text);
    }
    
    ::placeholder { color: var(--sub); opacity: 0.7; } /* S·ª≠a ƒë·ªïi */
    ::-ms-input-placeholder { color: var(--sub); }
    :-ms-input-placeholder { color: var(--sub); }

    
    
    .draggable-timer {
        position: fixed;
        bottom: 20px;
        right: 20px;
        color: var(--text);
        padding: 8px 16px;
        border-radius: 12px;
        box-shadow: var(--shadow);
        font-size: 2em;
        font-weight: 600;
        cursor: move;
        user-select: none;
        z-index: 9998;
        opacity: 0;
        transform: scale(0.9);
        pointer-events: none;
        transition: opacity 0.35s ease, transform 0.35s ease;
    }
    body.bg-view-mode .draggable-timer {
        opacity: 1;
        transform: scale(1);
        pointer-events: auto;
    }
    .app-nav, .panel-bg, .app-header .actions > *, .app-header > .row {
        transition: opacity 0.35s ease, transform 0.35s ease, background 0.35s ease, border-color 0.35s ease, box-shadow 0.35s ease;
    }
    body.bg-view-mode .app-nav,
    body.bg-view-mode .view.active > .panel-bg {
        opacity: 0;
        pointer-events: none;
        transform: scale(0.98);
    }
    body.bg-view-mode .app-header {
        background: transparent !important;
        border-color: transparent !important;
        box-shadow: none !important;
    }
    body.bg-view-mode .app-header .actions > *:not(#btnToggleBg),
    body.bg-view-mode .app-header > .row {
        opacity: 0;
        pointer-events: none;
    }
    body.bg-view-mode #btnToggleBg {
        opacity: 1;
        pointer-events: auto;
    }
    .sound-permission-bar {
      position: fixed; left: 50%; transform: translateX(-50%);
      bottom: 48px; z-index: 9999;
      border-radius: 12px; padding: 10px 14px;
      display: none; align-items: center; gap: 10px;
      box-shadow: var(--shadow);
    }
    .sound-permission-bar.show { display: flex; }
    .sound-permission-bar .msg { font-size: 14px; color: var(--text); }
    .draggable-timer { text-shadow: 0px 0px 8px rgba(0, 0, 0, 0.9); }

    /* Gi·∫£m/lo·∫°i b·ªè b√≥ng ch·ªØ cho theme s√°ng ƒë·ªÉ tr√°nh nh√≤e/l√≥a */
    body[data-theme='light'],
    body[data-theme='pastel'] { text-shadow: none; }
    body[data-theme='light'] .draggable-timer,
    body[data-theme='pastel'] .draggable-timer { text-shadow: none; }

    /* ============================================= */
/* ========================================================= */
/* START: THI?T L?P PANEL KI?U M?  ?C (FROSTED GLASS)        */
/* ========================================================= */

/* --- 1.  p d?ng hi?u ?ng n?n m? chung cho t?t c? c c panel --- */
.app-nav,
.panel-bg,
.modal-card,
.actions-menu,
.nav-btn .tooltip,
.draggable-timer, 
.sound-permission-bar,
.toast,
.topic-item,
.stat-card,
.hist-item,
.method-item {
    background: rgba(var(--panel-rgb), var(--panel-opacity));
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
}

/* --- 2.  ?nh nghia vi?n cho t?ng lo?i panel --- */
.app-nav {
    border-right: 1px solid rgba(255, 255, 255, 0.1);
}
.panel-bg,
.modal-card,
.actions-menu,
.nav-btn .tooltip,
.draggable-timer, 
.sound-permission-bar,
.toast,
.topic-item,
.stat-card,
.hist-item,
.method-item {
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* --- 3. Tinh ch?nh vi?n cho c c theme S NG (Light/Pastel) --- */
[data-theme='light'] .app-nav,
[data-theme='light'] .panel-bg,
[data-theme='light'] .modal-card,
[data-theme='light'] .actions-menu,
[data-theme='light'] .nav-btn .tooltip,
[data-theme='light'] .draggable-timer,
[data-theme='light'] .sound-permission-bar,
[data-theme='light'] .toast,
[data-theme='light'] .topic-item,
[data-theme='light'] .stat-card,
[data-theme='light'] .hist-item,
[data-theme='light'] .method-item,
[data-theme='pastel'] .app-nav,
[data-theme='pastel'] .panel-bg,
[data-theme='pastel'] .modal-card,
[data-theme='pastel'] .actions-menu,
[data-theme='pastel'] .nav-btn .tooltip,
[data-theme='pastel'] .draggable-timer,
[data-theme='pastel'] .sound-permission-bar,
[data-theme='pastel'] .toast,
[data-theme='pastel'] .topic-item,
[data-theme='pastel'] .stat-card,
[data-theme='pastel'] .hist-item,
[data-theme='pastel'] .method-item {
    border-color: rgba(0, 0, 0, 0.1);
}

/* --- 4. S?a l?i hi?u ?ng fade-out c?a ghi ch  cho ph  h?p --- */
.note-content:not(.expanded)::after {
    background: linear-gradient(to top, rgba(var(--panel-rgb), 1) 20%, transparent);
}

/* --- C c quy t?c c n l?i gi? nguy n t? file g?c --- */
[data-theme='light'] .tab-nav,
[data-theme='pastel'] .tab-nav {
    border-bottom-color: rgba(0, 0, 0, 0.1);
}
.subtopic-btn {
    background-color: transparent;
}
.subtopic-btn:hover {
    background-color: transparent; /* Hover transparent to avoid blue background */
}
.method-item[open] summary {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}
    [data-theme='light'] .method-item[open] summary,
    [data-theme='pastel'] .method-item[open] summary {
        border-bottom-color: rgba(0, 0, 0, 0.1);
    }

    /* Editor container (single pane, Rich Text) */
    .editor-container { height: 350px; }
    .editable-content { height: 100%; border: 1px solid var(--muted); border-radius: 10px; padding: 10px; overflow-y: auto; background: var(--bg); }
    .editable-content:focus-within { border-color: var(--acc); outline: none; }
    .editable-content h4 { color: var(--acc-2); font-size: 1.1em; margin-top: 1.5em; margin-bottom: 0.5em; }
    .editable-content strong, .editable-content b { color: var(--acc); font-weight: 600; }
    .editable-content ol, .editable-content ul { padding-left: 20px; }

    /* Editor toolbar for Methods modal */
    .editor-toolbar { display: flex; gap: 6px; margin-bottom: 6px; padding: 4px; background: var(--muted); border-radius: 8px; }
    .editor-toolbar button { font-weight: bold; width: 32px; height: 32px; padding: 0; }
    .editor-toolbar .btn.ghost:hover { background-color: rgba(var(--acc-rgb, 108, 140, 255), 0.15); }
    .editor-toolbar .btn.ghost.active { background-color: rgba(var(--acc-rgb, 108, 140, 255), 0.25); }
    .color-picker-wrapper { position: relative; }
    .color-palette { position: absolute; bottom: 110%; left: 50%; transform: translateX(-50%); display: flex; gap: 6px; padding: 6px; border-radius: 8px; border: 1px solid var(--muted); background: var(--panel); box-shadow: var(--shadow); z-index: 10; }
    .color-swatch { width: 24px; height: 24px; border-radius: 50%; border: 2px solid rgba(255, 255, 255, 0.5); cursor: pointer; transition: transform 0.15s ease; }
    .color-swatch:hover { transform: scale(1.15); }

    /* Method actions inline with summary and show on hover */
    .method-item summary { display: flex; align-items: center; justify-content: space-between; }
    .method-item summary > span { flex: 1; }
    .method-item summary .topic-actions { margin-left: 8px; }
    .method-title { cursor: pointer; }
    .method-item:hover .topic-actions, .method-item:focus-within .topic-actions { opacity: 1; visibility: visible; }

    </style>
</head>
<body data-theme="default"> <div class="app" id="app">
    <nav class="app-nav">
        <button class="nav-btn active" id="navBtnTimer" data-view="timer" aria-label="ƒê·ªìng h·ªì">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
            <span class="tooltip">ƒê·ªìng h·ªì</span>
        </button>
        <button class="nav-btn" id="navBtnTopics" data-view="topics" aria-label="Ch·ªß ƒë·ªÅ">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"></path></svg>
            <span class="tooltip">Ch·ªß ƒë·ªÅ</span>
        </button>
        <button class="nav-btn" id="navBtnStats" data-view="stats" aria-label="Th·ªëng k√™">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3v18h18"></path><path d="m19 9-5 5-4-4-3 3"></path></svg>
            <span class="tooltip">Th·ªëng k√™</span>
        </button>
        <button class="nav-btn" id="navBtnMethods" data-view="methods" aria-label="Kho Tri Th·ª©c">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15.042 21.672L13.684 16.6s.408-1.947 1.25-3.25c.842-1.303 2.002-2.5 3.5-3.5s3.25-1.25 3.25-1.25l5.072 1.358c.27.072.358.42.128.628l-3.35 3.35a.499.499 0 0 1-.594.052l-2.07-1.486c-.44-.314-.82-.53-1.11-.665-.29-.135-.55-.22-.78-.245s-.45.045-.63.155c-.18.11-.3.29-.36.5-.06.21.02.48.18.78.16.3.385.68.665 1.11l1.486 2.07a.499.499 0 0 1-.052.594l-3.35 3.35c-.208.23-.556.142-.628-.128z"/><path d="M12 15l-3-3 3-3 3 3-3 3z"/><path d="M9.01 11.99l-3.005 3.004a.997.997 0 0 1-1.41-1.41l3.004-3.005-3.004-3.005a.997.997 0 0 1 1.41-1.41l3.005 3.004z"/><path d="M5.01 11.99l-3.005 3.004a.997.997 0 0 1-1.41-1.41l3.004-3.005-3.004-3.005a.997.997 0 0 1 1.41-1.41l3.005 3.004z"/></svg>
            <span class="tooltip">Kho Tri Th·ª©c</span>
        </button>
        <button class="nav-btn" id="btnSettings" style="margin-top: auto;" aria-label="C√†i ƒë·∫∑t">
             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path><circle cx="12" cy="12" r="3"></circle></svg>
            <span class="tooltip">C√†i ƒë·∫∑t</span>
        </button>
        <button class="nav-btn" id="navBtnGuide" data-view="guide" aria-label="H∆∞·ªõng d·∫´n">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 1 1 5.82 1c0 2-3 2-3 4"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
            <span class="tooltip">H∆∞·ªõng d·∫´n</span>
        </button>
    </nav>

    <main class="app-content">
      <header class="app-header panel-bg">
        <div class="row" style="gap:12px; align-items:center; flex:0 1 auto">
          <strong>üìö Pomodoro Study App</strong>
          <span class="badge" id="selectedContext">Ch∆∞a ch·ªçn Ch·ªß ƒë·ªÅ con</span>
        </div>
        <div class="actions">
          <button class="btn ghost small" id="btnDashboard" title="Dashboard T·ªïng quan">üìä T·ªïng Quan </button>
          <a href="https://forms.gle/EfFqBJFTbFtDo5H4A" target="_blank" rel="noopener noreferrer" class="btn ghost small" title="G·ª≠i ph·∫£n h·ªìi c·ªßa b·∫°n">üí¨ Ph·∫£n H·ªìi</a>
          <button class="btn ghost small" id="btnExport" title="Xu·∫•t JSON">‚¨áÔ∏è Xu·∫•t File</button>
          <label class="btn ghost small" for="importFile" title="Nh·∫≠p JSON">‚¨ÜÔ∏è Nh·∫≠p File</label>
          <input type="file" id="importFile" accept="application/json" style="display:none" />
          <button class="btn small" id="btnToggleBg" title="·∫®n/Hi·ªán giao di·ªán">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>
          </button>
          <button class="btn small" id="btnFullscreen" title="To√†n m√†n h√¨nh">‚ÜóÔ∏è</button>
        </div>
      </header>
      

      <div id="view-timer" class="view active">
        <section class="panel panel-bg">
          <div class="timer-header">
            <div id="welcomePanel" class="hidden panel-bg" style="text-align:center; padding: 20px; border-radius: var(--radius); width: 100%;">
                <h3>Ch√†o m·ª´ng ƒë·∫øn v·ªõi Pomodoro Study App!</h3>
                <p>H√£y b·∫Øt ƒë·∫ßu b·∫±ng c√°ch ch·ªçn m·ªôt <strong>Ch·ªß ƒë·ªÅ con</strong> ho·∫∑c t·∫°o Ch·ªß ƒë·ªÅ/Ch·ªß ƒë·ªÅ con m·ªõi.</p>
                <button class="btn acc" id="btnHelpCreateTopic">Ôºã T·∫°o Ch·ªß ƒë·ªÅ M·ªõi</button>
            </div>
            <div class="presets" role="group" aria-label="Ch·ªçn ch·∫ø ƒë·ªô preset">
                <button id="btnPresetA" class="btn small ghost" data-preset="A"></button>
                <button id="btnPresetB" class="btn small ghost" data-preset="B"></button>
                <button id="btnPresetC" class="btn small ghost" data-preset="C">üåä Flow</button>
            </div>
          </div>
          <hr />
          <div class="timer" aria-live="polite">
            <div class="badge" id="stateBadge">TR·∫†NG TH√ÅI</div>
            
            <div class="timer-circle-container">
              <svg class="timer-svg" viewBox="0 0 100 100">
                  <circle class="timer-circle-bg" cx="50" cy="50" r="45"></circle>
                  <circle class="timer-circle-progress" cx="50" cy="50" r="45"></circle>
              </svg>
              <div id="timeDisplay" class="big-time">00:00</div>
            </div>

            <div class="tiny" id="cycleInfo"></div>

            <div class="tiny" id="breakSuggestionDisplay" style="min-height: 1.5em; font-style: italic; opacity: 0.8; transition: opacity 0.3s ease;"></div>

            <div id="windDownChecklist" class="hidden" style="text-align: left; max-width: 300px; margin: 0 auto; padding: 0 10px;">
              <h4 style="margin: 8px 0 4px; color: var(--acc); text-align: center;">Checklist H·∫° nhi·ªát</h4>
              <ul style="list-style: '‚úì '; margin: 0; padding-left: 20px; color: var(--sub);">
                <li>L∆∞u c√¥ng vi·ªác ƒëang l√†m (Save/Commit).</li>
                <li>Ghi ch√∫ nhanh "Next step".</li>
                <li>D·ªçn d·∫πp kh√¥ng gian l√†m vi·ªác.</li>
              </ul>
            </div>
            
            <div class="controls">
              <button class="btn acc" id="btnStart" aria-label="B·∫Øt ƒë·∫ßu (Space)">‚ñ∂Ô∏è B·∫Øt ƒë·∫ßu</button>
              <button class="btn warn hidden" id="btnFinishFlow" aria-label="K·∫øt th√∫c phi√™n l√†m vi·ªác">üßò B·∫Øt ƒë·∫ßu ngh·ªâ</button>
              <button class="btn" id="btnPause" aria-label="T·∫°m d·ª´ng (Space)">‚è∏Ô∏è T·∫°m d·ª´ng</button>
              <button class="btn" id="btnResume" aria-label="Ti·∫øp t·ª•c (Space)">‚èµ Ti·∫øp t·ª•c</button>
              <button class="btn warn" id="btnSkip" aria-label="B·ªè qua (N)">‚è≠Ô∏è B·ªè qua</button>
              <button class="btn danger" id="btnReset">‚Ü∫ ƒê·∫∑t l·∫°i</button>
              <button class="btn acc small hidden" id="btnBreakEarly">üßò Ngh·ªâ s·ªõm</button>
            </div>
            <div class="tiny">Ph√≠m t·∫Øt: <strong>Space</strong> = B·∫Øt ƒë·∫ßu/T·∫°m d·ª´ng/Ti·∫øp t·ª•c, <strong>N</strong> = Ti·∫øp theo/B·ªè qua</div>
          </div>
        </section>

        <section class="panel panel-bg aux-panel">
            <nav class="tab-nav">
                <button class="tab-btn active" data-tab="tasks">Nhi·ªám v·ª•</button>
                <button class="tab-btn" data-tab="notes">Ghi ch√∫</button>
                <button class="tab-btn" data-tab="ai">Gemini AI</button>
            </nav>
            <div id="tasks" class="tab-content active">
                <h4 style="margin: 0 0 8px; color: var(--sub);">To-do cho ch·ªß ƒë·ªÅ con n√†y:</h4>
                <ul id="subtopicTasksList" class="subtopic-todo-list"></ul>
                <div class="row" style="gap:8px; margin-top: 8px;">
                    <input type="text" id="newSubtopicTaskInput" placeholder="Th√™m m·ªôt task m·ªõi..." />
                    <button id="btnAddSubtopicTask" class="btn small" style="flex: 0 1 auto;">Th√™m</button>
                </div>
            </div>
            <div id="notes" class="tab-content">
                <div id="generalNotesList" class="notes-list"></div>
                <div class="add-note-area" style="margin-top: 12px;">
                    <textarea id="newGeneralNoteText" placeholder="Th√™m ghi ch√∫ m·ªõi..."></textarea>
                    <div style="text-align: right; margin-top: 8px;">
                        <button class="btn acc small" id="btnAddGeneralNote">Ôºã Th√™m ghi ch√∫</button>
                    </div>
                </div>
            </div>
            <div id="ai" class="tab-content">
                <div class="panel-header" style="margin-bottom: 8px; padding: 0;">
                    <h4 style="margin:0;">Gemini cho: <span id="currentSubtopicNameChat">(ch∆∞a ch·ªçn)</span></h4>
                    <div class="actions">
                        <button id="btnClearChat" class="btn small danger" title="X√≥a l·ªãch s·ª≠">üóëÔ∏è</button>
                    </div>
                </div>
                <div id="chatMessages" class="chat-messages"></div>
                <div id="aiPromptSuggestions" style="display: flex; gap: 6px; margin: 8px 0; flex-wrap: wrap;">
                  <button class="btn small ghost" data-prompt="Gi·∫£i th√≠ch kh√°i ni·ªám ch√≠nh c·ªßa ch·ªß ƒë·ªÅ n√†y">Gi·∫£i th√≠ch kh√°i ni·ªám</button>
                  <button class="btn small ghost" data-prompt="T·∫°o m·ªôt d√†n √Ω chi ti·∫øt cho ch·ªß ƒë·ªÅ n√†y">T·∫°o d√†n √Ω</button>
                  <button class="btn small ghost" data-prompt="Li·ªát k√™ 5 c√¢u h·ªèi √¥n t·∫≠p quan tr·ªçng v·ªÅ ch·ªß ƒë·ªÅ n√†y">T·∫°o c√¢u h·ªèi √¥n t·∫≠p</button>
                </div>
                <div class="chat-input-area">
                  <input type="text" id="chatInput" placeholder="H·ªèi Gemini ƒëi·ªÅu g√¨ ƒë√≥..." />
                  <button id="btnSendMessage" class="btn acc">G·ª≠i</button>
                </div>
            </div>
        </section>
      </div>

      <div id="view-topics" class="view">
        <div class="panel panel-bg">
            <div class="row" style="gap:8px; align-items: center; margin-bottom: 12px;">
                <h3 style="margin: 0;">Qu·∫£n l√Ω Ch·ªß ƒë·ªÅ</h3>
                <button class="btn small acc" id="btnAddTopic" style="margin-left: auto;">Ôºã Th√™m Ch·ªß ƒë·ªÅ</button>
            </div>
            <div id="topicsList"></div>
            <div class="footer-note">Nh·∫•p m≈©i t√™n ƒë·ªÉ m·ªü/ƒë√≥ng danh s√°ch ch·ªß ƒë·ªÅ con.</div>
        </div>
      </div>
      
      <div id="view-stats" class="view">
        <section class="panel panel-bg">
            <h3 style="margin:0 0 12px 0;">Th·ªëng k√™ & L·ªãch s·ª≠ ‚Äî <span id="currentSubtopicName">(ch∆∞a ch·ªçn)</span></h3>
            <div class="stats-grid">
              <div class="stat-card"><h4>T·ªïng th·ªùi gian</h4><div class="stat-value" id="statTotal">0 ph√∫t</div></div>
              <div class="stat-card"><h4>Phi√™n</h4><div class="stat-value" id="statSessions">0</div></div>
              <div class="stat-card"><h4>Nhi·ªám v·ª• Ho√†n th√†nh</h4><div class="stat-value" id="statTasks">0</div></div>
            </div>
            <div style="margin-top:12px">
              <h4 style="margin:4px 0 8px; color:var(--sub)">L·ªãch s·ª≠ (L√ÄM VI·ªÜC)</h4>
              <div class="history" id="historyList"></div>
            </div>
        </section>
      </div>
      
      <div id="view-methods" class="view">
        <div class="panel panel-bg">
            <div class="row" style="gap:8px; align-items: center; margin-bottom: 12px;">
                <h3 style="margin:0;">üí° Kho Tri Th·ª©c C√° Nh√¢n H√≥a</h3>
                <button class="btn small acc" id="btnAddMethod" style="margin-left: auto;">Ôºã Th√™m tri th·ª©c</button>
            </div>
            <p class="tiny" style="margin-top: -8px; margin-bottom: 20px;">Nh·∫•p v√†o t·ª´ng m·ª•c ƒë·ªÉ xem chi ti·∫øt.</p>
            <div class="methods-container"></div>
        </div>
      </div>

      <div id="view-guide" class="view">
          <div class="panel panel-bg">
              <h3 style="margin-top: 0;">üìñ Kh√°m Ph√° Pomodoro Study App</h3>
              <p>
                  Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi kh√¥ng gian h·ªçc t·∫≠p ƒë∆∞·ª£c thi·∫øt k·∫ø d√†nh ri√™ng cho s·ª± t·∫≠p trung v√† hi·ªáu qu·∫£. H√£y c√πng kh√°m ph√° nh·ªØng t√≠nh nƒÉng s·∫Ω ƒë·ªìng h√†nh c√πng b·∫°n tr√™n h√†nh tr√¨nh chinh ph·ª•c tri th·ª©c.
              </p>

              <h4>üöÄ Kh·ªüi ƒê·∫ßu Nhanh Ch·ªâ Trong 4 B∆∞·ªõc</h4>
              <p>ƒê·ªÉ h√†nh tr√¨nh c·ªßa b·∫°n lu√¥n m·∫°ch l·∫°c, m·ªçi th·ª© trong ·ª©ng d·ª•ng ƒë∆∞·ª£c s·∫Øp x·∫øp theo c·∫•u tr√∫c <strong>Ch·ªß ƒë·ªÅ L·ªõn ‚Üí Ch·ªß ƒë·ªÅ con</strong>.</p>
              <ol>
                  <li>M·ªü m·ª•c <strong>üìö Ch·ªß ƒë·ªÅ</strong> t·ª´ thanh ƒëi·ªÅu h∆∞·ªõng b√™n c·∫°nh.</li>
                  <li>Nh·∫•n <strong>Ôºã Th√™m Ch·ªß ƒë·ªÅ</strong> ƒë·ªÉ t·∫°o m·ªôt lƒ©nh v·ª±c l·ªõn (v√≠ d·ª•: "Ti·∫øng Anh Giao Ti·∫øp").</li>
                  <li>B√™n c·∫°nh ch·ªß ƒë·ªÅ v·ª´a t·∫°o, nh·∫•n <strong>Ôºã Th√™m</strong> ƒë·ªÉ t·∫°o m·ªôt ch·ªß ƒë·ªÅ con, chi ti·∫øt h∆°n (v√≠ d·ª•: "B√†i 1: Luy·ªán ph√°t √¢m IPA").</li>
                  <li>Ch·ªçn ch·ªß ƒë·ªÅ con ƒë√≥. Gi·ªù ƒë√¢y, b·∫°n ƒë√£ s·∫µn s√†ng ƒë·ªÉ b·∫Øt ƒë·∫ßu phi√™n h·ªçc ƒë·∫ßu ti√™n c·ªßa m√¨nh!</li>
              </ol>

              <hr />
              <h4>‚ú® Nh·ªØng T√≠nh NƒÉng ƒê√°ng Ch√∫ √ù</h4>

              <h4>C√°c Ch·∫ø ƒê·ªô ƒê·ªìng H·ªì Linh Ho·∫°t ‚è±Ô∏è</h4>
              <p>·ª®ng d·ª•ng kh√¥ng ch·ªâ c√≥ Pomodoro. H√£y ch·ªçn ph∆∞∆°ng ph√°p ph√π h·ª£p v·ªõi c√¥ng vi·ªác c·ªßa b·∫°n:</p>
              <ul>
                  <li><strong>Pomodoro C·ªï ƒêi·ªÉn (Ki·ªÉu A/B):</strong> L√†m vi·ªác t·∫≠p trung trong c√°c phi√™n ƒë·ªãnh s·∫µn (v√≠ d·ª•: 25 ph√∫t l√†m, 5 ph√∫t ngh·ªâ) ƒë·ªÉ x√¢y d·ª±ng k·ª∑ lu·∫≠t v√† nh·ªãp ƒë·ªô.</li>
                  <li><strong>Ch·∫ø ƒë·ªô Flowtime (Ki·ªÉu üåä Flow):</strong> D√†nh cho c√¥ng vi·ªác c·∫ßn d√≤ng ch·∫£y s√¢u. ƒê·ªìng h·ªì s·∫Ω ƒë·∫øm l√™n, cho ph√©p b·∫°n l√†m vi·ªác ƒë·∫øn khi t·ª± c·∫£m th·∫•y c·∫ßn ngh·ªâ. Th·ªùi gian ngh·ªâ s·∫Ω ƒë∆∞·ª£c ƒë·ªÅ xu·∫•t d·ª±a tr√™n th·ªùi gian b·∫°n ƒë√£ l√†m vi·ªác.</li>
                  <li><strong>ƒê·ªám "H·∫° nhi·ªát" (Wind-down):</strong> M·ªôt kho·∫£ng ƒë·ªám t√πy ch·ªânh gi·ªØa l√∫c l√†m v√† l√∫c ngh·ªâ, gi√∫p b·∫°n k·∫øt th√∫c c√¥ng vi·ªác ƒëang d·ªü, ghi ch√∫ l·∫°i "b∆∞·ªõc ti·∫øp theo" v√† chuy·ªÉn tr·∫°ng th√°i m·ªôt c√°ch m∆∞·ª£t m√†, kh√¥ng b·ªã c·∫Øt ngang ƒë·ªôt ng·ªôt.</li>
              </ul>

              <h4>Kho Tri Th·ª©c C√° Nh√¢n H√≥a üí°</h4>
              <p>B·∫°n c√≥ th·ªÉ <strong>Th√™m, S·ª≠a, X√≥a</strong> c√°c ph∆∞∆°ng ph√°p v√† ghi ch√∫ quan tr·ªçng. V·ªõi tr√¨nh so·∫°n th·∫£o m·∫°nh m·∫Ω, b·∫°n d·ªÖ d√†ng ƒë·ªãnh d·∫°ng ti√™u ƒë·ªÅ, in ƒë·∫≠m, t·∫°o danh s√°ch v√† th·∫≠m ch√≠ ch·ªçn m√†u ch·ªØ ƒë·ªÉ l√†m n·ªïi b·∫≠t th√¥ng tin.</p>

              <h4>Qu·∫£n L√Ω Ch·ªß ƒê·ªÅ Tr·ª±c Quan</h4>
              <p>D·ªÖ d√†ng s·∫Øp x·∫øp c√°c m·ª•c ti√™u h·ªçc t·∫≠p c·ªßa b·∫°n. S·ª≠ d·ª•ng thao t√°c <strong>k√©o v√† th·∫£</strong> ƒë·ªÉ s·∫Øp x·∫øp l·∫°i th·ª© t·ª± c√°c Ch·ªß ƒë·ªÅ ho·∫∑c di chuy·ªÉn m·ªôt Ch·ªß ƒë·ªÅ con sang m·ªôt lƒ©nh v·ª±c kh√°c m·ªôt c√°ch tr·ª±c quan.</p>

              <h4>Nhi·ªám V·ª• & Ghi Ch√∫ T√≠ch H·ª£p üìù</h4>
              <p>Ngay trong m√†n h√¨nh ƒë·ªìng h·ªì, b·∫°n c√≥ th·ªÉ t·∫°o danh s√°ch vi·ªác c·∫ßn l√†m (to-do) cho t·ª´ng ch·ªß ƒë·ªÅ con ho·∫∑c ghi l·∫°i nh·ªØng √Ω t∆∞·ªüng ch·ª£t n·∫£y ra m√† kh√¥ng l√†m gi√°n ƒëo·∫°n d√≤ng ch·∫£y c√¥ng vi·ªác.</p>

              <h4>Ch·∫ø ƒê·ªô Zen üßò</h4>
              <p>Khi c·∫ßn t·∫≠p trung tuy·ªát ƒë·ªëi, h√£y nh·∫•n v√†o bi·ªÉu t∆∞·ª£ng con m·∫Øt (üëÅÔ∏è). Giao di·ªán s·∫Ω ·∫©n ƒëi, ch·ªâ ƒë·ªÉ l·∫°i h√¨nh n·ªÅn v√† chi·∫øc ƒë·ªìng h·ªì. Trong ch·∫ø ƒë·ªô n√†y, b·∫°n c√≥ th·ªÉ <strong>k√©o th·∫£ ƒë·ªìng h·ªì</strong> ƒë·∫øn b·∫•t k·ª≥ v·ªã tr√≠ n√†o tr√™n m√†n h√¨nh ƒë·ªÉ c√≥ m·ªôt kh√¥ng gian l√†m vi·ªác g·ªçn g√†ng nh·∫•t.</p>

              <h4>Th·ªëng K√™ & C·ªôt M·ªëc üèÜ</h4>
              <p>Theo d√µi h√†nh tr√¨nh c·ªßa b·∫°n qua nh·ªØng con s·ªë bi·∫øt n√≥i. ·ª®ng d·ª•ng s·∫Ω t·ª± ƒë·ªông ghi nh·∫≠n v√† ch√∫c m·ª´ng khi b·∫°n ƒë·∫°t ƒë∆∞·ª£c nh·ªØng c·ªôt m·ªëc quan tr·ªçng v·ªÅ th·ªùi gian t·∫≠p trung, bi·∫øn m·ªói n·ªó l·ª±c th√†nh m·ªôt th√†nh t·ª±u ƒë√°ng t·ª± h√†o.</p>

              <hr />
              <h4>‚å®Ô∏è Ph√≠m T·∫Øt Th√¥ng Minh</h4>
              <ul>
                  <li><kbd>Space</kbd>: B·∫Øt ƒë·∫ßu / T·∫°m d·ª´ng / Ti·∫øp t·ª•c phi√™n h·ªçc.</li>
                  <li><kbd>N</kbd>: B·ªè qua phi√™n l√†m vi·ªác ho·∫∑c ngh·ªâ hi·ªán t·∫°i.</li>
                  <li><kbd>Esc</kbd>: ƒê√≥ng c√°c c·ª≠a s·ªï ƒëang m·ªü (nh∆∞ C√†i ƒë·∫∑t).</li>
              </ul>

              <hr />
              <h4>üõ†Ô∏è C√†i ƒê·∫∑t N√¢ng Cao & T√≠ch H·ª£p</h4>

              <h4>Tr·ª£ L√Ω Gemini AI üß†</h4>
              <p>Bi·∫øn ·ª©ng d·ª•ng th√†nh m·ªôt ng∆∞·ªùi b·∫°n ƒë·ªìng h√†nh th√¥ng minh. Ngo√†i vi·ªác h·ªèi ƒë√°p, b·∫°n c√≤n c√≥ th·ªÉ:</p>
              <ul>
                  <li><strong>T·ª± ƒë·ªông ƒê·ªãnh d·∫°ng Th√¥ng minh:</strong> Khi so·∫°n th·∫£o trong m·ª•c "Ph∆∞∆°ng ph√°p", h√£y ƒë·ªÉ AI t·ª± ƒë·ªông ph√¢n t√≠ch v√† ƒë·ªãnh d·∫°ng vƒÉn b·∫£n th√¥ c·ªßa b·∫°n‚Äît·ª± nh·∫≠n di·ªán ti√™u ƒë·ªÅ, c√°c √Ω ch√≠nh c·∫ßn in ƒë·∫≠m v√† danh s√°ch.</li>
                  <li><strong>Thi·∫øt l·∫≠p:</strong> Truy c·∫≠p Google AI Studio ƒë·ªÉ t·∫°o API Key mi·ªÖn ph√≠ v√† d√°n v√†o √¥ "Gemini API Key" trong C√†i ƒë·∫∑t c·ªßa ·ª©ng d·ª•ng.</li>
              </ul>

              <h4>T√πy Bi·∫øn Giao Di·ªán & √Çm Thanh üé®</h4>
              <p>Bi·∫øn kh√¥ng gian h·ªçc t·∫≠p th√†nh c·ªßa ri√™ng b·∫°n:</p>
              <ul>
                  <li><strong>Nhi·ªÅu Theme & H√¨nh n·ªÅn:</strong> L·ª±a ch·ªçn gi·ªØa c√°c theme c√≥ s·∫µn (S√°ng, T·ªëi, Pastel...) ho·∫∑c <strong>t·∫£i l√™n h√¨nh n·ªÅn c·ªßa ri√™ng b·∫°n</strong> ƒë·ªÉ t·∫°o c·∫£m h·ª©ng.</li>
                  <li><strong>√Çm b√°o T√πy ch·ªânh:</strong> B·∫°n c√≥ th·ªÉ <strong>t·∫£i l√™n c√°c file √¢m thanh (.mp3, .wav...) c·ªßa ri√™ng m√¨nh</strong> ƒë·ªÉ s·ª≠ d·ª•ng l√†m chu√¥ng b√°o cho c√°c phi√™n l√†m vi·ªác v√† ngh·ªâ ng∆°i.</li>
              </ul>

              <h4>Nh·∫°c N·ªÅn YouTube üé∂</h4>
              <p>T·∫°o kh√¥ng gian h·ªçc t·∫≠p ho√†n h·∫£o b·∫±ng c√°ch ph√°t m·ªôt video ho·∫∑c danh s√°ch ph√°t YouTube l√†m nh·∫°c n·ªÅn. D√°n ƒë∆∞·ªùng d·∫´n (URL) v√†o √¥ "Nh·∫°c n·ªÅn YouTube" trong C√†i ƒë·∫∑t.</p>

              <h4>An To√†n D·ªØ Li·ªáu: Sao L∆∞u & Ph·ª•c H·ªìi üõ°Ô∏è</h4>
              <p>·ª®ng d·ª•ng t·ª± ƒë·ªông sao l∆∞u ti·∫øn tr√¨nh c·ªßa b·∫°n m·ªói ng√†y. B·∫°n c√≥ th·ªÉ t√πy ch·ªânh s·ªë ng√†y l∆∞u gi·ªØ b·∫£n sao l∆∞u v√† ph·ª•c h·ªìi d·ªØ li·ªáu t·ª´ m·ªôt ng√†y trong qu√° kh·ª© n·∫øu c·∫ßn. ‚ö†Ô∏è <strong>C·∫£nh b√°o:</strong> Ph·ª•c h·ªìi s·∫Ω ghi ƒë√® to√†n b·ªô d·ªØ li·ªáu hi·ªán t·∫°i.</p>
          </div>
      </div>
    </main>
  </div>

  <div class="modal" id="modalMilestone" role="dialog" aria-modal="true" aria-labelledby="milestoneTitle">
    <div class="modal-card" style="width: min(600px, 94vw);">
        <h3 id="milestoneTitle">üéâ Ch√∫c m·ª´ng B·∫°n!</h3>
        <p id="milestoneMessage" style="white-space: pre-wrap; line-height: 1.6;"></p>
        <div class="row" style="justify-content:flex-end; margin-top:12px">
            <button class="btn acc" id="btnMilestoneClose">Ti·∫øp t·ª•c h√†nh tr√¨nh!</button>
        </div>
    </div>
  </div>
  <div class="modal" id="modalSettings" role="dialog" aria-modal="true" aria-labelledby="settingsTitle">
      <div class="modal-card">
          <h3 id="settingsTitle">‚öôÔ∏è C√†i ƒë·∫∑t</h3>
          <nav class="tab-nav">
              <button class="tab-btn active" data-tab="settings-timer">ƒê·ªìng h·ªì</button>
              <button class="tab-btn" data-tab="settings-ui">Giao di·ªán & √Çm thanh</button>
              <button class="tab-btn" data-tab="settings-integrations">T√≠ch h·ª£p</button>
          </nav>
          <div class="settings-content">
              <div id="settings-timer" class="tab-content active" style="flex-direction:column; gap:20px;">
                  <div class="row" id="timerPresetSelector" style="margin-bottom:16px;">
                      <button class="btn acc" data-preset-target="A"> Ki·ªÉu A </button>
                      <button class="btn ghost" data-preset-target="B"> Ki·ªÉu B </button>
                      <button class="btn ghost" data-preset-target="C"> Ki·ªÉu C (Flow) </button>
                  </div>
                  <div id="settings-pomodoro">
                      <h4>Th·ªùi l∆∞·ª£ng Pomodoro</h4>
                      <div class="row">
                          <label>L√ÄM VI·ªÜC (ph√∫t)<input type="number" id="set_work" min="1" /></label>
                          <label>H·∫† NHI·ªÜT (ph√∫t)<input type="number" id="set_winddown" min="0" /></label>
                          <label>NGH·ªà NG·∫ÆN (ph√∫t)<input type="number" id="set_short" min="1" /></label>
                          <label>NGH·ªà D√ÄI (ph√∫t)<input type="number" id="set_long" min="1" /></label>
                      </div>
                      <div class="row">
                          <label>Chu k·ª≥ Pomodoro<input type="number" id="set_cycles" min="1" /></label>
                          <label>Chu k·ª≥ ngh·ªâ d√†i<input type="number" id="set_interval" min="2" /></label>
                      </div>
                  </div>
                  <div id="settings-flowtime" class="hidden">
                      <h4>Flowtime</h4>
                      <div class="row">
                          <label>T·ª∑ l·ªá ngh·ªâ (L√†m vi·ªác / X)
                              <input type="number" id="set_flowRatio" min="1" max="20" />
                          </label>
                      </div>
                      <p class="tiny" style="margin-top: 4px;">G·ª£i √Ω: Th·ªùi gian ngh·ªâ = t·ªïng th·ªùi gian l√†m vi·ªác / X. M·∫∑c ƒë·ªãnh l√† 5.</p>
                  </div>
                  <div class="settings-row-toggle">
                          <label for="set_autoStartNext">T·ª± ƒë·ªông b·∫Øt ƒë·∫ßu phi√™n ti·∫øp theo</label>
                          <label class="toggle-switch">
                              <input type="checkbox" id="set_autoStartNext">
                              <span class="slider"></span>
                          </label>
                      </div>
                  <div class="settings-row-toggle">
                          <label for="set_enableWinddown">B·∫≠t H·∫° nhi·ªát sau phi√™n l√†m</label>
                          <label class="toggle-switch">
                              <input type="checkbox" id="set_enableWinddown">
                              <span class="slider"></span>
                          </label>
                      </div>
                  <div class="settings-row-toggle">
                          <label for="set_enableSessionNotes">Nh·∫Øc ghi ch√∫ sau m·ªói phi√™n</label>
                          <label class="toggle-switch">
                              <input type="checkbox" id="set_enableSessionNotes">
                              <span class="slider"></span>
                          </label>
                      </div>
              </div>
              <div id="settings-ui" class="tab-content" style="flex-direction: column; gap: 20px;">
                  <div>
                      <h4>Giao di·ªán</h4>
                      <div class="row">
                          <label>Theme Giao Di·ªán
                                <select id="set_theme_color">
                                    <option value="default">M·∫∑c ƒë·ªãnh (Dark Blue)</option>
                                    <option value="light">Light - Tr√† S·ªØa</option>
                                    <option value="pastel">Pastel - D·ªÖ th∆∞∆°ng</option>
                                    <option value="lofi">Lofi Study Room</option>
                                    <option value="space">Space Station</option>
                                </select>
                          </label>
                      </div>
                      <div class="row" style="margin-top: 12px;">
                          <label>Ch·∫ø ƒë·ªô hi·ªÉn th·ªã n·ªÅn
                              <select id="set_backgroundMode">
                                  <option value="cover">L·∫•p ƒë·∫ßy (M·∫∑c ƒë·ªãnh)</option>
                                  <option value="contain">V·ª´a v·∫∑n (S·∫Øc n√©t)</option>
                                  <option value="auto">K√≠ch th∆∞·ªõc g·ªëc (L·∫∑p l·∫°i)</option>
                              </select>
                          </label>
                      </div>
                      <div class="row">
                          <label>H√¨nh n·ªÅn
                              <label class="btn small ghost" for="uploadBg">T·∫£i ·∫£nh m·ªõi</label>
                              <input type="file" id="uploadBg" accept="image/*" class="hidden" />
                          </label>
                          <button class="btn small danger" id="btnClearBg">X√≥a n·ªÅn</button>
                      </div>
                      <div class="row">
                          <label style="flex: 1;">ƒê·ªô trong su·ªët c·ªßa n·ªÅn</label>
                          <input type="range" id="set_panelOpacity" min="0.1" max="1" step="0.05" style="flex: 2;">
                      </div>
                      
                      
                   </div>
                  
                   <div>
                      <h4>√Çm thanh</h4>
                      <div class="row">
                          <label>√Çm l∆∞·ª£ng (0‚Äì1)<input type="number" id="set_volume" step="0.05" min="0" max="1"/></label>
                          <label>Ki·ªÉu √¢m b√°o
                              <select id="set_theme">
                                  <option value="beep">Beep</option>
                                  <option value="chime">Chime</option>
                              </select>
                          </label>
                           <button class="btn" id="btnTestSound" style="flex: 0 1 auto; align-self: center;">Test</button>
                      </div>
                      <div style="text-align: right; margin-top: 12px;">
                          <button class="btn ghost small" id="btnToggleCustomSounds">T√πy ch·ªânh √¢m b√°o</button>
                      </div>

                      <div id="customSoundsContainer" class="hidden" style="margin-top: 8px;">
                      <div class="row" style="display: flex; gap: 8px; justify-content: flex-end;">
                          <div>
                              <small>√Çm b√°o h·∫øt L√ÄM VI·ªÜC</small>
                              <label title="√Çm b√°o h·∫øt L√ÄM VI·ªÜC" class="btn small ghost" for="uploadSoundWork">L√ÄM VI·ªÜC</label>
                              <input type="file" id="uploadSoundWork" accept="audio/*" class="hidden" />
                          </div>
                          <div>
                              <small>√Çm b√°o h·∫øt NGH·ªà NG·∫ÆN</small>
                              <label title="√Çm b√°o h·∫øt NGH·ªà NG·∫ÆN" class="btn small ghost" for="uploadSoundBreak">NGH·ªà NG·∫ÆN</label>
                              <input type="file" id="uploadSoundBreak" accept="audio/*" class="hidden" />
                          </div>
                          <div>
                              <small>√Çm b√°o h·∫øt NGH·ªà D√ÄI</small>
                              <label title="√Çm b√°o h·∫øt NGH·ªà D√ÄI" class="btn small ghost" for="uploadSoundLong">NGH·ªà D√ÄI</label>
                              <input type="file" id="uploadSoundLong" accept="audio/*" class="hidden" />
                          </div>
                      </div>
                      </div>
                      
                  </div>
              </div>
              <div id="settings-integrations" class="tab-content" style="flex-direction: column; gap: 20px;">
                  <div>
                      <h4>T√≠ch h·ª£p AI</h4>
                      <label>Gemini API Key
                          <input type="password" id="set_apiKey" placeholder="D√°n API Key c·ªßa b·∫°n v√†o ƒë√¢y..." />
                      </label>
                      <div class="tiny">C·∫ßn c√≥ ƒë·ªÉ s·ª≠ d·ª•ng c√°c t√≠nh nƒÉng AI. L·∫•y key mi·ªÖn ph√≠ t·∫°i <a href="https://aistudio.google.com/app/apikey" target="_blank" rel="noopener noreferrer">Google AI Studio</a>.</div>
                  </div>
                  <div>
                      <h4>üéµ Nh·∫°c n·ªÅn YouTube</h4>
                      <div class="row" style="gap:8px; align-items:center;">
                          <input type="text" id="set_youtubeUrl" placeholder="D√°n link YouTube v√†o ƒë√¢y..." style="flex:1;">
                          </div>
                      <div id="ytUrlFeedback" class="tiny" style="min-height: 1.2em; padding: 4px 0;"></div>
                      <div class="row" style="margin-top: 4px;">
                          <label style="flex: 0 1 auto; display: flex; align-items: center; gap: 8px; font-size: 14px;">
                              <input type="checkbox" id="set_ytThumbAsBg">
                              <span>D√πng ·∫£nh b√¨a video l√†m n·ªÅn</span>
                          </label>
                      </div>
                      <div class="row" style="margin-top: 8px;">
                          <button id="btnToggleYtSound" class="btn small" style="flex:0 1 auto;" title="D·ª´ng s·∫Ω kh√¥ng t·ª± ph√°t l·∫°i cho ƒë·∫øn khi b·∫°n b·∫•m ‚ñ∂Ô∏è">‚ñ∂Ô∏è</button>
                          <input type="range" id="ytSoundVolume" min="0" max="100" step="1" value="80" style="flex:1;">
                      </div>
                      <div class="tiny" style="text-align:center; margin-top:4px;">√Çm l∆∞·ª£ng</div>
                  </div>
                  <div>
                      <h4>üõ°Ô∏è C√†i ƒë·∫∑t sao l∆∞u</h4>
                      <div class="row">
                          <label>S·ªë ng√†y sao l∆∞u c·∫ßn gi·ªØ l·∫°i
                               <input type="number" id="set_backupDays" min="1" max="30" />
                          </label>
                      </div>
                  </div>
                  <div>
                      <h4>üõ°Ô∏è Ph·ª•c h·ªìi d·ªØ li·ªáu</h4>
                      <p class="tiny">Ph·ª•c h·ªìi d·ªØ li·ªáu t·ª´ m·ªôt b·∫£n sao l∆∞u t·ª± ƒë·ªông h√†ng ng√†y. H√†nh ƒë·ªông n√†y s·∫Ω ghi ƒë√® l√™n d·ªØ li·ªáu hi·ªán t·∫°i c·ªßa b·∫°n.</p>
                      <div class="row">
                          <select id="backupList" style="flex: 3;"></select>
                          <button id="btnRestoreBackup" class="btn warn small" style="flex: 1;">Ph·ª•c h·ªìi</button>
                      </div>
                  </div>
              </div>
          </div>
          <div class="row" style="margin-top:16px; justify-content:flex-end">
              <button class="btn ghost" id="btnDefaults">M·∫∑c ƒë·ªãnh</button>
              <button class="btn acc" id="btnSaveSettings">L∆∞u</button>
              <button class="btn" id="btnCloseSettings">ƒê√≥ng</button>
          </div>
      </div>
  </div>

  <div class="modal" id="modalNote" role="dialog" aria-modal="true" aria-labelledby="noteTitle">
    <div class="modal-card">
      <h3 id="noteTitle">üìù Ghi ch√∫ cho phi√™n v·ª´a ho√†n th√†nh</h3>
      <div class="row"><textarea id="noteText" placeholder="B·∫°n h·ªçc ƒë∆∞·ª£c g√¨? Kh√≥ khƒÉn? Next steps?"></textarea></div>
      <div class="row" style="justify-content:flex-end; margin-top:8px; gap: 12px;">
        <button class="btn" id="btnSummarizeNote">‚ú® T√≥m t·∫Øt & G·ª£i √Ω</button>
        <button class="btn" id="btnSkipNote">B·ªè qua</button>
        <button class="btn acc" id="btnSaveNote">L∆∞u ghi ch√∫</button>
      </div>
    </div>
  </div>

  <div class="modal" id="modalGeneric" role="dialog" aria-modal="true" aria-labelledby="genericTitle">
      <div class="modal-card" style="width: min(450px, 94vw);">
          <h3 id="genericTitle">Ti√™u ƒë·ªÅ</h3>
          <p id="genericMessage" class="hidden"></p>
          <input type="text" id="genericInput" class="hidden" />
          <div class="row" style="justify-content:flex-end; margin-top:12px">
              <button class="btn" id="btnGenericCancel">H·ªßy</button>
              <button class="btn acc" id="btnGenericOk">OK</button>
          </div>
      </div>
  </div>
  
  <div class="modal" id="modalDashboard" role="dialog" aria-modal="true" aria-labelledby="dashboardTitle">
    <div class="modal-card" style="width: min(800px, 95vw);">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <h3 id="dashboardTitle">üìä T·ªïng quan</h3>
            <button class="btn ghost small" id="btnCloseDashboard">ƒê√≥ng</button>
        </div>
        <p class="tiny">T·ªïng h·ª£p th·ªùi gian v√† s·ªë phi√™n ƒë√£ ho√†n th√†nh tr√™n t·∫•t c·∫£ c√°c ch·ªß ƒë·ªÅ.</p>
        <div id="dashboardContent" style="max-height: 60vh; overflow-y: auto;"></div>
    </div>
  </div>

  <div class="modal" id="modalMethodEditor" role="dialog" aria-modal="true">
    <div class="modal-card" style="width: min(800px, 95vw);">
      <h3 id="methodEditorTitle">Ch·ªânh-s·ª≠a Ph∆∞∆°ng-ph√°p</h3>
      
      <div style="display: flex; flex-direction: column; gap: 12px; margin-top: 12px;">
        <input type="hidden" id="methodEditorId">
        <label>Ti√™u-ƒë·ªÅ<input type="text" id="methodEditorTitleInput"></label>
        
        <label>N·ªôi-dung</label>
        <div class="editor-toolbar">
          <button id="toolH4" class="btn small ghost" title="Ti√™u-ƒë·ªÅ nh·ªè">H</button>
          <button id="toolBold" class="btn small ghost" title="In ƒë·∫≠m">B</button>
          <button id="toolItalic" class="btn small ghost" title="In nghi√™ng">I</button>
          <button id="toolList" class="btn small ghost" title="Danh-s√°ch">1.</button>
          <button id="toolBullet" class="btn small ghost" title="Danh s√°ch ch·∫•m tr√≤n">‚Ä¢</button>

          <div class="color-picker-wrapper">
            <button id="toolColor" class="btn small ghost" title="M√†u ch·ªØ">A</button>
            <div class="color-palette hidden">
              <button class="color-swatch" style="background-color: var(--text);" data-color="var(--text)" title="M√†u ch·ªØ m·∫∑c ƒë·ªãnh"></button>
              <button class="color-swatch" style="background-color: var(--acc);" data-color="var(--acc)" title="M√†u nh·∫•n m·∫°nh"></button>
              <button class="color-swatch" style="background-color: var(--acc-2);" data-color="var(--acc-2)" title="M√†u t√≠ch c·ª±c"></button>
              <button class="color-swatch" style="background-color: var(--warn);" data-color="var(--warn)" title="M√†u c·∫£nh b√°o"></button>
              <button class="color-swatch" style="background-color: var(--danger);" data-color="var(--danger)" title="M√†u nguy hi·ªÉm"></button>
              <button class="color-swatch" style="background-color: var(--purple);" data-color="var(--purple)" title="M√†u t√≠m"></button>
            </div>
          </div>
        </div>

        <div class="editor-container">
            <div id="methodEditorContentInput" class="editable-content" contenteditable="true"></div>
        </div>

      </div>

      <div class="row" style="justify-content:space-between; margin-top:16px">
        <button id="btnAutoFormat" class="btn small" disabled title="T√≠nh nƒÉng n√†y y√™u c·∫ßu Gemini API Key">‚ú® T·ª± ƒë·ªông ƒë·ªãnh d·∫°ng</button>
        <div>
          <button class="btn" id="btnCancelMethodEditor">H·ªßy</button>
          <button class="btn acc" id="btnSaveMethod">L∆∞u</button>
        </div>
      </div>
    </div>
  </div>

  <div class="toasts" id="toasts"></div>
  <audio id="audioWorkEnd"></audio>
  <audio id="audioBreakEnd"></audio>
  <audio id="audioLongEnd"></audio>
  <div id="youtube-player-container"></div>

  <div id="draggableTimer" class="draggable-timer">00:00</div>

  <div id="soundPermissionBar" class="sound-permission-bar" role="alert" aria-live="polite">
    <span class="msg">Nh·∫•n "B·∫≠t √¢m thanh" ƒë·ªÉ cho ph√©p ph√°t nh·∫°c n·ªÅn.</span>
    <button id="btnEnableSound" class="btn small acc">B·∫≠t √¢m thanh</button>
  </div>
<!-- YouTube Iframe API is loaded dynamically when needed -->
<!-- === START: Inline Minimal Sortable (Offline-Safe) === -->
<script>
// Minimal Sortable shim for offline single-file usage.
// Supports: draggable selector, cross-list via same group, onEnd callback.
(function(){
  if (window.Sortable) return; // Respect existing if loaded
  const DND = { src: null, from: null, selector: null, group: null };
  function makeDraggable(container, selector){
    Array.from(container.querySelectorAll(selector)).forEach(el => {
      try { el.setAttribute('draggable','true'); } catch(_) {}
    });
  }
  function closestItem(e, selector){
    const t = e.target && e.target.closest ? e.target.closest(selector) : null;
    return t || null;
  }
  function Sortable(container, opts){
    this.el = container;
    this.options = opts || {};
    const selector = this.options.draggable || '*';
    const group = this.options.group || null;
    makeDraggable(container, selector);
    const handleDragStart = (e) => {
      const item = closestItem(e, selector);
      if (!item) return;
      DND.src = item; DND.from = container; DND.selector = selector; DND.group = group;
      e.dataTransfer.effectAllowed = 'move';
      try { e.dataTransfer.setData('text/plain', ''); } catch(_) {}
    };
    const handleDragOver = (e) => {
      if (!DND.src) return;
      // Only allow drop if same selector and group matches (or no group)
      const sameGroup = (!group && !DND.group) || (group && DND.group && group === DND.group);
      if (!sameGroup) return;
      const target = closestItem(e, selector);
      if (!target) return;
      e.preventDefault();
    };
    const handleDrop = (e) => {
      if (!DND.src) return;
      const sameGroup = (!group && !DND.group) || (group && DND.group && group === DND.group);
      if (!sameGroup) return;
      const target = closestItem(e, selector);
      if (!target) return;
      e.preventDefault();
      const from = DND.from;
      const to = container;
      const children = Array.from(from.querySelectorAll(DND.selector));
      const oldIndex = children.indexOf(DND.src);
      if (target && DND.src && target !== DND.src) {
        to.insertBefore(DND.src, target);
      }
      const newChildren = Array.from(to.querySelectorAll(DND.selector));
      const newIndex = newChildren.indexOf(DND.src);
      if (typeof this.options.onEnd === 'function') {
        try { this.options.onEnd({ oldIndex, newIndex, from, to, item: DND.src }); } catch(_) {}
      }
      DND.src = null; DND.from = null; DND.selector = null; DND.group = null;
    };
    this._listeners = { handleDragStart, handleDragOver, handleDrop };
    container.addEventListener('dragstart', handleDragStart);
    container.addEventListener('dragover', handleDragOver);
    container.addEventListener('drop', handleDrop);
    this.destroy = () => {
      container.removeEventListener('dragstart', handleDragStart);
      container.removeEventListener('dragover', handleDragOver);
      container.removeEventListener('drop', handleDrop);
    };
  }
  window.Sortable = Sortable;
})();
</script>
<!-- === END: Inline Minimal Sortable === -->
  <script>
   const _0x2ebaf0=_0x5e48;(function(_0x128091,_0x1aa1e3){const _0x57b8c1=_0x5e48,_0x339365=_0x128091();while(!![]){try{const _0x3199db=parseInt(_0x57b8c1(0x119))/0x1+parseInt(_0x57b8c1(0x1cb))/0x2*(-parseInt(_0x57b8c1(0x19d))/0x3)+-parseInt(_0x57b8c1(0x3fe))/0x4+-parseInt(_0x57b8c1(0x174))/0x5+-parseInt(_0x57b8c1(0x1dc))/0x6*(parseInt(_0x57b8c1(0x2b6))/0x7)+-parseInt(_0x57b8c1(0x238))/0x8*(parseInt(_0x57b8c1(0x168))/0x9)+parseInt(_0x57b8c1(0x1d1))/0xa;if(_0x3199db===_0x1aa1e3)break;else _0x339365['push'](_0x339365['shift']());}catch(_0x289b16){_0x339365['push'](_0x339365['shift']());}}}(_0x3bcb,0x3fb5d),window[_0x2ebaf0(0x3ed)](_0x2ebaf0(0x134),()=>{try{updateFullscreenButton();}catch(_0x35c807){}}));const IS_FILE_PROTOCOL=window[_0x2ebaf0(0x39c)][_0x2ebaf0(0x129)]===_0x2ebaf0(0x328);function startYtApiWatchdog(){const _0x26ab35=_0x2ebaf0,_0xbf050f=document[_0x26ab35(0x42e)](_0x26ab35(0x132));if(!_0xbf050f)return;const _0x454886=setTimeout(()=>{const _0x47aab5=_0x26ab35;try{(!window['YT']||!window['YT'][_0x47aab5(0x11e)])&&(_0xbf050f['textContent']=_0x47aab5(0x3ec),_0xbf050f[_0x47aab5(0x2a4)]['color']=_0x47aab5(0x32c));}catch(_0x1c4ac4){}},0x5dc),_0x120559=setTimeout(()=>{const _0x4fc5d6=_0x26ab35;try{(!window['YT']||!window['YT'][_0x4fc5d6(0x11e)])&&(_0xbf050f[_0x4fc5d6(0x196)]=_0x4fc5d6(0x2a3),_0xbf050f[_0x4fc5d6(0x2a4)]['color']=_0x4fc5d6(0x261));}catch(_0x5612c3){}},0x1b58);window['__ytApiWatchdog']={'cancel'(){clearTimeout(_0x454886),clearTimeout(_0x120559);}};}(function(){const _0x2896d9=_0x2ebaf0,_0x121f9b={'timer.cycleInfo':({current:current=0x0,target:target=0x0}={})=>'Chu\x20k·ª≥\x20'+current+'/'+target,'timer.selectSubtopicPrompt':_0x2896d9(0x3a0)};window['t']=function _0x4f6783(_0x44e9b0,_0x4e7a6d){const _0xea4418=_0x2896d9;try{const _0x26bf9d=_0x121f9b[_0x44e9b0];if(typeof _0x26bf9d==='function')return _0x26bf9d(_0x4e7a6d||{});if(typeof _0x26bf9d===_0xea4418(0x3da))return _0x26bf9d;}catch(_0x13e3a6){}return _0x44e9b0;},window[_0x2896d9(0x2f6)]=function _0x25290e(_0x4e2725){const _0x4e99c4=_0x2896d9;try{localStorage[_0x4e99c4(0x128)](_0x4e99c4(0x1e0),_0x4e2725||'vi');}catch(_0x53c937){}return Promise[_0x4e99c4(0x1e9)]();};}());function ensureYouTubeAPI(){const _0x273152=_0x2ebaf0;if(IS_FILE_PROTOCOL)return Promise['resolve'](![]);try{if(window['YT']&&window['YT'][_0x273152(0x11e)])return Promise[_0x273152(0x1e9)](!![]);}catch(_0x858185){}if(window['__ytApiPromise'])return window[_0x273152(0x277)];return startYtApiWatchdog(),window['__ytApiPromise']=new Promise((_0x3bbf06,_0x3c4d5d)=>{const _0xc98b6b=_0x273152;try{const _0x57be32=document[_0xc98b6b(0x407)](_0xc98b6b(0x3ac));_0x57be32[_0xc98b6b(0x199)]='https://www.youtube.com/iframe_api',_0x57be32[_0xc98b6b(0x138)]=!![],_0x57be32[_0xc98b6b(0x239)]=!![],_0x57be32[_0xc98b6b(0x180)]=()=>_0x3bbf06(!![]),_0x57be32[_0xc98b6b(0x258)]=()=>_0x3c4d5d(new Error('Failed\x20to\x20load\x20YouTube\x20API')),document[_0xc98b6b(0x383)]['appendChild'](_0x57be32);}catch(_0x1c75ee){_0x3c4d5d(_0x1c75ee);}}),window[_0x273152(0x277)];}const storageManager={'DB_NAME':'PomodoroAppDB','DB_VERSION':0x1,'db':null,async 'initDB'(){return new Promise((_0x3c9f4e,_0x11dd1)=>{const _0x4c7adf=_0x5e48;if(this['db'])return _0x3c9f4e(this['db']);const _0x41bc5a=indexedDB['open'](this[_0x4c7adf(0x30a)],this['DB_VERSION']);_0x41bc5a[_0x4c7adf(0x2dd)]=_0xd8b02f=>{const _0x376f3a=_0x4c7adf,_0x5279f8=_0xd8b02f[_0x376f3a(0x23a)][_0x376f3a(0x20e)];!_0x5279f8[_0x376f3a(0x39d)]['contains']('settings')&&_0x5279f8[_0x376f3a(0x42f)]('settings');!_0x5279f8[_0x376f3a(0x39d)][_0x376f3a(0x214)](_0x376f3a(0x220))&&_0x5279f8[_0x376f3a(0x42f)](_0x376f3a(0x220),{'keyPath':'id'});if(!_0x5279f8[_0x376f3a(0x39d)]['contains'](_0x376f3a(0x294))){const _0xff472d=_0x5279f8[_0x376f3a(0x42f)](_0x376f3a(0x294),{'keyPath':'id'});_0xff472d[_0x376f3a(0x394)](_0x376f3a(0x438),_0x376f3a(0x287));}!_0x5279f8['objectStoreNames'][_0x376f3a(0x214)](_0x376f3a(0x2e4))&&_0x5279f8[_0x376f3a(0x42f)](_0x376f3a(0x2e4),{'keyPath':'date'});},_0x41bc5a[_0x4c7adf(0x25d)]=_0x5d107d=>{const _0x157d48=_0x4c7adf;this['db']=_0x5d107d[_0x157d48(0x23a)][_0x157d48(0x20e)],console[_0x157d48(0x159)](_0x157d48(0x293)),_0x3c9f4e(this['db']);},_0x41bc5a[_0x4c7adf(0x258)]=_0x2c4774=>{const _0x11b648=_0x4c7adf;console[_0x11b648(0x143)](_0x11b648(0x3a6),_0x2c4774[_0x11b648(0x23a)][_0x11b648(0x3f5)]),_0x11dd1(_0x2c4774[_0x11b648(0x23a)][_0x11b648(0x143)]);};});},async '_getStore'(_0x1c2d88,_0x464065=_0x2ebaf0(0x1c8)){const _0x5b82b3=_0x2ebaf0;await this[_0x5b82b3(0x165)]();const _0x36821d=this['db'][_0x5b82b3(0x361)]([_0x1c2d88],_0x464065);return _0x36821d['objectStore'](_0x1c2d88);},async 'getSettings'(){const _0x241a70=_0x2ebaf0,_0x3701e6=await this[_0x241a70(0x1d9)](_0x241a70(0x3fb));return new Promise((_0x2d579b,_0x563c60)=>{const _0x3ca1da=_0x241a70,_0x1da6db=_0x3701e6[_0x3ca1da(0x34a)](_0x3ca1da(0x237));_0x1da6db[_0x3ca1da(0x25d)]=()=>_0x2d579b(_0x1da6db[_0x3ca1da(0x20e)]),_0x1da6db[_0x3ca1da(0x258)]=()=>_0x563c60(_0x1da6db[_0x3ca1da(0x143)]);});},async 'updateSettings'(_0x2d4cf1){const _0x277972=_0x2ebaf0,_0x6a60fc=await this[_0x277972(0x1d9)](_0x277972(0x3fb),_0x277972(0x37f));return new Promise((_0x4c3d59,_0x561642)=>{const _0x2857aa=_0x277972,_0x46316e=_0x6a60fc[_0x2857aa(0x121)](_0x2d4cf1,'main_settings');_0x46316e['onsuccess']=()=>_0x4c3d59(_0x46316e[_0x2857aa(0x20e)]),_0x46316e[_0x2857aa(0x258)]=()=>_0x561642(_0x46316e['error']);});},async 'getAll'(_0x550fbe){const _0x259100=_0x2ebaf0,_0x73afd1=await this[_0x259100(0x1d9)](_0x550fbe);return new Promise((_0x3b6c45,_0x5e38bd)=>{const _0x2e79ba=_0x259100,_0xdbb854=_0x73afd1[_0x2e79ba(0x31c)]();_0xdbb854['onsuccess']=()=>_0x3b6c45(_0xdbb854[_0x2e79ba(0x20e)]),_0xdbb854['onerror']=()=>_0x5e38bd(_0xdbb854[_0x2e79ba(0x143)]);});},async 'update'(_0x3d2086,_0xcdf768){const _0x2bda2e=_0x2ebaf0,_0x493548=await this[_0x2bda2e(0x1d9)](_0x3d2086,'readwrite');return new Promise((_0x40c3d8,_0xb54a5f)=>{const _0x52e86c=_0x2bda2e,_0x464645=_0x493548['put'](_0xcdf768);_0x464645[_0x52e86c(0x25d)]=()=>_0x40c3d8(_0x464645[_0x52e86c(0x20e)]),_0x464645[_0x52e86c(0x258)]=()=>_0xb54a5f(_0x464645[_0x52e86c(0x143)]);});},async 'add'(_0x5b5dd5,_0x21941f){const _0x5ba961=_0x2ebaf0,_0x3f356b=await this[_0x5ba961(0x1d9)](_0x5b5dd5,_0x5ba961(0x37f));return new Promise((_0x553bbf,_0x27b8a2)=>{const _0x454721=_0x5ba961,_0x3f6f27=_0x3f356b[_0x454721(0x1ed)](_0x21941f);_0x3f6f27[_0x454721(0x25d)]=()=>_0x553bbf(_0x3f6f27[_0x454721(0x20e)]),_0x3f6f27['onerror']=()=>_0x27b8a2(_0x3f6f27[_0x454721(0x143)]);});},async 'delete'(_0x3be882,_0x3e7a94){const _0x1166d9=_0x2ebaf0,_0x46e195=await this[_0x1166d9(0x1d9)](_0x3be882,_0x1166d9(0x37f));return new Promise((_0x18dfa8,_0x1aee4c)=>{const _0x3bc610=_0x1166d9,_0x4ac8c5=_0x46e195[_0x3bc610(0x1fd)](_0x3e7a94);_0x4ac8c5[_0x3bc610(0x25d)]=()=>_0x18dfa8(_0x4ac8c5[_0x3bc610(0x20e)]),_0x4ac8c5[_0x3bc610(0x258)]=()=>_0x1aee4c(_0x4ac8c5[_0x3bc610(0x143)]);});},async 'save'(_0x36a57e){return await this['initDB'](),new Promise((_0x10a5a3,_0x50680e)=>{const _0x4aa27a=_0x5e48,_0x172f03=this['db']['transaction']([_0x4aa27a(0x3fb),_0x4aa27a(0x220),_0x4aa27a(0x294)],_0x4aa27a(0x37f)),_0x24df29=_0x172f03[_0x4aa27a(0x306)](_0x4aa27a(0x3fb)),_0x240510=_0x172f03[_0x4aa27a(0x306)](_0x4aa27a(0x220)),_0x14e2cd=_0x172f03['objectStore']('subtopics');_0x24df29[_0x4aa27a(0x121)](_0x36a57e[_0x4aa27a(0x3fb)],_0x4aa27a(0x237)),_0x240510[_0x4aa27a(0x118)](),_0x14e2cd['clear'](),_0x36a57e[_0x4aa27a(0x220)][_0x4aa27a(0x17a)](_0x17737d=>{const _0x1f1299=_0x4aa27a,{subtopics:_0x299ce3,..._0x174985}=_0x17737d;_0x240510[_0x1f1299(0x121)](_0x174985),(_0x299ce3||[])[_0x1f1299(0x17a)](_0x58e884=>_0x14e2cd[_0x1f1299(0x121)](_0x58e884));}),_0x172f03['oncomplete']=()=>_0x10a5a3(),_0x172f03[_0x4aa27a(0x258)]=_0x28e113=>_0x50680e(_0x28e113['target'][_0x4aa27a(0x143)]);});},async 'autoBackup'(_0x598012){const _0x124865=_0x2ebaf0;await this[_0x124865(0x165)]();const _0x2d1d1e=new Date()['toISOString']()[_0x124865(0x1b8)](0x0,0xa),_0x3c3176=localStorage[_0x124865(0x3bf)](_0x124865(0x1df));if(_0x2d1d1e!==_0x3c3176){console[_0x124865(0x159)](_0x124865(0x269)+_0x2d1d1e+'...');const _0x30a2db={'date':_0x2d1d1e,'data':JSON[_0x124865(0x1b5)](JSON[_0x124865(0x428)](_0x598012))},_0x1c3c4f=this['db'][_0x124865(0x361)]([_0x124865(0x2e4)],_0x124865(0x37f)),_0x5ed015=_0x1c3c4f['objectStore']('backups'),_0x37206a=_0x5ed015[_0x124865(0x121)](_0x30a2db);_0x37206a[_0x124865(0x25d)]=()=>{const _0xcbf128=_0x124865;localStorage[_0xcbf128(0x128)]('lastBackupDate',_0x2d1d1e),console[_0xcbf128(0x159)](_0xcbf128(0x2d9)),this['cleanupOldBackups'](_0x598012?.[_0xcbf128(0x3fb)]?.[_0xcbf128(0x368)]||0x7);},_0x37206a[_0x124865(0x258)]=_0x3be323=>{const _0x33f456=_0x124865;console[_0x33f456(0x143)](_0x33f456(0x3b2),_0x3be323[_0x33f456(0x23a)][_0x33f456(0x143)]);};}},async 'cleanupOldBackups'(_0x13a5f9){const _0x1c1051=_0x2ebaf0;await this[_0x1c1051(0x165)]();const _0x51128c=this['db'][_0x1c1051(0x361)](['backups'],_0x1c1051(0x37f)),_0x1bb8c4=_0x51128c[_0x1c1051(0x306)](_0x1c1051(0x2e4)),_0x5061e8=_0x1bb8c4[_0x1c1051(0x2de)]();_0x5061e8[_0x1c1051(0x25d)]=()=>{const _0x22f697=_0x1c1051,_0x46866b=_0x5061e8[_0x22f697(0x20e)][_0x22f697(0x36f)]()[_0x22f697(0x25f)]();if(_0x46866b[_0x22f697(0x402)]>_0x13a5f9){const _0x5d8c6b=_0x46866b[_0x22f697(0x1b8)](_0x13a5f9);_0x5d8c6b[_0x22f697(0x17a)](_0x3b6c5b=>{const _0xa59c13=_0x22f697;_0x1bb8c4['delete'](_0x3b6c5b),console[_0xa59c13(0x159)]('Deleted\x20old\x20backup:\x20'+_0x3b6c5b);});}};},async 'getBackupList'(){const _0x222502=_0x2ebaf0;return await this[_0x222502(0x165)](),new Promise((_0x3e0cde,_0x4593b1)=>{const _0x2f78e8=_0x222502,_0x116158=this['db'][_0x2f78e8(0x361)]([_0x2f78e8(0x2e4)],'readonly'),_0x2efe05=_0x116158[_0x2f78e8(0x306)](_0x2f78e8(0x2e4)),_0x26113c=_0x2efe05['getAll']();_0x26113c[_0x2f78e8(0x25d)]=()=>_0x3e0cde(_0x26113c['result'][_0x2f78e8(0x36f)]((_0x38d87a,_0x36bb1b)=>_0x36bb1b[_0x2f78e8(0x200)][_0x2f78e8(0x274)](_0x38d87a[_0x2f78e8(0x200)]))),_0x26113c[_0x2f78e8(0x258)]=_0x20a0b3=>_0x4593b1(_0x20a0b3[_0x2f78e8(0x23a)][_0x2f78e8(0x143)]);});},async 'restoreBackup'(_0x3825d8){const _0x5dac66=_0x2ebaf0;return await this[_0x5dac66(0x165)](),new Promise((_0x268dc6,_0x1e078c)=>{const _0x30d36e=_0x5dac66,_0x10eeac=this['db'][_0x30d36e(0x361)]([_0x30d36e(0x2e4)],_0x30d36e(0x1c8)),_0x459ab3=_0x10eeac[_0x30d36e(0x306)](_0x30d36e(0x2e4)),_0x4775b5=_0x459ab3['get'](_0x3825d8);_0x4775b5[_0x30d36e(0x25d)]=()=>{const _0xd9fcc3=_0x30d36e;_0x4775b5[_0xd9fcc3(0x20e)]&&_0x4775b5[_0xd9fcc3(0x20e)][_0xd9fcc3(0x13b)]?(localStorage['setItem'](_0xd9fcc3(0x22c),JSON[_0xd9fcc3(0x428)](_0x4775b5[_0xd9fcc3(0x20e)][_0xd9fcc3(0x13b)])),_0x268dc6(_0x4775b5[_0xd9fcc3(0x20e)][_0xd9fcc3(0x13b)])):_0x1e078c(new Error(_0xd9fcc3(0x425)));},_0x4775b5[_0x30d36e(0x258)]=_0xa211a1=>_0x1e078c(_0xa211a1['target']['error']);});},'exportData'(_0x50c34a){const _0x499d88=_0x2ebaf0;let _0x461e2c={};try{_0x461e2c=JSON[_0x499d88(0x1b5)](JSON[_0x499d88(0x428)](_0x50c34a||{}));}catch(_0x52c474){_0x461e2c=_0x50c34a;}try{if(_0x461e2c&&_0x461e2c[_0x499d88(0x3fb)])_0x461e2c[_0x499d88(0x3fb)][_0x499d88(0x34c)]='';}catch(_0x6aba8f){}const _0x1d0ac=new Blob([JSON[_0x499d88(0x428)](_0x461e2c,null,0x2)],{'type':_0x499d88(0x3a5)}),_0x1ff2fc=document[_0x499d88(0x407)]('a'),_0x51e8bf=new Date(),_0x4b262a=_0x5e4de5=>(''+_0x5e4de5)[_0x499d88(0x2d7)](0x2,'0');_0x1ff2fc['href']=URL[_0x499d88(0x21a)](_0x1d0ac),_0x1ff2fc[_0x499d88(0x2c4)]='pomodoro_backup_'+_0x51e8bf[_0x499d88(0x1c7)]()+_0x4b262a(_0x51e8bf[_0x499d88(0x282)]()+0x1)+_0x4b262a(_0x51e8bf[_0x499d88(0x43b)]())+'.json',_0x1ff2fc[_0x499d88(0x25b)](),URL['revokeObjectURL'](_0x1ff2fc[_0x499d88(0x317)]);},async 'importData'(_0x3a6c7f){const _0x24e4cc=_0x2ebaf0,_0x383e94=await _0x3a6c7f[_0x24e4cc(0x3b7)](),_0x4d6395=JSON[_0x24e4cc(0x1b5)](_0x383e94);if(!_0x4d6395[_0x24e4cc(0x2ba)]||!_0x4d6395[_0x24e4cc(0x3fb)]||!Array[_0x24e4cc(0x2cf)](_0x4d6395[_0x24e4cc(0x220)]))throw new Error(_0x24e4cc(0x14f));try{const _0x29f7e6=window[_0x24e4cc(0x13b)]&&window[_0x24e4cc(0x13b)][_0x24e4cc(0x3fb)]&&window[_0x24e4cc(0x13b)][_0x24e4cc(0x3fb)][_0x24e4cc(0x34c)]||'';(!(_0x24e4cc(0x34c)in _0x4d6395[_0x24e4cc(0x3fb)])||_0x4d6395[_0x24e4cc(0x3fb)][_0x24e4cc(0x34c)]==='')&&(_0x4d6395[_0x24e4cc(0x3fb)]['apiKey']=_0x29f7e6);}catch(_0x189815){}return localStorage['setItem'](_0x24e4cc(0x22c),JSON[_0x24e4cc(0x428)](_0x4d6395)),_0x4d6395;}},$=(_0x4ad788,_0x632b6a=document)=>_0x632b6a[_0x2ebaf0(0x273)](_0x4ad788),breakSuggestions=[_0x2ebaf0(0x36e),_0x2ebaf0(0x335),'Nh√¨n\x20ra\x20xa\x20qua\x20c·ª≠a\x20s·ªï\x20trong\x2020\x20gi√¢y.',_0x2ebaf0(0x289),'Th·ª±c\x20hi·ªán\x20v√†i\x20ƒë·ªông\x20t√°c\x20h√≠t\x20th·ªü\x20s√¢u.',_0x2ebaf0(0x2d8),_0x2ebaf0(0x366),'Nh·∫Øm\x20m·∫Øt\x20v√†\x20th∆∞\x20gi√£n\x20trong\x20m·ªôt\x20ph√∫t.','L·∫Øc\x20nh·∫π\x20c·ªï\x20tay\x20v√†\x20vai\x20trong\x2030\x20gi√¢y.',_0x2ebaf0(0x2a7),_0x2ebaf0(0x3b6),_0x2ebaf0(0x33e),_0x2ebaf0(0x21f),_0x2ebaf0(0x1d5),_0x2ebaf0(0x20a),_0x2ebaf0(0x2b9),_0x2ebaf0(0x393),_0x2ebaf0(0x41c),_0x2ebaf0(0x352),'Ch√∫\x20√Ω\x20ƒë·∫øn\x20c·∫£m\x20gi√°c\x20nhi·ªát\x20ƒë·ªô,\x20√°nh\x20s√°ng\x20trong\x20ph√≤ng.','ƒê·∫øm\x20ch·∫≠m\x20t·ª´ng\x20nh·ªãp\x20th·ªü\x20ƒë·∫øn\x20s·ªë\x2010.','L√†m\x20ƒë·ªông\x20t√°c\x20‚Äúth·ªü\x20d√†i‚Äù\x20s√¢u\x20m·ªôt\x20l·∫ßn,\x20th·∫£\x20l·ªèng\x20vai.',_0x2ebaf0(0x3a8),_0x2ebaf0(0x1bf),_0x2ebaf0(0x41b),_0x2ebaf0(0x20b),_0x2ebaf0(0x1ab),_0x2ebaf0(0x17b),_0x2ebaf0(0x131),_0x2ebaf0(0x11a),'Ki·ªÉm\x20tra\x20nh·ªãp\x20th·ªü\x20‚Äì\x20n·∫øu\x20g·∫•p\x20g√°p,\x20h√£y\x20l√†m\x20ch·∫≠m\x20l·∫°i.',_0x2ebaf0(0x298)],$$=(_0x15a70e,_0x41ec47=document)=>Array[_0x2ebaf0(0x18f)](_0x41ec47[_0x2ebaf0(0x43c)](_0x15a70e));function on(_0x47927e,_0x5c2d97,_0x3ef3ff){const _0x4eb01a=_0x2ebaf0;if(!_0x47927e){console[_0x4eb01a(0x124)](_0x4eb01a(0x372),_0x5c2d97);return;}_0x47927e[_0x4eb01a(0x3ed)](_0x5c2d97,_0x3ef3ff);}function _0x5e48(_0x1dde39,_0x785d08){const _0x3bcb02=_0x3bcb();return _0x5e48=function(_0x5e48b3,_0x470f9b){_0x5e48b3=_0x5e48b3-0x114;let _0x56f8fe=_0x3bcb02[_0x5e48b3];return _0x56f8fe;},_0x5e48(_0x1dde39,_0x785d08);}const formatMMSS=_0x39b678=>{const _0x435ec4=_0x2ebaf0,_0x5ef6a5=Math[_0x435ec4(0x1a9)](_0x39b678/0x3c)[_0x435ec4(0x1b1)]()[_0x435ec4(0x2d7)](0x2,'0'),_0x563815=Math[_0x435ec4(0x1a9)](_0x39b678%0x3c)['toString']()[_0x435ec4(0x2d7)](0x2,'0');return _0x5ef6a5+':'+_0x563815;},uid=(_0x364810='id')=>_0x364810+'_'+Date['now']()+'_'+Math[_0x2ebaf0(0x133)]()[_0x2ebaf0(0x1b1)](0x24)[_0x2ebaf0(0x1b8)](0x2,0x9);let __releaseFocusTrap=null;function trapFocus(_0x195aa0){const _0xddc95c=_0x2ebaf0;try{const _0x51825c=_0x195aa0[_0xddc95c(0x43c)](_0xddc95c(0x346));if(!_0x51825c['length'])return;const _0x18f838=_0x51825c[0x0],_0x552027=_0x51825c[_0x51825c[_0xddc95c(0x402)]-0x1],_0x4c11b2=_0xd98dbf=>{const _0x44da25=_0xddc95c;if(_0xd98dbf[_0x44da25(0x35e)]===_0x44da25(0x359)){if(_0xd98dbf[_0x44da25(0x2c6)]&&document[_0x44da25(0x33f)]===_0x18f838)_0xd98dbf[_0x44da25(0x3c0)](),_0x552027[_0x44da25(0x205)]();else!_0xd98dbf[_0x44da25(0x2c6)]&&document['activeElement']===_0x552027&&(_0xd98dbf[_0x44da25(0x3c0)](),_0x18f838[_0x44da25(0x205)]());}};_0x195aa0[_0xddc95c(0x3ed)](_0xddc95c(0x1cf),_0x4c11b2),_0x18f838[_0xddc95c(0x205)](),__releaseFocusTrap=()=>{const _0x199fe6=_0xddc95c;try{_0x195aa0[_0x199fe6(0x397)](_0x199fe6(0x1cf),_0x4c11b2);}catch(_0x24535a){}};}catch(_0x54d723){}}function releaseFocus(){if(__releaseFocusTrap){try{__releaseFocusTrap();}catch(_0x259dfa){}__releaseFocusTrap=null;}}const todayISO=()=>new Date()['toISOString']();function toast(_0x37bad9,_0x4bb0f5=0xa28){const _0x5d6cb0=_0x2ebaf0,_0x12d728=$(_0x5d6cb0(0x2e2)),_0x1444a3=document[_0x5d6cb0(0x407)](_0x5d6cb0(0x2c8));_0x1444a3[_0x5d6cb0(0x23e)]='toast',_0x1444a3[_0x5d6cb0(0x196)]=_0x37bad9,_0x12d728[_0x5d6cb0(0x284)](_0x1444a3),setTimeout(()=>{const _0x3a38cf=_0x5d6cb0;_0x1444a3[_0x3a38cf(0x2a4)]['opacity']='0';},_0x4bb0f5-0x12c),setTimeout(()=>_0x12d728['removeChild'](_0x1444a3),_0x4bb0f5);}function escapeHTML(_0x118c02){const _0x41edf0=_0x2ebaf0;return _0x118c02[_0x41edf0(0x1f0)](/[&<>"']/g,_0x1d2315=>({'&':_0x41edf0(0x3af),'<':'&lt;','>':_0x41edf0(0x12a),'\x22':_0x41edf0(0x2d2),'\x27':_0x41edf0(0x151)}[_0x1d2315]));}function formatDaysHoursMinutes(_0x32d5af){const _0x5a73ee=_0x2ebaf0;if(!_0x32d5af||_0x32d5af<0x1)return _0x5a73ee(0x409);const _0x1749a1=Math[_0x5a73ee(0x1a9)](_0x32d5af/0x3c),_0x35350c=_0x32d5af%0x3c,_0x1cd910=_0x35350c[_0x5a73ee(0x1b1)]()[_0x5a73ee(0x2d7)](0x2,'0');return _0x1749a1+'\x20ti·∫øng\x20'+_0x1cd910+_0x5a73ee(0x2fe);}function formatGeminiResponse(_0x15b1e8){const _0x5b7c44=_0x2ebaf0;return _0x15b1e8[_0x5b7c44(0x1f0)](/(\*\*|__|\*|_|#+\s*)/g,'');}function parseSimpleMarkdown(_0x1c3fb2){const _0x132004=_0x2ebaf0,_0x59186f=(_0x1c3fb2||'')['split']('\x0a');let _0x92ab3b='',_0x4a6c5c=null;const _0x59d84f=()=>{const _0x32e7e5=_0x5e48;_0x4a6c5c&&(_0x92ab3b+=_0x4a6c5c==='ol'?'</ol>':_0x32e7e5(0x378),_0x4a6c5c=null);};for(let _0xfe46ad of _0x59186f){let _0x474714=(_0xfe46ad||'')[_0x132004(0x31d)]();if(!_0x474714){_0x59d84f();continue;}if(_0x474714['startsWith'](_0x132004(0x2f2)))_0x59d84f(),_0x92ab3b+=_0x132004(0x35d)+escapeHTML(_0x474714[_0x132004(0x3ba)](0x5))+_0x132004(0x35b);else{if(/^\d+\.\s/[_0x132004(0x305)](_0x474714)){_0x4a6c5c!=='ol'&&(_0x59d84f(),_0x92ab3b+='<ol>',_0x4a6c5c='ol');const _0x4809e9=_0x474714['substring'](_0x474714[_0x132004(0x321)]('\x20')+0x1);_0x92ab3b+='<li>'+escapeHTML(_0x4809e9)+_0x132004(0x1b0);}else _0x474714[_0x132004(0x27f)]('-\x20')?(_0x4a6c5c!=='ul'&&(_0x59d84f(),_0x92ab3b+='<ul>',_0x4a6c5c='ul'),_0x92ab3b+='<li>'+escapeHTML(_0x474714[_0x132004(0x3ba)](0x2))+_0x132004(0x1b0)):(_0x59d84f(),_0x474714=escapeHTML(_0x474714)[_0x132004(0x1f0)](/\*\*(.*?)\*\*/g,_0x132004(0x2b1))[_0x132004(0x1f0)](/_(.*?)_/g,_0x132004(0x400)),_0x92ab3b+=_0x132004(0x162)+_0x474714+_0x132004(0x2e5));}}return _0x59d84f(),_0x92ab3b;}function wrapTextInMarkdown(_0x49f2c5,_0x268f0c,_0x530aab=''){const _0x1abf87=_0x2ebaf0;if(!_0x49f2c5)return;const _0x49644c=_0x49f2c5[_0x1abf87(0x3c8)]||0x0,_0x5d244a=_0x49f2c5[_0x1abf87(0x2ec)]||0x0,_0x3f6b5e=_0x49f2c5[_0x1abf87(0x2c3)][_0x1abf87(0x3ba)](_0x49644c,_0x5d244a),_0x72bfb2=_0x268f0c+_0x3f6b5e+(_0x530aab||_0x268f0c);_0x49f2c5[_0x1abf87(0x41a)](_0x72bfb2,_0x49644c,_0x5d244a,_0x1abf87(0x197)),_0x49f2c5[_0x1abf87(0x205)]();}function _0x3bcb(){const _0x1a0565=['Daily\x20backup\x20successful.','longBreakIntervalA','Vui\x20l√≤ng\x20nh·∫≠p\x20Gemini\x20API\x20Key\x20trong\x20ph·∫ßn\x20C√†i\x20ƒë·∫∑t.','finishFlowSession','onupgradeneeded','getAllKeys','fixed','set_youtubeUrl','_sortable','#toasts','onYouTubeIframeAPIReady','backups','</p>','#btnResume','isCompleted','input','auto','methods','var(--acc-2)','selectionEnd','unMute','#set_cycles','sid','#set_ytThumbAsBg','sound_unlocked','####\x20','\x22\x0a-\x20Ghi\x20ch√∫\x20c·ªßa\x20ng∆∞·ªùi\x20d√πng\x20sau\x20m·ªôt\x20phi√™n\x20l√†m\x20vi·ªác:\x20\x22','#btnCloseSettings','autoplay;\x20encrypted-media;\x20picture-in-picture','loadLanguage','checked','innerWidth','#set_enableSessionNotes','AudioContext','#ytUrlFeedback','Th√™m\x20ghi\x20ch√∫','destination','\x20ph√∫t','none','yt-fallback','button','playVideo','L·∫∑p\x20L·∫°i\x20Ng·∫Øt\x20Qu√£ng\x20(Spaced\x20Repetition):\x20H·ªçc\x20ƒê√∫ng\x20Th·ªùi\x20ƒêi·ªÉm','statusText','test','objectStore','B·∫°n\x20c√≥\x20ch·∫Øc\x20mu·ªën\x20x√≥a\x20Ch·ªß\x20ƒë·ªÅ\x20\x22','T√≥m\x20t·∫Øt\x20c√°c\x20ghi\x20ch√∫\x20sau\x20theo\x20g·∫°ch\x20ƒë·∫ßu\x20d√≤ng,\x20ng·∫Øn\x20g·ªçn,\x20r√µ\x20r√†ng:\x0a\x0a','bg-view-mode','DB_NAME','textarea','Ch·ªânh-s·ª≠a\x20Tri\x20th·ª©c','#btnAddTopic','</div>','stop','ArrowLeft','toLocaleDateString','#set_long','sub-row','#btnAddSubtopicTask','setProperty','#editorPreview','href','Kh√¥ng\x20th·ªÉ\x20l∆∞u\x20thay\x20ƒë·ªïi.','no-subtopic-selected','L·ªói\x20l∆∞u\x20file.','\x22\x20title=\x22Ho√†n\x20th√†nh\x20task\x22>\x20<label\x20for=\x22','getAll','trim','stopVideo','Ch·ªçn\x20m·ªôt\x20ch·ªß\x20ƒë·ªÅ\x20con\x20tr∆∞·ªõc.','#set_short','indexOf','#breakSuggestionDisplay','N·ªôi\x20dung\x20b·ªã\x20ch·∫∑n\x20v√¨:\x20','#settings-flowtime','#btnCancelMethodEditor','tagName','hidden','file:','#btnToggleBg','innerHTML','B_short','var(--sub)','G·ª≠i','achievedMilestones','G·ª≠i\x20b·∫°n,\x20100\x20gi·ªù\x20c·ªëng\x20hi·∫øn\x20(Cam\x20k·∫øt)','Enter','content','default','remaining','#genericTitle','U·ªëng\x20m·ªôt\x20ly\x20n∆∞·ªõc\x20ƒë·ªÉ\x20gi·ªØ\x20ƒë·ªß\x20n∆∞·ªõc.','durationMinutes','<div\x20class=\x22tiny\x22>Ch∆∞a\x20c√≥\x20phi√™n\x20n√†o</div>','hours','pause','#methodEditorId','T√™n\x20Ch·ªß\x20ƒë·ªÅ\x20m·ªõi?','.method-edit','.app-content','M·ªü\x20c·ª≠a\x20s·ªï\x20cho\x20kh√¥ng\x20kh√≠\x20m·ªõi\x20v√†o\x20ph√≤ng.','activeElement','theme','toLocaleString','X√°c\x20nh·∫≠n\x20chuy·ªÉn\x20ƒë·ªïi','menu-active','item','PLAYING','button,\x20[href],\x20input,\x20select,\x20textarea,\x20[tabindex]:not([tabindex=\x22-1\x22])','innerHeight','note','toLowerCase','get','open','apiKey','#btnSkipNote','ƒê√£\x20c·∫≠p\x20nh·∫≠t\x20h√¨nh\x20n·ªÅn.','#milestoneTitle','#view-methods\x20.method-item','vi-VN','Th·∫£\x20l·ªèng\x20hai\x20ch√¢n,\x20l·∫Øc\x20nh·∫π\x20c·ªï\x20ch√¢n\x20d∆∞·ªõi\x20b√†n.','<p>Nguy√™n\x20t·∫Øc\x20c·ªët\x20l√µi\x20c·ªßa\x20k·ªπ\x20thu·∫≠t\x20n√†y\x20d·ª±a\x20tr√™n\x20m·ªôt\x20√Ω\x20t∆∞·ªüng\x20duy\x20nh·∫•t:\x20\x22N·∫øu\x20b·∫°n\x20kh√¥ng\x20th·ªÉ\x20gi·∫£i\x20th√≠ch\x20m·ªôt\x20ch·ªß\x20ƒë·ªÅ\x20m·ªôt\x20c√°ch\x20ƒë∆°n\x20gi·∫£n,\x20b·∫°n\x20ch∆∞a\x20th·ª±c\x20s·ª±\x20hi·ªÉu\x20n√≥.\x22\x20M·ª•c\x20ti√™u\x20l√†\x20bi·∫øn\x20ki·∫øn\x20th·ª©c\x20ph·ª©c\x20t·∫°p\x20th√†nh\x20l·ªùi\x20gi·∫£i\x20th√≠ch\x20ƒë∆°n\x20gi·∫£n\x20ƒë·∫øn\x20m·ª©c\x20m·ªôt\x20ƒë·ª©a\x20tr·∫ª\x20c≈©ng\x20c√≥\x20th·ªÉ\x20hi·ªÉu.</p><h4>Quy\x20Tr√¨nh\x204\x20B∆∞·ªõc\x20Tinh\x20G·ªçn</h4><ol><li><strong>H·ªçc:</strong>\x20Ch·ªçn\x20m·ªôt\x20ch·ªß\x20ƒë·ªÅ\x20v√†\x20vi·∫øt\x20ra\x20t·∫•t\x20c·∫£\x20nh·ªØng\x20g√¨\x20b·∫°n\x20bi·∫øt\x20v·ªÅ\x20n√≥.</li><li><strong>D·∫°y:</strong>\x20Gi·∫£\x20v·ªù\x20d·∫°y\x20l·∫°i\x20ch·ªß\x20ƒë·ªÅ\x20n√†y\x20b·∫±ng\x20ng√¥n\x20ng·ªØ\x20ƒë∆°n\x20gi·∫£n\x20nh·∫•t\x20c√≥\x20th·ªÉ.\x20Vi·∫øt\x20ho·∫∑c\x20n√≥i\x20to\x20ra.</li><li><strong>T√¨m\x20&\x20S·ª≠a\x20L·ªói:</strong>\x20B·∫•t\x20c·ª©\x20khi\x20n√†o\x20b·∫°n\x20b·ªã\x20\x22k·∫πt\x22,\x20ph·∫£i\x20d√πng\x20thu·∫≠t\x20ng·ªØ\x20ph·ª©c\x20t·∫°p,\x20ho·∫∑c\x20kh√¥ng\x20th·ªÉ\x20gi·∫£i\x20th√≠ch\x20tr√¥i\x20ch·∫£y,\x20b·∫°n\x20ƒë√£\x20t√¨m\x20th·∫•y\x20l·ªó\x20h·ªïng\x20ki·∫øn\x20th·ª©c\x20c·ªßa\x20m√¨nh.\x20H√£y\x20quay\x20l·∫°i\x20t√†i\x20li·ªáu\x20g·ªëc\x20ƒë·ªÉ\x20h·ªçc\x20l·∫°i\x20cho\x20ƒë·∫øn\x20khi\x20l·∫•p\x20ƒë∆∞·ª£c\x20l·ªó\x20h·ªïng\x20ƒë√≥.</li><li><strong>ƒê∆°n\x20Gi·∫£n\x20H√≥a:</strong>\x20S·∫Øp\x20x·∫øp\x20l·∫°i\x20l·ªùi\x20gi·∫£i\x20th√≠ch\x20cu·ªëi\x20c√πng,\x20s·ª≠\x20d·ª•ng\x20c√°c\x20v√≠\x20d·ª•\x20ho·∫∑c\x20ph√©p\x20v√≠\x20von\x20ƒë∆°n\x20gi·∫£n\x20ƒë·ªÉ\x20n√≥\x20tr·ªü\x20n√™n\x20m·∫°ch\x20l·∫°c\x20v√†\x20d·ªÖ\x20hi·ªÉu\x20nh·∫•t.</li></ol><h4>C·ªët\x20L√µi</h4><p>K·ªπ\x20thu·∫≠t\x20Feynman\x20bu·ªôc\x20b·∫°n\x20ph·∫£i\x20chuy·ªÉn\x20t·ª´\x20vi·ªác\x20ti·∫øp\x20thu\x20th·ª•\x20ƒë·ªông\x20(ƒë·ªçc,\x20nghe)\x20sang\x20ch·ªß\x20ƒë·ªông\x20x·ª≠\x20l√Ω\x20th√¥ng\x20tin.\x20Qu√°\x20tr√¨nh\x20\x22b·ªã\x20k·∫πt\x22\x20khi\x20gi·∫£i\x20th√≠ch\x20ch√≠nh\x20l√†\x20c√¥ng\x20c·ª•\x20ch·∫©n\x20ƒëo√°n\x20m·∫°nh\x20m·∫Ω\x20nh·∫•t,\x20n√≥\x20ch·ªâ\x20ra\x20ch√≠nh\x20x√°c\x20ƒëi·ªÉm\x20b·∫°n\x20c√≤n\x20y·∫øu.</p><p><i>C√°ch\x20nhanh\x20nh·∫•t\x20ƒë·ªÉ\x20ki·ªÉm\x20tra\x20v√†\x20c·ªßng\x20c·ªë\x20s·ª±\x20hi·ªÉu\x20bi·∫øt\x20c·ªßa\x20b·∫°n\x20l√†\x20th·ª≠\x20d·∫°y\x20l·∫°i\x20n√≥\x20cho\x20ng∆∞·ªùi\x20kh√°c\x20m·ªôt\x20c√°ch\x20ƒë∆°n\x20gi·∫£n.</i></p>','createdAt','L·ªói\x20kh·ªüi\x20t·∫°o:\x20','body','exitFullscreen','object','Tab','https://www.youtube.com','</h4>','badge','<h4>','key','ƒê√£\x20l∆∞u\x20√¢m\x20b√°o\x20h·∫øt\x20NGH·ªà\x20NG·∫ÆN.','L√ÄM\x20VI·ªÜC','transaction','#generalNotesList','selectedSubtopicId','cover','youtubeVolume','Nghe\x20m·ªôt\x20b·∫£n\x20nh·∫°c\x20y√™u\x20th√≠ch.','baseVal','backupDaysToKeep','input,select,textarea','#set_winddown','.topic-item.menu-active','#statTasks','actions-menu','H√£y\x20ƒë·ª©ng\x20d·∫≠y\x20v∆∞∆°n\x20vai\x20v√†\x20du·ªói\x20ng∆∞·ªùi.','sort','menu-item','üåä\x20Flow','Missing\x20element','cycles','disabled','aria-pressed','AI\x20kh√¥ng\x20th·ªÉ\x20ƒë·ªãnh\x20d·∫°ng\x20l√∫c\x20n√†y.','#btnSummarize','</ul>','#btnSaveNote','append','#summariesList','#historyList','#set_theme','setAttribute','readwrite','currentView','#set_autoStartNext','.tab-btn','head','#settings-pomodoro','show','<li\x20class=\x22tiny\x22\x20style=\x22opacity:\x200.7;\x22>Ch·ªçn\x20ch·ªß\x20ƒë·ªÅ\x20con\x20ƒë·ªÉ\x20xem\x20to-do\x20list.</li>','summaries','blockReason','Ngh·ªâ\x20','.tab-content','#audioLongEnd','#statSessions','destroy','setValueAtTime','useYtThumbnailAsBg','<div>','getIframe','<p\x20class=\x22tiny\x22><strong>T·ªïng\x20th·ªùi\x20gian:</strong>\x20','Ki·ªÉm\x20tra\x20v√†\x20ch·ªânh\x20l·∫°i\x20t∆∞\x20th·∫ø\x20ng·ªìi\x20cho\x20ƒë√∫ng.','createIndex','ArrowDown','getSettings','removeEventListener','breathing','#selectedContext','includes','B_winddown','location','objectStoreNames','getPropertyValue','S·ª≠a\x20t√™n\x20Ch·ªß\x20ƒë·ªÅ','Vui\x20l√≤ng\x20ch·ªçn\x20m·ªôt\x20Ch·ªß\x20ƒë·ªÅ\x20con\x20tr∆∞·ªõc\x20khi\x20th·ª±c\x20hi·ªán\x20thao\x20t√°c.','break_end','cueVideoById','collapsedTopics','Th√™m\x20Tri\x20th·ª©c\x20m·ªõi','application/json','IndexedDB\x20error:','classList','L·∫Øng\x20nghe\x20h∆°i\x20th·ªü\x20ra\x20v√†o\x20qua\x20m≈©i.','fullscreenElement','timerState','display','script','.color-swatch','space','&amp;','#toolItalic','position','Backup\x20failed:','removing','state','?\x20Thao\x20t√°c\x20n√†y\x20s·∫Ω\x20d·ª´ng\x20v√†\x20ƒë·∫∑t\x20l·∫°i\x20phi√™n\x20l√†m\x20vi·ªác\x20hi·ªán\x20t·∫°i.','ƒê·∫∑t\x20tay\x20l√™n\x20ng·ª±c,\x20c·∫£m\x20nh·∫≠n\x20nh·ªãp\x20tim\x20c·ªßa\x20m√¨nh.','text','scrollHeight','POST','substring','--panel-opacity','\x20(A)','#statTotal','/maxresdefault.jpg','getItem','preventDefault','G·ª≠i\x20b·∫°n,\x205\x20gi·ªù\x20ƒë·∫ßu\x20ti√™n\x20(Kh·ªüi\x20ƒë·ªông)','abs','G·ª≠i\x20b·∫°n,\x201.000\x20gi·ªù\x20(Chuy·ªÉn\x20h√≥a)','#btnTestSound','PlayerState','\x22\x0a\x0aH√£y\x20t·∫°o\x20m·ªôt\x20b·∫£n\x20t√≥m\x20t·∫Øt\x20ng·∫Øn\x20g·ªçn\x20v·ªÅ\x20nh·ªØng\x20g√¨\x20ƒë√£\x20l√†m\x20v√†\x20ƒë·ªÅ\x20xu·∫•t\x20m·ªôt\x20b∆∞·ªõc\x20h·ª£p\x20l√Ω\x20ti·∫øp\x20theo.\x20ƒê·ªãnh\x20d·∫°ng\x20c√¢u\x20tr·∫£\x20l·ªùi\x20nh∆∞\x20sau:\x0a\x0a---\x0a**‚ú®\x20T√≥m\x20t·∫Øt\x20AI:**\x0a[T√≥m\x20t·∫Øt\x20·ªü\x20ƒë√¢y]\x0a\x0a**üöÄ\x20G·ª£i\x20√Ω\x20ti·∫øp\x20theo:**\x0a[G·ª£i\x20√Ω\x20·ªü\x20ƒë√¢y]','left','selectionStart','<p>N·∫øu\x20G·ª£i\x20nh·ªõ\x20ch·ªß\x20ƒë·ªông\x20l√†\x20v·ªÅ\x20c√°ch\x20h·ªçc,\x20th√¨\x20L·∫∑p\x20l·∫°i\x20ng·∫Øt\x20qu√£ng\x20l√†\x20v·ªÅ\x20th·ªùi\x20ƒëi·ªÉm\x20h·ªçc.\x20ƒê√¢y\x20l√†\x20m·ªôt\x20h·ªá\x20th·ªëng\x20l√™n\x20l·ªãch\x20√¥n\x20t·∫≠p\x20ƒë·ªÉ\x20ƒë∆∞a\x20th√¥ng\x20tin\x20v√†o\x20tr√≠\x20nh·ªõ\x20d√†i\x20h·∫°n\x20m·ªôt\x20c√°ch\x20hi·ªáu\x20qu·∫£\x20nh·∫•t.</p><h4>Nguy√™n\x20T·∫Øc\x20C·ªët\x20L√µi:\x20Ch·ªëng\x20L·∫°i\x20S·ª±\x20L√£ng\x20Qu√™n\x20üß†</h4><p>Ph∆∞∆°ng\x20ph√°p\x20n√†y\x20d·ª±a\x20tr√™n\x20\x22ƒê∆∞·ªùng\x20cong\x20L√£ng\x20qu√™n\x22,\x20cho\x20th·∫•y\x20ch√∫ng\x20ta\x20qu√™n\x20th√¥ng\x20tin\x20nhanh\x20nh·∫•t\x20ngay\x20sau\x20khi\x20h·ªçc.\x20L·∫∑p\x20l·∫°i\x20ng·∫Øt\x20qu√£ng\x20ho·∫°t\x20ƒë·ªông\x20b·∫±ng\x20c√°ch\x20y√™u\x20c·∫ßu\x20b·∫°n\x20√¥n\x20t·∫≠p\x20l·∫°i\x20m·ªôt\x20th√¥ng\x20tin\x20ngay\x20tr∆∞·ªõc\x20khi\x20b·∫°n\x20s·∫Øp\x20qu√™n\x20n√≥.</p><p>M·ªói\x20l·∫ßn\x20√¥n\x20t·∫≠p\x20th√†nh\x20c√¥ng\x20s·∫Ω\x20l√†m\x20cho\x20kho·∫£ng\x20th·ªùi\x20gian\x20b·∫°n\x20nh·ªõ\x20th√¥ng\x20tin\x20ƒë√≥\x20d√†i\x20ra.\x20L·∫ßn\x20ƒë·∫ßu\x20b·∫°n\x20c√≥\x20th·ªÉ\x20qu√™n\x20sau\x201\x20ng√†y,\x20nh∆∞ng\x20sau\x20khi\x20√¥n\x20t·∫≠p,\x20b·∫°n\x20s·∫Ω\x20nh·ªõ\x20ƒë∆∞·ª£c\x20trong\x203\x20ng√†y,\x20r·ªìi\x201\x20tu·∫ßn,\x201\x20th√°ng,\x20v√†\x20c·ª©\x20th·∫ø\x20xa\x20d·∫ßn.</p><h4>C√¥ng\x20C·ª•\x20Hi·ªáu\x20Qu·∫£\x20Nh·∫•t:\x20Ph·∫ßn\x20M·ªÅm\x20SRS\x20üì±</h4><p>Thay\x20v√¨\x20t·ª±\x20l√™n\x20l·ªãch\x20th·ªß\x20c√¥ng,\x20c√°ch\x20hi·ªáu\x20qu·∫£\x20nh·∫•t\x20l√†\x20s·ª≠\x20d·ª•ng\x20c√°c\x20ph·∫ßn\x20m·ªÅm\x20L·∫∑p\x20l·∫°i\x20ng·∫Øt\x20qu√£ng\x20(Spaced\x20Repetition\x20Software\x20-\x20SRS).\x20Anki\x20ƒë∆∞·ª£c\x20xem\x20l√†\x20ti√™u\x20chu·∫©n\x20v√†ng.\x20N√≥\x20t·ª±\x20ƒë·ªông\x20h√≥a\x20ho√†n\x20to√†n\x20vi·ªác\x20l√™n\x20l·ªãch\x20√¥n\x20t·∫≠p\x20cho\x20h√†ng\x20ng√†n\x20th·∫ª\x20ghi\x20nh·ªõ\x20d·ª±a\x20tr√™n\x20ƒë·ªô\x20kh√≥\x20m√†\x20b·∫°n\x20t·ª±\x20ƒë√°nh\x20gi√°,\x20ƒë·∫£m\x20b·∫£o\x20b·∫°n\x20lu√¥n\x20√¥n\x20t·∫≠p\x20v√†o\x20th·ªùi\x20ƒëi·ªÉm\x20t·ªëi\x20∆∞u\x20nh·∫•t.</p><h4>Sai\x20L·∫ßm\x20L·ªõn\x20Nh·∫•t\x20C·∫ßn\x20Tr√°nh\x20‚ùå</h4><p>L√Ω\x20do\x20s·ªë\x20m·ªôt\x20khi·∫øn\x20m·ªçi\x20ng∆∞·ªùi\x20th·∫•t\x20b·∫°i\x20v·ªõi\x20ph∆∞∆°ng\x20ph√°p\x20n√†y\x20l√†\x20\x22Qu√°\x20t·∫£i\x20L·ªãch\x20√¥n\x20t·∫≠p\x22\x20(Review\x20Overload).\x20ƒêi·ªÅu\x20n√†y\x20x·∫£y\x20ra\x20khi\x20b·∫°n\x20t·∫°o\x20qu√°\x20nhi·ªÅu\x20th·∫ª\x20m·ªõi\x20m·ªói\x20ng√†y\x20ho·∫∑c\x20b·ªè\x20l·ª°\x20v√†i\x20ng√†y\x20√¥n\x20t·∫≠p,\x20d·∫´n\x20ƒë·∫øn\x20m·ªôt\x20l∆∞·ª£ng\x20th·∫ª\x20t·ªìn\x20ƒë·ªçng\x20kh·ªïng\x20l·ªì\x20g√¢y\x20n·∫£n\x20ch√≠.</p><p><strong>Gi·∫£i\x20ph√°p\x20(20%\x20h√†nh\x20ƒë·ªông,\x2080%\x20k·∫øt\x20qu·∫£):</strong>\x20H√£y\x20nh·∫•t\x20qu√°n.\x20ƒê·∫∑t\x20ra\x20gi·ªõi\x20h·∫°n\x20th·ª±c\x20t·∫ø\x20v·ªÅ\x20s·ªë\x20l∆∞·ª£ng\x20th·∫ª\x20m·ªõi\x20m·ªói\x20ng√†y\x20(v√≠\x20d·ª•:\x2010-20\x20th·∫ª)\x20v√†\x20duy\x20tr√¨\x20vi·ªác\x20√¥n\x20t·∫≠p\x20h√†ng\x20ng√†y.\x20Th√†\x20h·ªçc\x20√≠t\x20m√†\x20ƒë·ªÅu\x20c√≤n\x20h∆°n\x20h·ªçc\x20d·ªìn.</p><h4>S·ª±\x20K·∫øt\x20H·ª£p\x20S·ªëng\x20C√≤n:\x20AR\x20+\x20SR</h4><p>L·∫∑p\x20l·∫°i\x20ng·∫Øt\x20qu√£ng\x20(SR)\x20v√†\x20G·ª£i\x20nh·ªõ\x20ch·ªß\x20ƒë·ªông\x20(AR)\x20l√†\x20hai\x20m·∫∑t\x20c·ªßa\x20c√πng\x20m·ªôt\x20ƒë·ªìng\x20xu\x20v√†\x20kh√¥ng\x20th·ªÉ\x20t√°ch\x20r·ªùi.\x20SR\x20cung\x20c·∫•p\x20l·ªãch\x20tr√¨nh\x20KHI\x20N√ÄO\x20n√™n\x20√¥n\x20t·∫≠p.\x20AR\x20l√†\x20h√†nh\x20ƒë·ªông\x20b·∫°n\x20th·ª±c\x20hi·ªán\x20KHI\x20√¥n\x20t·∫≠p.\x20S·ª±\x20k·∫øt\x20h·ª£p\x20n√†y\x20ƒë·∫£m\x20b·∫£o\x20n·ªó\x20l·ª±c\x20g·ª£i\x20nh·ªõ\x20c·ªßa\x20b·∫°n\x20x·∫£y\x20ra\x20v√†o\x20\x22ƒëi·ªÉm\x20ng·ªçt\x22\x20c·ªßa\x20tr√≠\x20nh·ªõ.\x20S·ª≠\x20d·ª•ng\x20Anki\x20ch√≠nh\x20l√†\x20c√°ch\x20tri·ªÉn\x20khai\x20k·ªπ\x20thu·∫≠t\x20k·∫øt\x20h·ª£p\x20n√†y\x20m·ªôt\x20c√°ch\x20hi·ªáu\x20qu·∫£\x20nh·∫•t.</p>','autoStartNext','Ch∆∞a\x20c√≥\x20ti√™u\x20ƒë·ªÅ','B·∫°n\x20c√≥\x20ch·∫Øc\x20mu·ªën\x20x√≥a\x20Ch·ªß\x20ƒë·ªÅ\x20con\x20\x22','.actions-menu','updateSettings','timer','#dashboardContent','.topic-item','soundPermissionBar','\x27\x20¬∑\x20Mode\x20','totalMinutes','<div><span\x20class=\x22tiny\x22>(ch∆∞a\x20c√≥\x20ghi\x20ch√∫)</span></div>','presetTarget','badge\x20state\x20break','topic-item','createOscillator','string','#currentSubtopicNameChat','#currentSubtopicName','<div\x20class=\x22tiny\x22>Ch∆∞a\x20c√≥\x20ghi\x20ch√∫.</div>','#set_backgroundMode','sessionsCompleted','#stateBadge','#btnSaveSettings','#set_flowRatio','block','autoBackup','frequency','chev\x20btn\x20small\x20ghost','workMinutes','dateISO','#modalSettings','code','contentWindow','ƒêang\x20t·∫£i\x20API\x20YouTube...','addEventListener','G·ª£i\x20Nh·ªõ\x20Ch·ªß\x20ƒê·ªông\x20(Active\x20Recall):\x20Nguy√™n\x20T·∫Øc\x20C·ªët\x20L√µi\x20ƒê·ªÉ\x20H·ªçc\x20S√¢u','btn\x20subtopic-btn','badge\x20state\x20long','user','modalMethodEditor','currentConfig','#cycleInfo','errorCode','parentElement','map','youtube-player-container','#btnGenericOk','command','settings','bold','https://img.youtube.com/vi/','1874888cCmfdo','B·∫£n\x20sao\x20l∆∞u\x20ng√†y:\x20','<i>$1</i>','ƒê√£\x20nh·∫≠p\x20d·ªØ\x20li·ªáu\x20th√†nh\x20c√¥ng!','length','restoreBackup','\x20|\x20<strong>T·ªïng\x20phi√™n:</strong>\x20','chime','methodId','createElement','currentDurations','0\x20ph√∫t','method-content','triangle','#set_work','color','view','(Kh√¥ng\x20t·∫°o\x20ƒë∆∞·ª£c\x20t√≥m\x20t·∫Øt)','stroke','segmentTotal','expanded','select','ghost','Failed\x20to\x20delete\x20summary:','connect','X√≥a\x20tri\x20th·ª©c\x20\x22','Kh√¥ng\x20nh·∫≠n\x20ƒë∆∞·ª£c\x20n·ªôi\x20dung\x20h·ª£p\x20l·ªá\x20t·ª´\x20AI.','Tho√°t\x20to√†n\x20m√†n\x20h√¨nh','setRangeText','ƒê·ª©ng\x20l√™n\x20v√†\x20ƒëi\x20l·∫°i\x20v√†i\x20b∆∞·ªõc\x20ƒë·ªÉ\x20m√°u\x20l∆∞u\x20th√¥ng.','Nh·∫π\x20nh√†ng\x20nh·∫Øm\x20m·∫Øt\x20v√†\x20m·ªâm\x20c∆∞·ªùi\x20v·ªõi\x20ch√≠nh\x20m√¨nh.','.color-picker-wrapper','D√πng\x20AI\x20ƒë·ªÉ\x20t·ª±\x20ƒë·ªông\x20ƒë·ªãnh\x20d·∫°ng\x20vƒÉn\x20b·∫£n','reloading','resume','.method-delete','status','Vui\x20l√≤ng\x20ch·ªçn\x20m·ªôt\x20b·∫£n\x20sao\x20l∆∞u.','T√≥m\x20t·∫Øt','Kh√¥ng\x20t√¨m\x20th·∫•y\x20b·∫£n\x20sao\x20l∆∞u.','origin','<div\x20class=\x22spinner\x22></div>','stringify','transition','Phi√™n\x20ƒë√£\x20ho√†n\x20th√†nh!\x20Nh·∫•n\x20B·∫Øt\x20ƒë·∫ßu\x20ƒë·ªÉ\x20b·∫Øt\x20ƒë·∫ßu\x20phi√™n\x20ti·∫øp\x20theo.','url(','.actions-menu.show','Ch·ªçn\x20ch·ªß\x20ƒë·ªÅ\x20con\x20tr∆∞·ªõc.','getElementById','createObjectStore','pointerdown','A_short','Th√™m\x20t√πy\x20ch·ªçn','#btnClearChat','summary_','right','save','__ytApiWatchdog','by_topic','√Çm\x20thanh\x20ƒë√£\x20ƒë∆∞·ª£c\x20b·∫≠t!','backgroundSize','getDate','querySelectorAll','reset','var(--muted)','pomodoro_files','createGain','width','clear','342036lLGhyf','B∆∞·ªõc\x20ra\x20ban\x20c√¥ng,\x20t·∫≠n\x20h∆∞·ªüng\x20√°nh\x20s√°ng\x20t·ª±\x20nhi√™n.','API\x20response\x20structure\x20is\x20unexpected:','T·∫†M\x20D·ª™NG','longBreakIntervalB','Player','blob:','#importFile','put','removeProperty','https:','warn','stats','50\x20gi·ªù\x20t·∫≠p\x20trung!\x20Th√≥i\x20quen\x20c·ªßa\x20b·∫°n\x20ƒëang\x20t·∫°o\x20ra\x20ƒë·ªông\x20l·ª±c.\x20S·ª±\x20nh·∫•t\x20qu√°n\x20nh·ªè\x20b√©\x20m·ªói\x20ng√†y\x20ƒëang\x20c·ªông\x20h∆∞·ªüng\x20th√†nh\x20nh·ªØng\x20b∆∞·ªõc\x20ti·∫øn\x20l·ªõn.\x20B·∫°n\x20ƒëang\x20ƒëi\x20ƒë√∫ng\x20h∆∞·ªõng,\x20h√£y\x20ti·∫øp\x20t·ª•c\x20ph√°t\x20huy.','#set_apiKey','setItem','protocol','&gt;','.timer-circle-container','max','ENDED','dataset','<svg\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20width=\x2216\x22\x20height=\x2216\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M2\x2012s3-7\x2010-7\x2010\x207\x2010\x207-3\x207-10\x207-10-7-10-7Z\x22/><circle\x20cx=\x2212\x22\x20cy=\x2212\x22\x20r=\x223\x22/></svg>','values','N·∫°p\x20nƒÉng\x20l∆∞·ª£ng\x20b·∫±ng\x20m·ªôt\x20m√≥n\x20ƒÉn\x20nh·∫π\x20l√†nh\x20m·∫°nh.','ytUrlFeedback','random','load','onkeydown','light','B·∫°n\x20c√≥\x20ch·∫Øc\x20mu·ªën\x20chuy·ªÉn\x20sang\x20Ki·ªÉu\x20','async','onclick','#btnEnableSound','data','ƒê√£\x20x√≥a\x20t√≥m\x20t·∫Øt.','work_end','#welcomePanel\x20p','Failed\x20to\x20save\x20data:','getBoundingClientRect','.nav-btn[data-view=\x22','now','error','#newSubtopicTaskInput','model','Ch∆∞a\x20c√≥\x20ghi\x20ch√∫\x20ƒë·ªÉ\x20t√≥m\x20t·∫Øt.','beep','exponentialRampToValueAtTime','flatMap','?\x20D·ªØ\x20li·ªáu\x20hi·ªán\x20t·∫°i\x20s·∫Ω\x20b·ªã\x20ghi\x20ƒë√®.','Nguy√™n\x20T·∫Øc\x2080/20\x20ƒê·ªÉ\x20Chinh\x20Ph·ª•c\x20Lƒ©nh\x20V·ª±c\x20M·ªõi','tasksCompleted','setPreset','\x0a-\x20','T·ªáp\x20kh√¥ng\x20ƒë√∫ng\x20ƒë·ªãnh\x20d·∫°ng','idle','&#39;','message','text/plain','#modalNote','L·ªói:\x20','flowtimeBreakRatio','Gemini\x20API\x20Error:','<div\x20class=\x22tiny\x22>Vui\x20l√≤ng\x20ch·ªçn\x20m·ªôt\x20ch·ªß\x20ƒë·ªÅ\x20con\x20ƒë·ªÉ\x20xem\x20t√≥m\x20t·∫Øt.</div>','log','#modalMilestone','#modalGeneric','BUFFERING','undefined','<option\x20value=\x22\x22>--\x20Ch·ªçn\x20ng√†y\x20ƒë·ªÉ\x20ph·ª•c\x20h·ªìi\x20--</option>','#btnAutoFormat','.actions-menu-btn','insertUnorderedList','<p>','#btnFinishFlow','find','initDB','note-item','.txt','189abtZBm','offsetHeight','B_work','#view-','paused','reduce','AI\x20ƒë√£\x20ƒë·ªãnh\x20d·∫°ng\x20xong!','bottom','#btnStart','#btnAddGeneralNote','#btnSummarizeNote','customBg','2116160gKcrNE','#uploadSoundWork','clientX','break','.aux-panel,\x20.modal-card','note-content','forEach','N·∫Øn\x20nh·∫π\x20c√°c\x20kh·ªõp\x20ng√≥n\x20tay\x20sau\x20khi\x20g√µ\x20ph√≠m.','reload','note-content-wrapper','tasks','.timer-circle-progress','onload','#set_panelOpacity','5.000\x20gi·ªù\x20t·∫≠p\x20trung\x20c√≥\x20ch·ªß\x20ƒë√≠ch.\x20ƒê√¢y\x20l√†\x20m·ªôt\x20th√†nh\x20t·ª±u\x20m√†\x20r·∫•t\x20√≠t\x20ng∆∞·ªùi\x20ƒë·∫°t\x20ƒë∆∞·ª£c.\x0a\x0aT·∫°i\x20c·ªôt\x20m·ªëc\x20n√†y,\x20c√¢u\x20h·ªèi\x20kh√¥ng\x20c√≤n\x20l√†\x20\x27L√†m\x20th·∫ø\x20n√†o\x20ƒë·ªÉ\x20t·∫≠p\x20trung?\x27,\x20m√†\x20l√†\x20\x27S·ª±\x20t·∫≠p\x20trung\x20n√†y\x20s·∫Ω\x20ƒë∆∞·ª£c\x20d√πng\x20ƒë·ªÉ\x20t·∫°o\x20ra\x20gi√°\x20tr·ªã\x20g√¨?\x27.\x20B·∫°n\x20kh√¥ng\x20ch·ªâ\x20l√†m\x20vi·ªác,\x20b·∫°n\x20ƒëang\x20t·∫°o\x20ra\x20di\x20s·∫£n.','#aiPromptSuggestions\x20button','closest','durations','#btnPresetC','Hi·ªán\x20giao\x20di·ªán','#methodEditorTitle','details','data:','then','absolute','method-title','#btnToggleYtSound','from','.modal','#btnHelpCreateTopic','#draggableTimer','#set_enableWinddown','S·∫¥N\x20S√ÄNG','#view-methods\x20.methods-container','textContent','end','interval','src','#ytSoundVolume','soundTheme','radial-gradient(1200px\x20800px\x20at\x2010%\x20-10%,\x20#20285b\x200%,\x20#0f1222\x2050%,\x20#0b0e1a\x20100%)','3xEwuHQ','findIndex','push','L·ªói:\x20ƒê√£\x20v∆∞·ª£t\x20qu√°\x20h·∫°n\x20m·ª©c\x20y√™u\x20c·∫ßu\x20t·ªõi\x20Gemini.\x20Vui\x20l√≤ng\x20th·ª≠\x20l·∫°i\x20sau\x20√≠t\x20ph√∫t.','name','mousemove','\x20hidden','#set_youtubeUrl','G·ª≠i\x20b·∫°n,\x205.000+\x20gi·ªù\x20(Di\x20s·∫£n)','tid','note-meta','To√†n\x20m√†n\x20h√¨nh','floor','sess','R·ª≠a\x20m·∫∑t\x20ho·∫∑c\x20v·ªó\x20nh·∫π\x20l√™n\x20m·∫∑t\x20ƒë·ªÉ\x20t·ªânh\x20t√°o\x20h∆°n.','selectedTopicId','.view','T√™n\x20Ch·ªß\x20ƒë·ªÅ\x20con\x20m·ªõi?','timer.selectSubtopicPrompt','</li>','toString','update','#uploadSoundBreak','getPlayerState','parse','setVolume','title','slice','#btnCloseDashboard','OK.\x20Link\x20h·ª£p\x20l·ªá.\x20ƒêang\x20chu·∫©n\x20b·ªã\x20ph√°t...','#btnBreakEarly','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','ƒê·∫øn\x20gi·ªù\x20h·∫°\x20nhi·ªát.\x20H√£y\x20k·∫øt\x20th√∫c\x20c√¥ng\x20vi·ªác\x20v√†\x20chu·∫©n\x20b·ªã\x20ngh·ªâ\x20ng∆°i.','#btnSendMessage','Nh·ªõ\x20u·ªëng\x20m·ªôt\x20ng·ª•m\x20n∆∞·ªõc\x20nh√©!','#btnGenericCancel','ƒê√£\x20kh√¥i\x20ph·ª•c\x20m·∫∑c\x20ƒë·ªãnh','http:','/hqdefault.jpg','importData','#set_volume','parts','getFullYear','readonly','long_end','cyclesA','684424WMVftx','btnToggleYtSound','#btnSettings','about:blank','keydown','#genericMessage','17994950xLacLI','linearRampToValueAtTime','persistTimerState','\x22?\x20M·ªçi\x20ch·ªß\x20ƒë·ªÅ\x20con\x20v√†\x20d·ªØ\x20li·ªáu\x20li√™n\x20quan\x20s·∫Ω\x20b·ªã\x20m·∫•t.','Xem\x20m·ªôt\x20t·∫•m\x20·∫£nh\x20d·ªÖ\x20th∆∞∆°ng\x20ho·∫∑c\x20l√†m\x20b·∫°n\x20vui.','start','G·ª≠i\x20b·∫°n,\x2050\x20gi·ªù\x20(ƒê·ªông\x20l·ª±c)','.nav-btn[data-view]','_getStore','#modalMethodEditor','btn\x20small\x20danger','42IODrmR','sine','isNaN','lastBackupDate','lang','C·∫ßn\x20c√≥\x20n·ªôi\x20dung\x20ƒë·ªÉ\x20AI\x20ƒë·ªãnh\x20d·∫°ng.','unshift','#btnPause','chatHistory','topic-title','AutoBackup\x20error:','-9999px','X√≥a\x20Ch·ªß\x20ƒë·ªÅ\x20con','resolve','X√≥a','newIndex','Initialization\x20error:','add','.\x20Vui\x20l√≤ng\x20th·ª≠\x20l·∫°i\x20v·ªõi\x20n·ªôi\x20dung\x20kh√°c.','allow','replace','ƒê√£\x20l∆∞u\x20ghi\x20ch√∫','_startTick','cancel','file','#toolBullet','<p\x20class=\x22tiny\x22\x20style=\x22opacity:0.7;\x22>Ch∆∞a\x20c√≥\x20tri\x20th·ª©c\x20n√†o\x20ƒë∆∞·ª£c\x20th√™m\x20v√†o.</p>','files','round','customSounds','</tbody></table>','#btnSaveMethod','getBackupList','delete','_onFinishSegment','prevState','date','NGH·ªà\x20D√ÄI','subtopic','filter','Nh·∫≠p\x20th·∫•t\x20b·∫°i:\x20','focus','\x20|\x20<strong>T·ªïng\x20nhi·ªám\x20v·ª•:</strong>\x20','<div\x20class=\x22tiny\x22>Ch∆∞a\x20c√≥\x20t√≥m\x20t·∫Øt\x20n√†o.</div>','L·ªói\x20ph√°t\x20√¢m\x20thanh:','panelOpacity','ƒê·∫øm\x20ng∆∞·ª£c\x20t·ª´\x2020\x20ƒë·∫øn\x200\x20th·∫≠t\x20ch·∫≠m\x20r√£i.','Ch·ªõp\x20m·∫Øt\x20li√™n\x20t·ª•c\x2010\x20l·∫ßn\x20ƒë·ªÉ\x20tr√°nh\x20kh√¥\x20m·∫Øt.','L·ªói\x20m·∫°ng\x20khi\x20k·∫øt\x20n·ªëi\x20ƒë·∫øn\x20Gemini.\x20Vui\x20l√≤ng\x20ki·ªÉm\x20tra\x20k·∫øt\x20n·ªëi\x20internet.','--bg-image','result','#btnToggleCustomSounds','#set_backupDays','top','ƒê√£\x20l∆∞u\x20√¢m\x20b√°o\x20h·∫øt\x20NGH·ªà\x20D√ÄI.','type','contains','G·ª≠i\x20b·∫°n,\x20250\x20gi·ªù\x20(B·ªÅn\x20b·ªâ)','work','X√°c\x20nh·∫≠n\x20x√≥a','foreColor','B_long','createObjectURL','chat-msg\x20','mute','repeat','topic-actions','Massage\x20nh·∫π\x20hai\x20b√™n\x20th√°i\x20d∆∞∆°ng.','topics','ƒê√£\x20d·ª´ng\x20nh·∫°c\x20n·ªÅn.','topic','ƒê√£\x20x√≥a\x20h√¨nh\x20n·ªÅn\x20t√πy\x20ch·ªânh.','.subtopics','·∫®n\x20giao\x20di·ªán','#set_interval','strokeDasharray','<li\x20class=\x22tiny\x22\x20style=\x22opacity:\x200.7;\x22>Tuy·ªát\x20v·ªùi!\x20Kh√¥ng\x20c√≤n\x20task\x20n√†o.</li>','#btnRestoreBackup','clientY','cycleIndex','pomodoroData_v11','#btnAddMethod','img.youtube.com/vi/','#milestoneMessage','A_long','S·ª≠a','G·ª≠i\x20b·∫°n,\x2020\x20gi·ªù\x20(N·ªÅn\x20t·∫£ng)','</td><td>','winddown','Ch∆∞a\x20ch·ªçn\x20Ch·ªß\x20ƒë·ªÅ\x20con','ƒê√£\x20l∆∞u\x20√¢m\x20b√°o\x20h·∫øt\x20L√ÄM\x20VI·ªÜC.','main_settings','187888HPClDV','defer','target','Ph·ª•c\x20h·ªìi\x20d·ªØ\x20li·ªáu\x20th√†nh\x20c√¥ng!\x20T·∫£i\x20l·∫°i\x20trang...','mode','ƒêang\x20ph√°t\x20nh·∫°c\x20n·ªÅn...','className','pauseVideo','ƒê√£\x20chuy·ªÉn\x20sang\x20Ki·ªÉu\x20','Ch·ªß\x20ƒë·ªÅ\x20con:\x20','<div\x20class=\x22tiny\x22>Ch·ªçn\x20ch·ªß\x20ƒë·ªÅ\x20con\x20ƒë·ªÉ\x20b·∫Øt\x20ƒë·∫ßu\x20chat.</div>','italic','exportData','postMessage','promptFeedback','H√£y\x20b·∫Øt\x20ƒë·∫ßu\x20b·∫±ng\x20c√°ch\x20ch·ªçn\x20m·ªôt\x20<strong>Ch·ªß\x20ƒë·ªÅ\x20con</strong>\x20ho·∫∑c\x20t·∫°o\x20Ch·ªß\x20ƒë·ªÅ.','skip','tab','S·ª≠a\x20t√™n\x20Ch·ªß\x20ƒë·ªÅ\x20con','#set_theme_color','#backupList','min','D·ª±a\x20v√†o\x20th√¥ng\x20tin\x20sau:\x0a-\x20Ch·ªß\x20ƒë·ªÅ:\x20\x22','function','\x22?\x20M·ªçi\x20d·ªØ\x20li·ªáu\x20li√™n\x20quan\x20s·∫Ω\x20b·ªã\x20m·∫•t.','#view-timer','flex','#btnSkip','backgroundRepeat','#modalDashboard','<div\x20class=\x22hist-meta\x22>','beginWork','onerror','A_work','ƒê√£\x20x√≥a\x20l·ªãch\x20s·ª≠\x20chat.','click','active','onsuccess','ArrowUp','reverse','#btnMilestoneClose','var(--danger)','fullscreenchange','</td></tr>','stopPropagation','long_break','match','#windDownChecklist','change','Creating\x20backup\x20for\x20','menu-item\x20danger','updateUI','ƒê·ªïi\x20t√™n\x20Ch·ªß\x20ƒë·ªÅ\x20con','cyclesTarget','</label>','sessions','mousedown','#timerPresetSelector\x20button','backgroundImage','querySelector','localeCompare','formatBlock','\x20(B)','__ytApiPromise','timerState_','#methodEditorContentInput','oncomplete','#btnDefaults','#btnReset','Sortable','scrollTop','startsWith','requestFullscreen','L·ªói:\x20Kh√¥ng\x20th·ªÉ\x20b·∫≠t\x20ch·∫ø\x20ƒë·ªô\x20to√†n\x20m√†n\x20h√¨nh:\x20','getMonth','#btnFullscreen','appendChild','toggle','X√°c\x20nh·∫≠n\x20ph·ª•c\x20h·ªìi','topicId','Escape','ƒêi\x20d·∫°o\x20m·ªôt\x20v√≤ng\x20ng·∫Øn\x20quanh\x20ph√≤ng.','acc','L·ªói\x20l∆∞u\x20d·ªØ\x20li·ªáu:\x20','Ph∆∞∆°ng\x20Ph√°p\x20Vi·∫øt\x20c·ªßa\x20Benjamin\x20Franklin:\x20H·ªçc\x20Vi·∫øt\x20B·∫±ng\x20C√°ch\x20T√°i\x20T·∫°o','iframe','...','backgroundMode','webkitAudioContext','L√ÄM\x20VI·ªÜC\x20(FLOW)','<div\x20class=\x22tiny\x22>Vui\x20l√≤ng\x20ch·ªçn\x20m·ªôt\x20ch·ªß\x20ƒë·ªÅ\x20con.</div>','IndexedDB\x20initialized\x20successfully.','subtopics','volume','Th√™m\x20Ch·ªß\x20ƒë·ªÅ\x20con','‚ùå\x20Link\x20kh√¥ng\x20h·ª£p\x20l·ªá\x20ho·∫∑c\x20kh√¥ng\x20ƒë∆∞·ª£c\x20h·ªó\x20tr·ª£.','T·ª±\x20nh·∫Øc:\x20Ngh·ªâ\x20ng∆°i\x20ƒë√∫ng\x20c√°ch\x20l√†\x20ƒë·ªÉ\x20l√†m\x20vi·ªác\x20t·ªët\x20h∆°n!','remove','beginBreak','#toolH4','topicsList','http','cyclesB','\x20¬∑\x20','wind_down','#noteText','Xu·∫•t','Kh√¥ng\x20t·∫£i\x20ƒë∆∞·ª£c\x20API\x20YouTube.\x20Ki·ªÉm\x20tra\x20m·∫°ng\x20ho·∫∑c\x20t·∫£i\x20l·∫°i\x20trang.','style','#audioWorkEnd','scroll','Th·∫£\x20l·ªèng\x20to√†n\x20th√¢n,\x20c·∫£m\x20nh·∫≠n\x20h∆°i\x20th·ªü.','gain','documentElement','btn\x20small','enableWinddown','oldIndex','<input\x20type=\x22checkbox\x22\x20id=\x22','250\x20gi·ªù\x20l√†\x20minh\x20ch·ª©ng\x20cho\x20s·ª±\x20b·ªÅn\x20b·ªâ\x20ƒë√°ng\x20kinh\x20ng·∫°c.\x20B·∫°n\x20ƒë√£\x20ƒë·ªëi\x20m·∫∑t\x20v·ªõi\x20nh·ªØng\x20ng√†y\x20kh√≥\x20khƒÉn,\x20nh·ªØng\x20l√∫c\x20m·∫•t\x20t·∫≠p\x20trung,\x20nh∆∞ng\x20b·∫°n\x20v·∫´n\x20quay\x20tr·ªü\x20l·∫°i.\x20S·ª©c\x20m·∫°nh\x20th·ª±c\x20s·ª±\x20n·∫±m\x20·ªü\x20ch√≠nh\x20s·ª±\x20ki√™n\x20tr√¨\x20n√†y.','mouseup','#btnExport','<strong>$1</strong>','ƒê√£\x20l∆∞u\x20c√†i\x20ƒë·∫∑t','preset','‚ú®\x20T·ª±\x20ƒë·ªông\x20ƒë·ªãnh\x20d·∫°ng','#chatInput','153202BkEDpX','#topicsList','A_winddown','T·ª±\x20h·ªèi\x20b·∫£n\x20th√¢n:\x20‚ÄúM√¨nh\x20c·∫£m\x20th·∫•y\x20th·∫ø\x20n√†o\x20l√∫c\x20n√†y?‚Äù','version','<p>ƒê·ªÉ\x20kh√¥ng\x20b·ªã\x20cho√°ng\x20ng·ª£p\x20khi\x20h·ªçc\x20m·ªôt\x20lƒ©nh\x20v·ª±c\x20m·ªõi,\x20h√£y\x20t·∫≠p\x20trung\x20v√†o\x2020%\x20ki·∫øn\x20th·ª©c\x20c·ªët\x20l√µi\x20mang\x20l·∫°i\x2080%\x20k·∫øt\x20qu·∫£\x20(Li·ªÅu\x20l∆∞·ª£ng\x20Hi·ªáu\x20qu·∫£\x20T·ªëi\x20thi·ªÉu).</p><h4>20%\x20c·ªët\x20l√µi:\x20√Åp\x20d·ª•ng\x20Khung\x20Ph√¢n\x20t√≠ch\x205\x20B∆∞·ªõc\x20ƒë·ªÉ\x20x√°c\x20ƒë·ªãnh\x2020%\x20quan\x20tr·ªçng\x20nh·∫•t:</h4><ol><li><strong>X√°c\x20ƒë·ªãnh\x20K·∫øt\x20qu·∫£:</strong>\x20M·ª•c\x20ti√™u\x20cu·ªëi\x20c√πng\x20c·ªßa\x20b·∫°n\x20l√†\x20g√¨?\x20(v√≠\x20d·ª•:\x20x√¢y\x20d·ª±ng\x20ƒë∆∞·ª£c\x20m·ªôt\x20trang\x20web).</li><li><strong>Ph√¢n\x20t√≠ch\x20N·ªÅn\x20t·∫£ng:</strong>\x20T√¨m\x203-5\x20nguy√™n\x20l√Ω\x20b·∫•t\x20bi·∫øn\x20c·ªßa\x20ng√†nh.</li><li><strong>Nh·∫≠n\x20di·ªán\x20L·ªói\x20sai\x20Ph·ªï\x20bi·∫øn:</strong>\x20H·ªçc\x20c√°ch\x20tr√°nh\x20nh·ªØng\x20l·ªói\x20m√†\x20ng∆∞·ªùi\x20m·ªõi\x20hay\x20m·∫Øc\x20ph·∫£i.</li><li><strong>T√¨m\x20\x22Y·∫øu\x20t·ªë\x20Nh√¢n\x22:</strong>\x20K·ªπ\x20nƒÉng\x20n√†o\x20s·∫Ω\x20gi√∫p\x20h·ªçc\x20m·ªçi\x20th·ª©\x20kh√°c\x20d·ªÖ\x20d√†ng\x20h∆°n?\x20(v√≠\x20d·ª•:\x20nh·∫°c\x20l√Ω\x20trong\x20√¢m\x20nh·∫°c).</li><li><strong>L·∫≠p\x20b·∫£n\x20ƒë·ªì\x20·ª®ng\x20d·ª•ng\x20Th·ª±c\x20ti·ªÖn:</strong>\x20T·∫≠p\x20trung\x20v√†o\x2020%\x20c√¥ng\x20vi·ªác\x20chi·∫øm\x2080%\x20th·ªùi\x20gian\x20th·ª±c\x20t·∫ø\x20c·ªßa\x20ng√†nh.</li></ol>','candidates','Vui\x20l√≤ng\x20nh·∫≠p\x20ghi\x20ch√∫\x20tr∆∞·ªõc\x20khi\x20t√≥m\x20t·∫Øt.','isConnected','L·ªói\x20HTTP:\x20','generalNotes','splice','json','value','download','#genericInput','shiftKey','all','div','<div\x20class=\x22tiny\x22>Ch∆∞a\x20c√≥\x20d·ªØ\x20li·ªáu</div>','option','.color-palette','<div\x20class=\x22tiny\x22>Ch∆∞a\x20c√≥\x20tin\x20nh·∫Øn\x20n√†o.</div>','ArrowRight','enableSessionNotes','isArray','catch','.sub-row','&quot;','tickHandle','pastel','ƒê√£\x20t·∫Øt\x20n·ªÅn\x20YouTube\x20ƒë·ªÉ\x20h·ª£p\x20v·ªõi\x20theme\x20s√°ng.','execCommand','padStart','S·∫Øp\x20x·∫øp\x20l·∫°i\x20kh√¥ng\x20gian\x20l√†m\x20vi·ªác\x20c·ªßa\x20b·∫°n.'];_0x3bcb=function(){return _0x1a0565;};return _0x3bcb();}function updateEditorPreview(){const _0x149814=_0x2ebaf0,_0x5e4e76=$(_0x149814(0x279)),_0x1140cd=$(_0x149814(0x316));if(!_0x5e4e76||!_0x1140cd)return;const _0x3252b6=_0x5e4e76['value']||'';_0x1140cd[_0x149814(0x32a)]=parseSimpleMarkdown(_0x3252b6);}function normalizeDataStructure(_0x3b82bf){const _0x2fda42=_0x2ebaf0;if(!_0x3b82bf||typeof _0x3b82bf!==_0x2fda42(0x358))return;const _0x44bdc7=_0x3b82bf[_0x2fda42(0x3fb)]||{},_0xeffe27={...defaults[_0x2fda42(0x3fb)],..._0x44bdc7,'durations':{...defaults[_0x2fda42(0x3fb)][_0x2fda42(0x185)],..._0x44bdc7[_0x2fda42(0x185)]||{}}};if(!Array[_0x2fda42(0x2cf)](_0xeffe27[_0x2fda42(0x32e)]))_0xeffe27['achievedMilestones']=[];_0x3b82bf[_0x2fda42(0x3fb)]=_0xeffe27,_0x3b82bf[_0x2fda42(0x220)]=Array['isArray'](_0x3b82bf[_0x2fda42(0x220)])?_0x3b82bf[_0x2fda42(0x220)]:[],_0x3b82bf[_0x2fda42(0x220)][_0x2fda42(0x17a)](_0x573d78=>{const _0xa34f0b=_0x2fda42;_0x573d78['subtopics']=Array[_0xa34f0b(0x2cf)](_0x573d78[_0xa34f0b(0x294)])?_0x573d78['subtopics']:[],_0x573d78[_0xa34f0b(0x294)]['forEach'](_0x46ab73=>{const _0x35e343=_0xa34f0b;_0x46ab73[_0x35e343(0x17e)]=_0x46ab73['tasks']||[],_0x46ab73[_0x35e343(0x2c0)]=_0x46ab73[_0x35e343(0x2c0)]||[],_0x46ab73[_0x35e343(0x387)]=_0x46ab73['summaries']||[],_0x46ab73[_0x35e343(0x1e4)]=_0x46ab73['chatHistory']||[],_0x46ab73[_0x35e343(0x125)]=_0x46ab73[_0x35e343(0x125)]||{'totalMinutes':0x0,'sessionsCompleted':0x0,'tasksCompleted':0x0},_0x46ab73[_0x35e343(0x26f)]=_0x46ab73[_0x35e343(0x26f)]||[],_0x46ab73[_0x35e343(0x3aa)]=_0x46ab73['timerState']||{'state':_0x35e343(0x150),'prevState':null,'remaining':0x0,'segmentTotal':0x0,'cycleIndex':0x0};});});}function extractYouTubeID(_0x23c87f){const _0x3986b2=_0x2ebaf0;if(!_0x23c87f)return null;const _0x557d4c=/^.*(?:youtu.be\/|shorts\/|live\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([A-Za-z0-9_-]{11}).*/,_0x3fb910=_0x23c87f[_0x3986b2(0x266)](_0x557d4c);return _0x3fb910?_0x3fb910[0x1]:null;}let sessionYoutubeUrl='';function getActiveYoutubeUrl(){const _0x3f2e04=_0x2ebaf0;try{if(sessionYoutubeUrl)return sessionYoutubeUrl;const _0x35db27=document[_0x3f2e04(0x42e)](_0x3f2e04(0x2e0)),_0xc1cc72=(_0x35db27&&_0x35db27[_0x3f2e04(0x2c3)]?_0x35db27[_0x3f2e04(0x2c3)]:'')['trim']();return _0xc1cc72;}catch(_0x119e07){return'';}}function getActiveVideoId(){return extractYouTubeID(getActiveYoutubeUrl());}function handleYoutubeUrlInput(){const _0xa012b0=_0x2ebaf0,_0x4c60a2=$('#set_youtubeUrl'),_0x275fd1=$(_0xa012b0(0x2fb)),_0x33fc81=$('#btnToggleYtSound'),_0x754c94=_0x4c60a2['value']['trim'](),_0x44567d=extractYouTubeID(_0x754c94);if(_0x44567d){_0x275fd1[_0xa012b0(0x196)]=_0xa012b0(0x1ba),_0x275fd1[_0xa012b0(0x2a4)][_0xa012b0(0x40d)]=_0xa012b0(0x2eb),_0x33fc81[_0xa012b0(0x374)]=![],sessionYoutubeUrl=_0x754c94;try{ytUserPaused=![];}catch(_0x5853cd){}try{const _0x20ac13=_0xa012b0(0x3fd)+_0x44567d+'/maxresdefault.jpg',_0x18ba62=new Image();_0x18ba62[_0xa012b0(0x180)]=async()=>{const _0x4b418b=_0xa012b0;data[_0x4b418b(0x3fb)][_0x4b418b(0x173)]=_0x20ac13;try{await saveData();}catch(_0xc35b58){}applyCustomBg();},_0x18ba62[_0xa012b0(0x258)]=async()=>{const _0x415817=_0xa012b0,_0xce3943=_0x415817(0x3fd)+_0x44567d+_0x415817(0x1c3);data[_0x415817(0x3fb)][_0x415817(0x173)]=_0xce3943;try{await saveData();}catch(_0x2a189f){}applyCustomBg();},_0x18ba62[_0xa012b0(0x199)]=_0x20ac13;}catch(_0x17d121){}try{if(IS_FILE_PROTOCOL){const _0x197d3d=_ytUnlocked?0x0:0x1;fallbackLoadVideo(_0x44567d,{'autoplay':0x1,'mute':_0x197d3d});try{setTimeout(()=>{try{fallbackPostMessage('playVideo');}catch(_0x3e1e5a){}},0xfa);}catch(_0x153f72){}!_ytUnlocked&&showSoundPermission();try{setTimeout(()=>{const _0x1797bb=_0xa012b0,_0x228019=document[_0x1797bb(0x42e)](_0x1797bb(0x132));if(_0x228019)_0x228019['textContent']='ƒêang\x20ph√°t';},0x1f4);}catch(_0x25deaf){}}else ensureYouTubeAPI()[_0xa012b0(0x18b)](()=>{const _0x537ef2=_0xa012b0;updateYouTubePlayer();try{if(_ytUnlocked)ytFadeInPlay();else ytPlayer&&ytPlayer[_0x537ef2(0x21c)]&&ytPlayer['playVideo']&&(ytPlayer['mute'](),ytPlayer[_0x537ef2(0x302)](),_ytPrimed=!![],showSoundPermission());}catch(_0x28e44b){}})['catch'](()=>{});}catch(_0x3c1989){}}else{if(_0x754c94===''){_0x275fd1[_0xa012b0(0x196)]='',_0x33fc81[_0xa012b0(0x374)]=!![];if(IS_FILE_PROTOCOL)try{fallbackStop();}catch(_0x52dda9){}else ytPlayer&&ytPlayer[_0xa012b0(0x31e)]&&ytPlayer[_0xa012b0(0x31e)]();}else _0x275fd1['textContent']=_0xa012b0(0x297),_0x275fd1['style']['color']=_0xa012b0(0x261),_0x33fc81[_0xa012b0(0x374)]=!![];}}function applyTheme(_0x38a848){const _0x5c7e3c=_0x2ebaf0,_0x2d3a0f=_0x38a848||data[_0x5c7e3c(0x3fb)][_0x5c7e3c(0x340)]||_0x5c7e3c(0x332);document[_0x5c7e3c(0x356)][_0x5c7e3c(0x12e)][_0x5c7e3c(0x340)]=_0x2d3a0f;const _0x33551f=['lofi',_0x5c7e3c(0x3ae)][_0x5c7e3c(0x39a)](_0x2d3a0f),_0x5866be=_0x2d3a0f==='light'||_0x2d3a0f===_0x5c7e3c(0x2d4),_0x9f20f4=data[_0x5c7e3c(0x3fb)][_0x5c7e3c(0x173)],_0x235f7f=()=>{const _0xecdde7=_0x5c7e3c;try{document[_0xecdde7(0x356)][_0xecdde7(0x2a4)][_0xecdde7(0x272)]='';}catch(_0x2cee79){}};if(_0x9f20f4&&!data[_0x5c7e3c(0x3fb)][_0x5c7e3c(0x38f)])document[_0x5c7e3c(0x356)]['style'][_0x5c7e3c(0x315)](_0x5c7e3c(0x20d),'url('+_0x9f20f4+')'),_0x235f7f();else{if(_0x9f20f4&&data['settings']['useYtThumbnailAsBg'])document[_0x5c7e3c(0x356)]['style'][_0x5c7e3c(0x315)](_0x5c7e3c(0x20d),_0x5c7e3c(0x42b)+_0x9f20f4+')'),_0x235f7f();else{if(_0x33551f)document[_0x5c7e3c(0x356)][_0x5c7e3c(0x2a4)][_0x5c7e3c(0x122)](_0x5c7e3c(0x20d)),_0x235f7f();else _0x5866be?(document[_0x5c7e3c(0x356)][_0x5c7e3c(0x2a4)][_0x5c7e3c(0x315)]('--bg-image',_0x5c7e3c(0x2ff)),_0x235f7f()):(document[_0x5c7e3c(0x356)][_0x5c7e3c(0x2a4)][_0x5c7e3c(0x315)](_0x5c7e3c(0x20d),''),document[_0x5c7e3c(0x356)][_0x5c7e3c(0x2a4)][_0x5c7e3c(0x272)]='radial-gradient(1200px\x20800px\x20at\x2010%\x20-10%,\x20#20285b\x200%,\x20#0f1222\x2050%,\x20#0b0e1a\x20100%)');}}}const defaults={'version':0x1,'settings':{'apiKey':'','currentView':_0x2ebaf0(0x3cf),'preset':'A','autoStartNext':!![],'soundOn':!![],'volume':0.8,'soundTheme':_0x2ebaf0(0x147),'theme':'default','cyclesA':0x4,'longBreakIntervalA':0x4,'cyclesB':0x4,'longBreakIntervalB':0x4,'flowtimeBreakRatio':0x5,'enableWinddown':!![],'enableSessionNotes':!![],'durations':{'A_work':0x19,'A_short':0x5,'A_long':0xf,'A_winddown':0x2,'B_work':0x32,'B_short':0xa,'B_long':0x1e,'B_winddown':0x5},'selectedTopicId':'','selectedSubtopicId':'','collapsedTopics':{},'customBg':'','customSounds':{'work_end':'','break_end':'','long_end':''},'youtubeUrl':'','youtubeVolume':0x50,'useYtThumbnailAsBg':!![],'panelOpacity':0.85,'panelBlur':0xa,'backgroundMode':_0x2ebaf0(0x364),'backupDaysToKeep':0x7,'achievedMilestones':[],'methods':[{'id':uid('m'),'title':'K·ªπ\x20Thu·∫≠t\x20Feynman:\x20Hi·ªÉu\x20S√¢u\x20B·∫±ng\x20C√°ch\x20Gi·∫£i\x20Th√≠ch\x20ƒê∆°n\x20Gi·∫£n','content':_0x2ebaf0(0x353)},{'id':uid('m'),'title':_0x2ebaf0(0x28c),'content':'<p>Benjamin\x20Franklin\x20ƒë√£\x20t·ª±\x20r√®n\x20luy·ªán\x20k·ªπ\x20nƒÉng\x20vi·∫øt\x20t·ª´\x20k√©m\x20c·ªèi\x20tr·ªü\x20n√™n\x20b·∫≠c\x20th·∫ßy\x20b·∫±ng\x20m·ªôt\x20ph∆∞∆°ng\x20ph√°p\x20ch·ªß\x20ƒë·ªông,\x20thay\x20v√¨\x20ch·ªâ\x20ƒë·ªçc\x20m·ªôt\x20c√°ch\x20th·ª•\x20ƒë·ªông.\x20C·ªët\x20l√µi\x20c·ªßa\x20ph∆∞∆°ng\x20ph√°p\x20n√†y\x20l√†\x20ph√¢n\x20t√≠ch,\x20t√°i\x20t·∫°o,\x20v√†\x20so\x20s√°nh\x20v·ªõi\x20m·ªôt\x20b√†i\x20vi·∫øt\x20ch·∫•t\x20l∆∞·ª£ng\x20cao.</p><p>ƒê√¢y\x20l√†\x20m·ªôt\x20v√≠\x20d·ª•\x20kinh\x20ƒëi·ªÉn\x20c·ªßa\x20\x22Luy·ªán\x20t·∫≠p\x20c√≥\x20Ch·ªß\x20ƒë√≠ch\x22:\x20t·∫≠p\x20trung\x20v√†o\x20ƒëi·ªÉm\x20y·∫øu,\x20c√≥\x20m·ª•c\x20ti√™u\x20r√µ\x20r√†ng\x20v√†\x20nh·∫≠n\x20ph·∫£n\x20h·ªìi\x20ngay\x20l·∫≠p\x20t·ª©c.</p><h4>Quy\x20Tr√¨nh\x203\x20B∆∞·ªõc\x20C·ªët\x20L√µi</h4><ol><li><strong>Ph√¢n\x20T√≠ch\x20(Deconstruct):</strong>\x20ƒê·ªçc\x20m·ªôt\x20b√†i\x20vi·∫øt\x20m·∫´u\x20xu·∫•t\x20s·∫Øc.\x20Sau\x20ƒë√≥,\x20ch·ªâ\x20ghi\x20l·∫°i\x20nh·ªØng\x20√Ω\x20ch√≠nh\x20c·ªßa\x20t·ª´ng\x20ƒëo·∫°n\x20ho·∫∑c\x20t·ª´ng\x20c√¢u\x20ra\x20m·ªôt\x20t·ªù\x20gi·∫•y\x20ri√™ng.</li><li><strong>T√°i\x20T·∫°o\x20(Reconstruct):</strong>\x20V√†i\x20ng√†y\x20sau,\x20khi\x20ƒë√£\x20qu√™n\x20ƒëi\x20vƒÉn\x20phong\x20c·ªßa\x20b·∫£n\x20g·ªëc,\x20h√£y\x20d√πng\x20nh·ªØng\x20ghi\x20ch√∫\x20√Ω\x20ch√≠nh\x20ƒë√≥\x20ƒë·ªÉ\x20vi·∫øt\x20l·∫°i\x20to√†n\x20b·ªô\x20b√†i\x20vi·∫øt\x20b·∫±ng\x20ng√¥n\x20ng·ªØ\x20v√†\x20c√°ch\x20di·ªÖn\x20ƒë·∫°t\x20c·ªßa\x20ch√≠nh\x20b·∫°n.</li><li><strong>So\x20S√°nh\x20&\x20S·ª≠a\x20L·ªói\x20(Compare\x20&\x20Correct):</strong>\x20ƒê·ªëi\x20chi·∫øu\x20tr·ª±c\x20ti·∫øp\x20b√†i\x20vi·∫øt\x20c·ªßa\x20b·∫°n\x20v·ªõi\x20b·∫£n\x20g·ªëc.\x20ƒê√¢y\x20l√†\x20b∆∞·ªõc\x20quan\x20tr·ªçng\x20nh·∫•t.\x20N√≥\x20gi√∫p\x20b·∫°n\x20ph√°t\x20hi·ªán\x20ngay\x20l·∫≠p\x20t·ª©c\x20nh·ªØng\x20l·ªói\x20sai\x20v·ªÅ\x20t·ª´\x20v·ª±ng,\x20c·∫•u\x20tr√∫c\x20c√¢u,\x20v√†\x20c√°ch\x20s·∫Øp\x20x·∫øp\x20√Ω\x20t∆∞·ªüng\x20ƒë·ªÉ\x20s·ª≠a\x20ch·ªØa.</li></ol><p>Franklin\x20c√≤n\x20th·ª±c\x20h√†nh\x20c√°c\x20bi·∫øn\x20th·ªÉ\x20n√¢ng\x20cao\x20nh∆∞\x20x√°o\x20tr·ªôn\x20th·ª©\x20t·ª±\x20c√°c\x20√Ω\x20ch√≠nh\x20ƒë·ªÉ\x20r√®n\x20luy·ªán\x20t∆∞\x20duy\x20logic,\x20ho·∫∑c\x20chuy·ªÉn\x20vƒÉn\x20xu√¥i\x20th√†nh\x20th∆°\x20ƒë·ªÉ\x20l√†m\x20gi√†u\x20v·ªën\x20t·ª´.</p><h4>Nguy√™n\x20T·∫Øc\x20V√†ng</h4><p>Th√†nh\x20c√¥ng\x20c·ªßa\x20ph∆∞∆°ng\x20ph√°p\x20n√†y\x20kh√¥ng\x20ƒë·∫øn\x20t·ª´\x20vi·ªác\x20l·∫∑p\x20l·∫°i\x20v√¥\x20th·ª©c,\x20m√†\x20ƒë·∫øn\x20t·ª´\x20v√≤ng\x20l·∫∑p\x20ph·∫£n\x20h·ªìi\x20tr·ª±c\x20ti·∫øp.\x20Vi·ªác\x20so\x20s√°nh\x20v·ªõi\x20b·∫£n\x20g·ªëc\x20bu·ªôc\x20b·∫°n\x20ph·∫£i\x20ƒë·ªëi\x20m·∫∑t\x20v√†\x20s·ª≠a\x20ch·ªØa\x20nh·ªØng\x20ƒëi·ªÉm\x20y·∫øu\x20c·ª•\x20th·ªÉ\x20c·ªßa\x20m√¨nh,\x20bi·∫øn\x20vi·ªác\x20h·ªçc\x20t·ª´\x20m·ªôt\x20qu√°\x20tr√¨nh\x20m∆°\x20h·ªì\x20th√†nh\x20m·ªôt\x20b√†i\x20t·∫≠p\x20c√≥\x20th·ªÉ\x20ƒëo\x20l∆∞·ªùng\x20ƒë∆∞·ª£c.</p><p><i>ƒê·ªÉ\x20vi·∫øt\x20gi·ªèi\x20h∆°n,\x20ƒë·ª´ng\x20ch·ªâ\x20ƒë·ªçc.\x20H√£y\x20ch·ªçn\x20m·ªôt\x20b√†i\x20vi·∫øt\x20hay,\x20ph√¢n\x20t√≠ch\x20n√≥,\x20c·ªë\x20g·∫Øng\x20vi·∫øt\x20l·∫°i,\x20v√†\x20so\x20s√°nh\x20ƒë·ªÉ\x20t√¨m\x20ra\x20l·ªói\x20sai.</i></p>'},{'id':uid('m'),'title':_0x2ebaf0(0x14b),'content':_0x2ebaf0(0x2bb)},{'id':uid('m'),'title':_0x2ebaf0(0x3ee),'content':'<p>G·ª£i\x20nh·ªõ\x20ch·ªß\x20ƒë·ªông\x20l√†\x20h√†nh\x20ƒë·ªông\x20n·ªó\x20l·ª±c\x20truy\x20xu·∫•t\x20th√¥ng\x20tin\x20t·ª´\x20n√£o\x20b·ªô\x20m√†\x20kh√¥ng\x20nh√¨n\x20v√†o\x20t√†i\x20li·ªáu.\x20ƒê√¢y\x20l√†\x20ph∆∞∆°ng\x20ph√°p\x20h·ªçc\x20hi·ªáu\x20qu·∫£\x20v∆∞·ª£t\x20tr·ªôi\x20so\x20v·ªõi\x20vi·ªác\x20ƒë·ªçc\x20l·∫°i,\x20highlight\x20hay\x20t√≥m\x20t·∫Øt\x20m·ªôt\x20c√°ch\x20th·ª•\x20ƒë·ªông.</p><h4>Nguy√™n\x20T·∫Øc\x2020/80</h4><p><strong>20%\x20C·ªët\x20l√µi:</strong>\x20H√†nh\x20ƒë·ªông\x20\x22v·∫Øt\x20√≥c\x22\x20ƒë·ªÉ\x20nh·ªõ\x20l·∫°i\x20th√¥ng\x20tin\x20s·∫Ω\x20c·ªßng\x20c·ªë\x20c√°c\x20li√™n\x20k·∫øt\x20th·∫ßn\x20kinh,\x20gi√∫p\x20chuy·ªÉn\x20ki·∫øn\x20th·ª©c\x20v√†o\x20b·ªô\x20nh·ªõ\x20d√†i\x20h·∫°n.\x20C·∫£m\x20gi√°c\x20kh√≥\x20khƒÉn\x20khi\x20c·ªë\x20g·∫Øng\x20nh·ªõ\x20ch√≠nh\x20l√†\x20d·∫•u\x20hi·ªáu\x20c·ªßa\x20vi·ªác\x20h·ªçc\x20t·∫≠p\x20hi·ªáu\x20qu·∫£\x20ƒëang\x20di·ªÖn\x20ra.</p><p><strong>80%\x20K·∫øt\x20qu·∫£:</strong>\x20B·∫°n\x20s·∫Ω\x20ghi\x20nh·ªõ\x20ki·∫øn\x20th·ª©c\x20s√¢u\x20v√†\x20l√¢u\x20h∆°n,\x20ƒë·ªìng\x20th·ªùi\x20bi·∫øt\x20ch√≠nh\x20x√°c\x20m√¨nh\x20ƒëang\x20y·∫øu\x20·ªü\x20ƒë√¢u.</p><h4>C√°c\x20Ph∆∞∆°ng\x20Ph√°p\x20Quan\x20Tr·ªçng\x20Nh·∫•t</h4><ul><li><strong>T·ª±\x20Ki·ªÉm\x20Tra\x20(Self-testing):</strong>\x20Thay\x20v√¨\x20ƒë·ªçc\x20l·∫°i\x20ghi\x20ch√∫,\x20h√£y\x20che\x20ch√∫ng\x20ƒëi\x20v√†\x20t·ª±\x20ƒë·∫∑t\x20c√¢u\x20h·ªèi\x20cho\x20m√¨nh.\x20V√≠\x20d·ª•:\x20D√πng\x20flashcards\x20(th·∫ª\x20ghi\x20nh·ªõ)\x20v√†\x20lu√¥n\x20tr·∫£\x20l·ªùi\x20tr∆∞·ªõc\x20khi\x20l·∫≠t\x20xem\x20ƒë√°p\x20√°n.</li><li><strong>K·ªπ\x20thu·∫≠t\x20\x22Blurting\x22:</strong>\x20Sau\x20khi\x20h·ªçc\x20m·ªôt\x20ch·ªß\x20ƒë·ªÅ,\x20h√£y\x20ƒë√≥ng\x20s√°ch\x20l·∫°i\x20v√†\x20vi·∫øt\x20ra\x20gi·∫•y\x20m·ªçi\x20th·ª©\x20b·∫°n\x20c√≥\x20th·ªÉ\x20nh·ªõ.\x20Sau\x20ƒë√≥,\x20so\x20s√°nh\x20v·ªõi\x20t√†i\x20li·ªáu\x20g·ªëc\x20ƒë·ªÉ\x20l·∫•p\x20ƒë·∫ßy\x20nh·ªØng\x20l·ªó\x20h·ªïng\x20ki·∫øn\x20th·ª©c.</li><li><strong>D·∫°y\x20l·∫°i\x20cho\x20ng∆∞·ªùi\x20kh√°c:</strong>\x20Gi·∫£i\x20th√≠ch\x20m·ªôt\x20kh√°i\x20ni·ªám\x20cho\x20ng∆∞·ªùi\x20kh√°c\x20bu·ªôc\x20b·∫°n\x20ph·∫£i\x20truy\x20xu·∫•t,\x20ƒë∆°n\x20gi·∫£n\x20h√≥a\x20v√†\x20s·∫Øp\x20x·∫øp\x20l·∫°i\x20th√¥ng\x20tin\x20m·ªôt\x20c√°ch\x20m·∫°ch\x20l·∫°c.</li></ul><p><i>T√≥m\x20l·∫°i:\x20ƒê·ª´ng\x20ch·ªâ\x20ƒë·ªçc\x20l·∫°i.\x20H√£y\x20d·ª´ng\x20l·∫°i,\x20che\x20t√†i\x20li·ªáu\x20ƒëi,\x20v√†\x20t·ª±\x20h·ªèi:\x20\x22M√¨nh\x20th·ª±c\x20s·ª±\x20nh·ªõ\x20ƒë∆∞·ª£c\x20g√¨?\x22</i></p>'},{'id':uid('m'),'title':_0x2ebaf0(0x303),'content':_0x2ebaf0(0x3c9)}]},'topics':[]};let data,editingPreset='A',AUDIO_CTX=null;function ensureAudio(){const _0x2916ba=_0x2ebaf0;if(!AUDIO_CTX)AUDIO_CTX=new(window[(_0x2916ba(0x2fa))]||window[(_0x2916ba(0x290))])();}function tone(_0x2f18a6=0x370,_0x2f4cae=0xc8,_0x4ada5a=0.2,_0x3fe14e=_0x2ebaf0(0x1dd),_0x5b6bd4=0x0){const _0x5e5a41=_0x2ebaf0;ensureAudio();const _0x3d26e5=AUDIO_CTX,_0x5dc917=_0x3d26e5[_0x5e5a41(0x3d9)](),_0xac572d=_0x3d26e5[_0x5e5a41(0x116)]();_0x5dc917[_0x5e5a41(0x213)]=_0x3fe14e,_0x5dc917[_0x5e5a41(0x3e5)]['value']=_0x2f18a6,_0x5dc917[_0x5e5a41(0x416)](_0xac572d),_0xac572d[_0x5e5a41(0x416)](_0x3d26e5[_0x5e5a41(0x2fd)]);const _0x3556a7=_0x3d26e5['currentTime']+_0x5b6bd4;_0xac572d[_0x5e5a41(0x2a8)][_0x5e5a41(0x38e)](0x0,_0x3556a7),_0xac572d[_0x5e5a41(0x2a8)][_0x5e5a41(0x1d2)](_0x4ada5a,_0x3556a7+0.01),_0xac572d['gain'][_0x5e5a41(0x148)](0.0001,_0x3556a7+_0x2f4cae/0x3e8),_0x5dc917[_0x5e5a41(0x1d6)](_0x3556a7),_0x5dc917[_0x5e5a41(0x30f)](_0x3556a7+_0x2f4cae/0x3e8+0.05);}function playSound(_0x124ab1){const _0x1fea33=_0x2ebaf0;if(!data[_0x1fea33(0x3fb)]['soundOn'])return;const _0x253d19=Math['max'](0x0,Math['min'](0x1,data['settings']['volume']??0.8)),_0x870784=data['settings'][_0x1fea33(0x1f9)]?.[_0x124ab1];let _0x577b5c;if(_0x124ab1===_0x1fea33(0x13d))_0x577b5c=$(_0x1fea33(0x2a5));else{if(_0x124ab1===_0x1fea33(0x3a1))_0x577b5c=$('#audioBreakEnd');else{if(_0x124ab1==='long_end')_0x577b5c=$(_0x1fea33(0x38b));}}if(_0x870784&&_0x577b5c){_0x870784['startsWith'](_0x1fea33(0x18a))||_0x870784[_0x1fea33(0x27f)](_0x1fea33(0x29d))||_0x870784[_0x1fea33(0x27f)](_0x1fea33(0x11f))?(_0x577b5c['src']=_0x870784,_0x577b5c[_0x1fea33(0x295)]=_0x253d19,_0x577b5c['play']()[_0x1fea33(0x2d0)](_0x571f34=>console[_0x1fea33(0x143)](_0x1fea33(0x208),_0x571f34))):getStoredFileUrl(_0x870784)[_0x1fea33(0x18b)](_0x4084c3=>{const _0x4debf1=_0x1fea33;_0x4084c3&&(_0x577b5c['src']=_0x4084c3,_0x577b5c[_0x4debf1(0x295)]=_0x253d19,_0x577b5c['play']()[_0x4debf1(0x2d0)](_0x2db810=>console[_0x4debf1(0x143)](_0x4debf1(0x208),_0x2db810)));});return;}const _0x18539f=data[_0x1fea33(0x3fb)]['soundTheme']||'beep';if(_0x18539f===_0x1fea33(0x147)){if(_0x124ab1===_0x1fea33(0x13d))tone(0x370,0xfa,_0x253d19),tone(0x294,0xb4,_0x253d19*0.8,_0x1fea33(0x1dd),0.22);else{if(_0x124ab1==='break_end')tone(0x294,0xdc,_0x253d19*0.9);else _0x124ab1===_0x1fea33(0x1c9)&&(tone(0x208,0xc8,_0x253d19),tone(0x30c,0xc8,_0x253d19,'sine',0.22),tone(0x410,0xdc,_0x253d19,'sine',0.44));}}else{if(_0x124ab1===_0x1fea33(0x13d))tone(0x4b0,0xa0,_0x253d19*0.9,'triangle'),tone(0x384,0xdc,_0x253d19*0.8,'triangle',0.18);else{if(_0x124ab1==='break_end')tone(0x370,0xf0,_0x253d19*0.8,_0x1fea33(0x40b));else _0x124ab1===_0x1fea33(0x1c9)&&(tone(0x258,0xdc,_0x253d19*0.9,_0x1fea33(0x40b)),tone(0x3b6,0xf0,_0x253d19*0.9,_0x1fea33(0x40b),0.22),tone(0x4b0,0xf0,_0x253d19,'triangle',0.44));}}}async function saveData(){const _0x544920=_0x2ebaf0;try{await storageManager[_0x544920(0x436)](data);}catch(_0x2ef771){console[_0x544920(0x143)](_0x544920(0x13f),_0x2ef771),toast(_0x544920(0x28b)+_0x2ef771[_0x544920(0x152)]);}}async function ensureValidSelection(){const _0x6cce1d=_0x2ebaf0,_0x9d33b1=data['settings'];if(!data['topics']||data[_0x6cce1d(0x220)]['length']===0x0){_0x9d33b1['selectedTopicId']='',_0x9d33b1[_0x6cce1d(0x363)]='',await saveData();return;}const _0x1a144e=data[_0x6cce1d(0x220)][_0x6cce1d(0x164)](_0x59b4e1=>_0x59b4e1['id']===_0x9d33b1[_0x6cce1d(0x1ac)]),_0x4144db=_0x1a144e?.[_0x6cce1d(0x294)][_0x6cce1d(0x164)](_0x9bb0e7=>_0x9bb0e7['id']===_0x9d33b1['selectedSubtopicId']);if(!_0x1a144e||!_0x4144db){const _0x5cd2f7=data[_0x6cce1d(0x220)][0x0],_0x3070a2=_0x5cd2f7?.[_0x6cce1d(0x294)]?.[0x0];_0x9d33b1[_0x6cce1d(0x1ac)]=_0x5cd2f7?.['id']||'',_0x9d33b1[_0x6cce1d(0x363)]=_0x3070a2?.['id']||'',await saveData();}}function showInputModal(_0x14854f,_0x2afd22,_0x571b30=''){const _0x337419=_0x2ebaf0;$('#genericTitle')['textContent']=_0x14854f,$(_0x337419(0x1d0))[_0x337419(0x3a7)][_0x337419(0x1ed)](_0x337419(0x327));const _0xe18406=$(_0x337419(0x2c5));_0xe18406[_0x337419(0x2c3)]=_0x571b30,_0xe18406[_0x337419(0x3a7)][_0x337419(0x299)](_0x337419(0x327)),$(_0x337419(0x15b))[_0x337419(0x3a7)]['add'](_0x337419(0x385));try{trapFocus($(_0x337419(0x15b)));}catch(_0x1c2562){}_0xe18406[_0x337419(0x205)](),_0xe18406['select']();const _0x44cd1f=()=>{const _0x1a9e40=_0x337419;_0x2afd22(_0xe18406[_0x1a9e40(0x2c3)]),_0xcb53d8();},_0x9e23=()=>_0xcb53d8(),_0x761658=_0x44dac1=>{const _0x23ce48=_0x337419;if(_0x44dac1['key']===_0x23ce48(0x330))_0x44cd1f();if(_0x44dac1[_0x23ce48(0x35e)]===_0x23ce48(0x288))_0x9e23();};$(_0x337419(0x3f9))[_0x337419(0x139)]=_0x44cd1f,$('#btnGenericCancel')[_0x337419(0x139)]=_0x9e23,_0xe18406[_0x337419(0x135)]=_0x761658;function _0xcb53d8(){const _0x2f3b9b=_0x337419;$(_0x2f3b9b(0x15b))[_0x2f3b9b(0x3a7)][_0x2f3b9b(0x299)](_0x2f3b9b(0x385)),$('#btnGenericOk')[_0x2f3b9b(0x139)]=null,$('#btnGenericCancel')['onclick']=null,_0xe18406[_0x2f3b9b(0x135)]=null;try{releaseFocus();}catch(_0x4129d6){}}}function showConfirmModal(_0x448327,_0xb2a5dc,_0x42f31c){const _0x22b710=_0x2ebaf0;$(_0x22b710(0x334))[_0x22b710(0x196)]=_0x448327;const _0x855bf9=$(_0x22b710(0x1d0));_0x855bf9[_0x22b710(0x196)]=_0xb2a5dc,_0x855bf9[_0x22b710(0x3a7)][_0x22b710(0x299)]('hidden'),$('#genericInput')['classList'][_0x22b710(0x1ed)](_0x22b710(0x327)),$(_0x22b710(0x15b))[_0x22b710(0x3a7)][_0x22b710(0x1ed)]('show');try{trapFocus($(_0x22b710(0x15b)));}catch(_0x2feb15){}const _0x57ef77=()=>{_0x42f31c(!![]),_0xa4eb69();},_0x341396=()=>{_0x42f31c(![]),_0xa4eb69();};$(_0x22b710(0x3f9))[_0x22b710(0x139)]=_0x57ef77,$(_0x22b710(0x1c0))[_0x22b710(0x139)]=_0x341396;function _0xa4eb69(){const _0x719a2=_0x22b710;$(_0x719a2(0x15b))[_0x719a2(0x3a7)][_0x719a2(0x299)](_0x719a2(0x385)),$(_0x719a2(0x3f9))[_0x719a2(0x139)]=null,$('#btnGenericCancel')[_0x719a2(0x139)]=null;try{releaseFocus();}catch(_0x1bba3f){}}}let pendingNoteSessionId=null;function openNoteModal(_0x53d41){const _0x50730a=_0x2ebaf0;pendingNoteSessionId=_0x53d41||null;const _0x2f5d1c=$(_0x50730a(0x154));if(!_0x2f5d1c)return;const _0xe1bcb7=$(_0x50730a(0x2a1));if(_0xe1bcb7)try{_0xe1bcb7[_0x50730a(0x2c3)]='';}catch(_0x47738d){}_0x2f5d1c[_0x50730a(0x3a7)][_0x50730a(0x1ed)](_0x50730a(0x385));try{trapFocus(_0x2f5d1c);}catch(_0x13e98a){}}function closeNoteModal(){const _0x1b895e=_0x2ebaf0,_0x589c4f=$('#modalNote');if(!_0x589c4f)return;_0x589c4f[_0x1b895e(0x3a7)][_0x1b895e(0x299)](_0x1b895e(0x385)),pendingNoteSessionId=null;try{releaseFocus();}catch(_0x48570d){}}async function switchView(_0x185a7c){const _0x3d0d43=_0x2ebaf0;$$(_0x3d0d43(0x1ad))[_0x3d0d43(0x17a)](_0x287dc0=>_0x287dc0[_0x3d0d43(0x3a7)][_0x3d0d43(0x299)](_0x3d0d43(0x25c))),$(_0x3d0d43(0x16b)+_0x185a7c)[_0x3d0d43(0x3a7)][_0x3d0d43(0x1ed)]('active'),$$('.nav-btn')[_0x3d0d43(0x17a)](_0x404db1=>_0x404db1[_0x3d0d43(0x3a7)]['remove'](_0x3d0d43(0x25c)));const _0x50c9d5=$(_0x3d0d43(0x141)+_0x185a7c+'\x22]');if(_0x50c9d5)_0x50c9d5['classList']['add'](_0x3d0d43(0x25c));data[_0x3d0d43(0x3fb)][_0x3d0d43(0x380)]=_0x185a7c,await saveData(),_0x185a7c===_0x3d0d43(0x125)&&renderDashboard();}function closeAllMenus(){const _0x573d42=_0x2ebaf0;$$(_0x573d42(0x42c))[_0x573d42(0x17a)](_0x3aae58=>_0x3aae58['classList'][_0x573d42(0x299)](_0x573d42(0x385))),$$(_0x573d42(0x36b))[_0x573d42(0x17a)](_0x1c5359=>_0x1c5359[_0x573d42(0x3a7)]['remove'](_0x573d42(0x343)));}function renderTopics(){const _0x202c64=_0x2ebaf0,_0x297ec8=$(_0x202c64(0x2b7));if(!_0x297ec8)return;_0x297ec8[_0x202c64(0x32a)]='';const _0x3aeaed=data[_0x202c64(0x3fb)][_0x202c64(0x3a3)]||{};data['topics']['forEach'](_0x82bd69=>{const _0x222f77=_0x202c64,_0x29a28b=document[_0x222f77(0x407)](_0x222f77(0x2c8));_0x29a28b['className']=_0x222f77(0x3d8),_0x29a28b[_0x222f77(0x12e)][_0x222f77(0x1a6)]=_0x82bd69['id'];const _0x3872b9=document[_0x222f77(0x407)](_0x222f77(0x2c8));_0x3872b9[_0x222f77(0x23e)]='topic-header';const _0x1c6912=!!_0x3aeaed[_0x82bd69['id']],_0x2c89dc=document[_0x222f77(0x407)]('button');_0x2c89dc['className']=_0x222f77(0x3e6),_0x2c89dc[_0x222f77(0x37e)]('aria-expanded',String(!_0x1c6912)),_0x2c89dc[_0x222f77(0x32a)]='<span\x20class=\x22ico\x22>‚ñæ</span>';const _0x22046a=document[_0x222f77(0x407)]('div');_0x22046a[_0x222f77(0x23e)]=_0x222f77(0x1e5),_0x22046a[_0x222f77(0x196)]=_0x82bd69[_0x222f77(0x1a1)];const _0xd30114=document[_0x222f77(0x407)](_0x222f77(0x2c8));_0xd30114['className']=_0x222f77(0x21e);const _0x439ad2=document['createElement'](_0x222f77(0x301));_0x439ad2[_0x222f77(0x23e)]=_0x222f77(0x2aa),_0x439ad2[_0x222f77(0x32a)]='Ôºã\x20Th√™m',_0x439ad2['title']=_0x222f77(0x296);const _0x6fa68e=document['createElement'](_0x222f77(0x2c8));_0x6fa68e[_0x222f77(0x2a4)][_0x222f77(0x3b1)]='relative';const _0x3ac76c=document['createElement'](_0x222f77(0x301));_0x3ac76c[_0x222f77(0x23e)]='btn\x20small\x20ghost\x20actions-menu-btn',_0x3ac76c[_0x222f77(0x32a)]=_0x222f77(0x28e),_0x3ac76c['title']='Th√™m\x20t√πy\x20ch·ªçn';const _0x56816e=document[_0x222f77(0x407)](_0x222f77(0x2c8));_0x56816e[_0x222f77(0x23e)]=_0x222f77(0x36d);const _0x34fa7a=document[_0x222f77(0x407)]('button');_0x34fa7a[_0x222f77(0x23e)]='menu-item',_0x34fa7a[_0x222f77(0x32a)]=_0x222f77(0x39f);const _0x46a5d4=document[_0x222f77(0x407)](_0x222f77(0x301));_0x46a5d4[_0x222f77(0x23e)]=_0x222f77(0x26a),_0x46a5d4[_0x222f77(0x32a)]='X√≥a\x20Ch·ªß\x20ƒë·ªÅ',_0x56816e['append'](_0x34fa7a,_0x46a5d4),_0x6fa68e[_0x222f77(0x37a)](_0x3ac76c,_0x56816e),_0xd30114['append'](_0x439ad2,_0x6fa68e),_0x3872b9[_0x222f77(0x37a)](_0x2c89dc,_0x22046a,_0xd30114),_0x2c89dc[_0x222f77(0x3ed)](_0x222f77(0x25b),async _0x116834=>{const _0x1f6cef=_0x222f77;_0x116834[_0x1f6cef(0x264)]();const _0x22f6bb=!!_0x3aeaed[_0x82bd69['id']];_0x22f6bb?delete _0x3aeaed[_0x82bd69['id']]:_0x3aeaed[_0x82bd69['id']]=!![],data[_0x1f6cef(0x3fb)][_0x1f6cef(0x3a3)]=_0x3aeaed,await storageManager[_0x1f6cef(0x3ce)](data['settings']),renderTopics();});const _0x4f3c61=async()=>{const _0x18c8a1=_0x222f77,_0x57a3f3=!!_0x3aeaed[_0x82bd69['id']];_0x57a3f3?delete _0x3aeaed[_0x82bd69['id']]:_0x3aeaed[_0x82bd69['id']]=!![],data[_0x18c8a1(0x3fb)]['collapsedTopics']=_0x3aeaed,await storageManager[_0x18c8a1(0x3ce)](data['settings']),renderTopics();};_0x3872b9[_0x222f77(0x3ed)](_0x222f77(0x25b),async _0x337feb=>{const _0xfe6c33=_0x222f77,_0x354d1e=_0x337feb[_0xfe6c33(0x23a)];if(_0x354d1e&&_0x354d1e[_0xfe6c33(0x184)]){if(_0x354d1e[_0xfe6c33(0x184)](_0xfe6c33(0x3cd))||_0x354d1e[_0xfe6c33(0x184)](_0xfe6c33(0x160))||_0x354d1e['closest'](_0xfe6c33(0x301))||_0x354d1e[_0xfe6c33(0x184)](_0xfe6c33(0x369)))return;}_0x337feb[_0xfe6c33(0x264)](),await _0x4f3c61();}),_0x22046a[_0x222f77(0x3ed)](_0x222f77(0x25b),async _0x5e33d6=>{_0x5e33d6['stopPropagation'](),await _0x4f3c61();}),_0x29a28b[_0x222f77(0x3ed)]('click',async _0x534d64=>{const _0x22a8f4=_0x222f77,_0x384631=_0x534d64['target'];if(_0x384631&&_0x384631['closest']){if(_0x384631[_0x22a8f4(0x184)]('.subtopics'))return;if(_0x384631['closest'](_0x22a8f4(0x3cd))||_0x384631[_0x22a8f4(0x184)](_0x22a8f4(0x160))||_0x384631[_0x22a8f4(0x184)]('button')||_0x384631[_0x22a8f4(0x184)]('input,select,textarea'))return;}await _0x4f3c61();});const _0x444c53=document[_0x222f77(0x407)](_0x222f77(0x2c8));_0x444c53['className']=_0x222f77(0x294)+(_0x1c6912?_0x222f77(0x1a3):''),_0x444c53[_0x222f77(0x12e)]['tid']=_0x82bd69['id'],_0x82bd69[_0x222f77(0x294)]['forEach'](_0x2a0faf=>{const _0x46930c=_0x222f77,_0x535852=document[_0x46930c(0x407)](_0x46930c(0x2c8));_0x535852[_0x46930c(0x23e)]=_0x46930c(0x313),_0x535852[_0x46930c(0x12e)][_0x46930c(0x2ef)]=_0x2a0faf['id'];const _0x3af5cf=document[_0x46930c(0x407)]('button');_0x3af5cf[_0x46930c(0x23e)]=_0x46930c(0x3ef),_0x3af5cf['textContent']='‚Ä¢\x20'+_0x2a0faf[_0x46930c(0x1a1)],_0x3af5cf[_0x46930c(0x12e)][_0x46930c(0x2ef)]=_0x2a0faf['id'],_0x3af5cf[_0x46930c(0x12e)][_0x46930c(0x1a6)]=_0x82bd69['id'];if(data[_0x46930c(0x3fb)]['selectedSubtopicId']===_0x2a0faf['id'])_0x3af5cf[_0x46930c(0x3a7)][_0x46930c(0x1ed)](_0x46930c(0x25c));const _0x360798=document[_0x46930c(0x407)](_0x46930c(0x2c8));_0x360798['className']='actions';const _0x5c135c=document[_0x46930c(0x407)](_0x46930c(0x2c8));_0x5c135c[_0x46930c(0x2a4)][_0x46930c(0x3b1)]='relative';const _0x41b4cc=document[_0x46930c(0x407)]('button');_0x41b4cc[_0x46930c(0x23e)]='btn\x20small\x20ghost\x20actions-menu-btn',_0x41b4cc[_0x46930c(0x32a)]=_0x46930c(0x28e),_0x41b4cc[_0x46930c(0x1b7)]=_0x46930c(0x432);const _0x4316d1=document[_0x46930c(0x407)](_0x46930c(0x2c8));_0x4316d1[_0x46930c(0x23e)]=_0x46930c(0x36d);const _0x410e49=document[_0x46930c(0x407)](_0x46930c(0x301));_0x410e49['className']=_0x46930c(0x370),_0x410e49[_0x46930c(0x32a)]=_0x46930c(0x24a);const _0x118b65=document[_0x46930c(0x407)](_0x46930c(0x301));_0x118b65[_0x46930c(0x23e)]=_0x46930c(0x26a),_0x118b65[_0x46930c(0x32a)]=_0x46930c(0x1e8),_0x4316d1[_0x46930c(0x37a)](_0x410e49,_0x118b65),_0x5c135c['append'](_0x41b4cc,_0x4316d1),_0x360798[_0x46930c(0x37a)](_0x5c135c),_0x535852[_0x46930c(0x37a)](_0x3af5cf,_0x360798),_0x444c53[_0x46930c(0x284)](_0x535852),_0x3af5cf[_0x46930c(0x3ed)](_0x46930c(0x25b),()=>selectSubtopic(_0x82bd69['id'],_0x2a0faf['id'])),_0x41b4cc[_0x46930c(0x3ed)](_0x46930c(0x25b),_0x26a97c=>{const _0x3e8e62=_0x46930c;_0x26a97c['stopPropagation']();const _0x477de1=_0x4316d1[_0x3e8e62(0x3a7)]['contains']('show');closeAllMenus(),_0x477de1?_0x29a28b['classList']['remove'](_0x3e8e62(0x343)):(_0x4316d1['classList'][_0x3e8e62(0x1ed)](_0x3e8e62(0x385)),_0x29a28b[_0x3e8e62(0x3a7)]['add'](_0x3e8e62(0x343)));}),_0x410e49['addEventListener']('click',()=>showInputModal(_0x46930c(0x26c),async _0x47a7fc=>{const _0x4c3bc8=_0x46930c;if(!_0x47a7fc)return;_0x2a0faf['name']=_0x47a7fc,await storageManager[_0x4c3bc8(0x1b2)]('subtopics',_0x2a0faf),renderAll();},_0x2a0faf[_0x46930c(0x1a1)])),_0x118b65[_0x46930c(0x3ed)](_0x46930c(0x25b),()=>showConfirmModal('X√°c\x20nh·∫≠n\x20x√≥a',_0x46930c(0x3cc)+_0x2a0faf[_0x46930c(0x1a1)]+_0x46930c(0x250),async _0x2d1901=>{const _0x535a99=_0x46930c;if(!_0x2d1901)return;_0x82bd69[_0x535a99(0x294)]=_0x82bd69[_0x535a99(0x294)][_0x535a99(0x203)](_0xa7e16d=>_0xa7e16d['id']!==_0x2a0faf['id']);const _0xedee13=data['settings'];_0xedee13[_0x535a99(0x363)]===_0x2a0faf['id']&&(_0xedee13[_0x535a99(0x363)]='',_0xedee13[_0x535a99(0x1ac)]='',ensureValidSelection()),await storageManager[_0x535a99(0x1fd)](_0x535a99(0x294),_0x2a0faf['id']),renderAll();}));}),_0x3ac76c[_0x222f77(0x3ed)]('click',_0x439f92=>{const _0xbf8e14=_0x222f77;_0x439f92['stopPropagation']();const _0x2a624a=_0x56816e[_0xbf8e14(0x3a7)][_0xbf8e14(0x214)]('show');closeAllMenus(),_0x2a624a?_0x29a28b[_0xbf8e14(0x3a7)][_0xbf8e14(0x299)](_0xbf8e14(0x343)):(_0x56816e['classList'][_0xbf8e14(0x1ed)]('show'),_0x29a28b[_0xbf8e14(0x3a7)]['add'](_0xbf8e14(0x343)));}),_0x439ad2[_0x222f77(0x3ed)](_0x222f77(0x25b),()=>showInputModal(_0x222f77(0x1ae),async _0x227567=>{const _0x28f45f=_0x222f77;if(!_0x227567)return;const _0x5c7894={'id':uid('s'),'topicId':_0x82bd69['id'],'name':_0x227567,'tasks':[],'generalNotes':[],'summaries':[],'chatHistory':[],'stats':{'totalMinutes':0x0,'sessionsCompleted':0x0,'tasksCompleted':0x0},'sessions':[],'timerState':{'state':_0x28f45f(0x150),'prevState':null,'remaining':0x0,'segmentTotal':0x0,'cycleIndex':0x0}};_0x82bd69[_0x28f45f(0x294)][_0x28f45f(0x19f)](_0x5c7894),await storageManager[_0x28f45f(0x1ed)](_0x28f45f(0x294),_0x5c7894),renderTopics();})),_0x34fa7a['addEventListener'](_0x222f77(0x25b),()=>showInputModal('ƒê·ªïi\x20t√™n\x20Ch·ªß\x20ƒë·ªÅ',async _0x5cd278=>{const _0x2fb259=_0x222f77;if(!_0x5cd278)return;_0x82bd69['name']=_0x5cd278,await storageManager[_0x2fb259(0x1b2)](_0x2fb259(0x220),_0x82bd69),renderTopics();},_0x82bd69[_0x222f77(0x1a1)])),_0x46a5d4[_0x222f77(0x3ed)]('click',()=>showConfirmModal(_0x222f77(0x217),_0x222f77(0x307)+_0x82bd69[_0x222f77(0x1a1)]+_0x222f77(0x1d4),async _0x7d9f8a=>{const _0x4dd025=_0x222f77;if(!_0x7d9f8a)return;data[_0x4dd025(0x220)]=data[_0x4dd025(0x220)][_0x4dd025(0x203)](_0x36e41a=>_0x36e41a['id']!==_0x82bd69['id']),delete _0x3aeaed[_0x82bd69['id']];data[_0x4dd025(0x3fb)][_0x4dd025(0x1ac)]===_0x82bd69['id']&&(data[_0x4dd025(0x3fb)]['selectedTopicId']='',data[_0x4dd025(0x3fb)][_0x4dd025(0x363)]='',ensureValidSelection());await storageManager[_0x4dd025(0x1fd)](_0x4dd025(0x220),_0x82bd69['id']);for(const _0x36ebcb of _0x82bd69['subtopics']){await storageManager[_0x4dd025(0x1fd)]('subtopics',_0x36ebcb['id']);}renderAll();})),_0x439ad2[_0x222f77(0x3ed)](_0x222f77(0x25b),_0xca0c16=>_0xca0c16['stopPropagation']()),_0x34fa7a[_0x222f77(0x3ed)](_0x222f77(0x25b),_0x5b08c3=>_0x5b08c3['stopPropagation']()),_0x46a5d4[_0x222f77(0x3ed)](_0x222f77(0x25b),_0x1ee1f4=>_0x1ee1f4[_0x222f77(0x264)]()),_0x29a28b[_0x222f77(0x37a)](_0x3872b9,_0x444c53),_0x297ec8['appendChild'](_0x29a28b);});if(window[_0x202c64(0x27d)]){const _0x35d0ec=document[_0x202c64(0x42e)](_0x202c64(0x29c));if(_0x35d0ec){if(_0x35d0ec['_sortable'])try{_0x35d0ec['_sortable'][_0x202c64(0x38d)]();}catch(_0x2658e4){}_0x35d0ec[_0x202c64(0x2e1)]=new Sortable(_0x35d0ec,{'animation':0x96,'draggable':'.topic-item','onEnd':async function(_0x5de5bb){const _0x512a3d=_0x202c64;if(_0x5de5bb[_0x512a3d(0x2ac)]===_0x5de5bb[_0x512a3d(0x1eb)])return;const _0x50aead=data[_0x512a3d(0x220)]['splice'](_0x5de5bb[_0x512a3d(0x2ac)],0x1)[0x0];data[_0x512a3d(0x220)]['splice'](_0x5de5bb[_0x512a3d(0x1eb)],0x0,_0x50aead),await saveData(),renderTopics();}}),_0x35d0ec[_0x202c64(0x43c)](_0x202c64(0x224))[_0x202c64(0x17a)](_0x3c1642=>{const _0x164f8a=_0x202c64;new Sortable(_0x3c1642,{'group':'subtopics-group','animation':0x96,'draggable':_0x164f8a(0x2d1),'onEnd':async function(_0x3cce21){const _0x4abaae=_0x164f8a,_0x42e506=_0x3cce21[_0x4abaae(0x18f)]?.[_0x4abaae(0x12e)]?.['tid']||_0x3cce21['from']?.[_0x4abaae(0x184)]('.topic-item')?.[_0x4abaae(0x12e)]?.['tid'],_0x3aa23f=_0x3cce21['to']?.[_0x4abaae(0x12e)]?.[_0x4abaae(0x1a6)]||_0x3cce21['to']?.[_0x4abaae(0x184)](_0x4abaae(0x3d1))?.[_0x4abaae(0x12e)]?.[_0x4abaae(0x1a6)],_0x30d4be=data[_0x4abaae(0x220)][_0x4abaae(0x164)](_0x39a64c=>_0x39a64c['id']===_0x42e506),_0x35e674=data[_0x4abaae(0x220)][_0x4abaae(0x164)](_0x181866=>_0x181866['id']===_0x3aa23f);if(!_0x30d4be||!_0x35e674)return;let _0x17599b=null;const _0x44b6c9=_0x3cce21[_0x4abaae(0x344)]?.[_0x4abaae(0x12e)]?.[_0x4abaae(0x2ef)]||_0x3cce21[_0x4abaae(0x344)]?.[_0x4abaae(0x273)]('.subtopic-btn')?.[_0x4abaae(0x12e)]?.[_0x4abaae(0x2ef)];if(_0x44b6c9){const _0x61ae08=_0x30d4be[_0x4abaae(0x294)][_0x4abaae(0x19e)](_0x380290=>_0x380290['id']===_0x44b6c9);if(_0x61ae08>=0x0)_0x17599b=_0x30d4be[_0x4abaae(0x294)]['splice'](_0x61ae08,0x1)[0x0];}!_0x17599b&&(_0x17599b=_0x30d4be['subtopics']['splice'](_0x3cce21[_0x4abaae(0x2ac)],0x1)[0x0]);if(!_0x17599b)return;_0x17599b['topicId']=_0x35e674['id'],_0x35e674[_0x4abaae(0x294)][_0x4abaae(0x2c1)](_0x3cce21['newIndex'],0x0,_0x17599b),data['settings']['selectedSubtopicId']===_0x17599b['id']&&(data['settings'][_0x4abaae(0x1ac)]=_0x35e674['id']),await saveData(),renderTopics();}});});}}}function selectSubtopic(_0x10f3fe,_0x52eb17){const _0x8554cd=_0x2ebaf0,_0x1264a7=$(_0x8554cd(0x33d)),_0x5a3b34=getCurrentSubtopic();_0x5a3b34&&timer['state']!==_0x8554cd(0x150)&&(_0x5a3b34[_0x8554cd(0x3aa)]={'state':timer[_0x8554cd(0x3b4)],'prevState':timer['prevState'],'remaining':timer[_0x8554cd(0x333)],'segmentTotal':timer[_0x8554cd(0x411)],'cycleIndex':timer[_0x8554cd(0x22b)]}),_0x1264a7[_0x8554cd(0x3a7)][_0x8554cd(0x1ed)]('reloading'),setTimeout(async()=>{const _0x25ded9=_0x8554cd;data['settings']['selectedTopicId']=_0x10f3fe,data[_0x25ded9(0x3fb)][_0x25ded9(0x363)]=_0x52eb17;const _0xd2bd1d=getCurrentSubtopic();_0xd2bd1d[_0x25ded9(0x3aa)]?(timer[_0x25ded9(0x3b4)]=_0xd2bd1d['timerState'][_0x25ded9(0x3b4)],timer[_0x25ded9(0x1ff)]=_0xd2bd1d[_0x25ded9(0x3aa)]['prevState']||null,timer[_0x25ded9(0x333)]=_0xd2bd1d[_0x25ded9(0x3aa)][_0x25ded9(0x333)],timer[_0x25ded9(0x411)]=_0xd2bd1d[_0x25ded9(0x3aa)][_0x25ded9(0x411)],timer[_0x25ded9(0x22b)]=_0xd2bd1d[_0x25ded9(0x3aa)][_0x25ded9(0x22b)]):timer['reset'](),await saveData(),timer[_0x25ded9(0x26b)](),renderAll(),switchView(_0x25ded9(0x3cf)),_0x1264a7['classList']['remove'](_0x25ded9(0x41f));},0xc8);}function getCurrentSubtopic(){const _0x1fd923=_0x2ebaf0,_0x3f6676=data['settings'][_0x1fd923(0x1ac)],_0x39fd27=data[_0x1fd923(0x3fb)]['selectedSubtopicId'];if(!_0x3f6676||!_0x39fd27)return null;const _0x4d2200=data[_0x1fd923(0x220)][_0x1fd923(0x164)](_0x476466=>_0x476466['id']===_0x3f6676);if(!_0x4d2200)return null;return _0x4d2200['subtopics']['find'](_0x887c02=>_0x887c02['id']===_0x39fd27)||null;}function renderContextBadge(){const _0x263b15=_0x2ebaf0,_0x14b9c1=getCurrentSubtopic(),_0x1ebf46=_0x14b9c1?_0x14b9c1[_0x263b15(0x1a1)]:'(ch∆∞a\x20ch·ªçn)',_0x33ebbb=$(_0x263b15(0x399)),_0xacb828=$(_0x263b15(0x3dc)),_0x9ee8d3=$(_0x263b15(0x3db));if(_0x33ebbb)_0x33ebbb[_0x263b15(0x196)]=_0x14b9c1?_0x263b15(0x241)+_0x14b9c1['name']:_0x263b15(0x235);if(_0xacb828)_0xacb828[_0x263b15(0x196)]=_0x1ebf46;if(_0x9ee8d3)_0x9ee8d3['textContent']=_0x1ebf46;}function renderSubtopicTasks(){const _0x47ee61=_0x2ebaf0,_0xddf3a=getCurrentSubtopic(),_0x2caee1=$('#subtopicTasksList'),_0xd02d3c=$(_0x47ee61(0x144));if(!_0x2caee1||!_0xd02d3c)return;const _0x52b6e3=_0xd02d3c[_0x47ee61(0x3f6)];if(!_0xddf3a){_0x2caee1['innerHTML']=_0x47ee61(0x386),_0x52b6e3[_0x47ee61(0x3a7)][_0x47ee61(0x1ed)]('hidden');return;}_0x52b6e3[_0x47ee61(0x3a7)][_0x47ee61(0x299)](_0x47ee61(0x327)),_0x2caee1[_0x47ee61(0x32a)]='';const _0x589623=_0xddf3a[_0x47ee61(0x17e)]?_0xddf3a['tasks']['filter'](_0x403abb=>!_0x403abb[_0x47ee61(0x2e7)]):[];_0x589623[_0x47ee61(0x402)]===0x0&&(_0x2caee1[_0x47ee61(0x32a)]=_0x47ee61(0x228)),_0x589623['forEach'](_0x41f7fe=>{const _0x476741=_0x47ee61,_0x2946b5=document[_0x476741(0x407)]('li');_0x2946b5[_0x476741(0x32a)]=_0x476741(0x2ad)+_0x41f7fe['id']+_0x476741(0x31b)+_0x41f7fe['id']+'\x22>'+escapeHTML(_0x41f7fe[_0x476741(0x3b7)])+_0x476741(0x26e),_0x2946b5[_0x476741(0x273)](_0x476741(0x2e8))[_0x476741(0x3ed)]('change',_0x121479=>toggleSubtopicTask(_0x121479['target']['id'],_0x2946b5)),_0x2caee1[_0x476741(0x284)](_0x2946b5);});}async function addSubtopicTask(){const _0x3ff271=_0x2ebaf0,_0x98dd38=getCurrentSubtopic();if(!_0x98dd38){toast(t(_0x3ff271(0x1af)));return;}const _0x2a7cb9=$(_0x3ff271(0x144)),_0xe55000=_0x2a7cb9[_0x3ff271(0x2c3)]['trim']();if(_0xe55000){if(!_0x98dd38['tasks'])_0x98dd38[_0x3ff271(0x17e)]=[];_0x98dd38[_0x3ff271(0x17e)][_0x3ff271(0x19f)]({'id':uid('task'),'text':_0xe55000,'isCompleted':![],'createdAt':todayISO()}),await saveData(),renderSubtopicTasks(),_0x2a7cb9['value']='';}_0x2a7cb9[_0x3ff271(0x205)]();}async function toggleSubtopicTask(_0x4c631d,_0x28b847){const _0x262496=_0x2ebaf0,_0x361d43=getCurrentSubtopic();if(!_0x361d43||!_0x361d43['tasks'])return;const _0x60f9f2=_0x361d43[_0x262496(0x17e)][_0x262496(0x164)](_0x2928f2=>_0x2928f2['id']===_0x4c631d);_0x60f9f2&&(_0x60f9f2['isCompleted']=!![],_0x361d43[_0x262496(0x125)][_0x262496(0x14c)]=(_0x361d43[_0x262496(0x125)][_0x262496(0x14c)]||0x0)+0x1,await saveData(),_0x28b847[_0x262496(0x3a7)][_0x262496(0x1ed)](_0x262496(0x3b3)),setTimeout(()=>{renderSubtopicTasks(),renderStatsHistory();},0xc8));}const timer={'state':_0x2ebaf0(0x150),'prevState':null,'tickHandle':null,'endAt':null,'remaining':0x0,'segmentTotal':0x0,'cyclesTarget':0x4,'cycleIndex':0x0,'mode':'A','persistInterval':0x3c*0x3e8,'lastPersist':0x0,async 'setPreset'(_0x591a91,{silent:silent=![]}={}){const _0x25ede9=_0x2ebaf0,_0x48e73c=data[_0x25ede9(0x3fb)];this[_0x25ede9(0x23c)]=_0x591a91,this[_0x25ede9(0x26d)]=_0x591a91==='A'?_0x48e73c[_0x25ede9(0x1ca)]:_0x591a91==='B'?_0x48e73c[_0x25ede9(0x29e)]:0x0,_0x48e73c[_0x25ede9(0x2b3)]=_0x591a91,await saveData(),this[_0x25ede9(0x3b4)]===_0x25ede9(0x150)&&this[_0x25ede9(0x43d)]();},'currentDurations'(){const _0xa778c8=_0x2ebaf0,_0x2b4c2f=data['settings'][_0xa778c8(0x185)];if(this[_0xa778c8(0x23c)]==='A')return{'work':_0x2b4c2f[_0xa778c8(0x259)],'short':_0x2b4c2f['A_short'],'long':_0x2b4c2f[_0xa778c8(0x230)],'winddown':_0x2b4c2f['A_winddown']??0x0};if(this[_0xa778c8(0x23c)]==='B')return{'work':_0x2b4c2f[_0xa778c8(0x16a)],'short':_0x2b4c2f[_0xa778c8(0x32b)],'long':_0x2b4c2f['B_long'],'winddown':_0x2b4c2f[_0xa778c8(0x39b)]??0x0};return{'work':0x0,'short':0x0,'long':0x0,'winddown':0x0};},'currentConfig'(){const _0x321c00=_0x2ebaf0,_0x2894fe=data[_0x321c00(0x3fb)];if(this[_0x321c00(0x23c)]==='A')return{'cycles':_0x2894fe[_0x321c00(0x1ca)],'interval':_0x2894fe[_0x321c00(0x2da)]};if(this[_0x321c00(0x23c)]==='B')return{'cycles':_0x2894fe['cyclesB'],'interval':_0x2894fe[_0x321c00(0x11d)]};return{'cycles':0x0,'interval':0x0};},'updateUI'(){const _0x56e9d0=_0x2ebaf0,_0x502c18=$(_0x56e9d0(0x3e0)),_0x18c392=$(_0x56e9d0(0x17f)),_0x1641d4=$(_0x56e9d0(0x12b));if(!_0x502c18||!_0x18c392||!_0x1641d4)return;const _0x450dca=this['mode']==='C';$(_0x56e9d0(0x170))[_0x56e9d0(0x3a7)][_0x56e9d0(0x285)]('hidden',this[_0x56e9d0(0x3b4)]!=='idle'||_0x450dca&&this[_0x56e9d0(0x3b4)]===_0x56e9d0(0x216)),$(_0x56e9d0(0x163))[_0x56e9d0(0x3a7)]['toggle']('hidden',!(_0x450dca&&this[_0x56e9d0(0x3b4)]===_0x56e9d0(0x216))),$(_0x56e9d0(0x1e3))[_0x56e9d0(0x3a7)][_0x56e9d0(0x285)]('hidden',![_0x56e9d0(0x216),_0x56e9d0(0x177),_0x56e9d0(0x265)]['includes'](this[_0x56e9d0(0x3b4)])),$('#btnResume')['classList']['toggle'](_0x56e9d0(0x327),this['state']!==_0x56e9d0(0x16c));let _0x52f8d6=_0x56e9d0(0x114);if(this[_0x56e9d0(0x3b4)]===_0x56e9d0(0x216))_0x502c18[_0x56e9d0(0x196)]=_0x450dca?_0x56e9d0(0x291):_0x56e9d0(0x360),_0x502c18[_0x56e9d0(0x23e)]='badge\x20state\x20work',_0x52f8d6='var(--acc)';else{if(this[_0x56e9d0(0x3b4)]===_0x56e9d0(0x177))_0x502c18[_0x56e9d0(0x196)]='NGH·ªà\x20NG·∫ÆN',_0x502c18[_0x56e9d0(0x23e)]=_0x56e9d0(0x3d7),_0x52f8d6='var(--warn)';else{if(this['state']===_0x56e9d0(0x265))_0x502c18['textContent']=_0x56e9d0(0x201),_0x502c18[_0x56e9d0(0x23e)]=_0x56e9d0(0x3f0),_0x52f8d6=_0x56e9d0(0x261);else{if(this['state']===_0x56e9d0(0x2a0)){_0x502c18[_0x56e9d0(0x196)]='H·∫†\x20NHI·ªÜT',_0x502c18[_0x56e9d0(0x23e)]='badge\x20state\x20work',_0x52f8d6=_0x56e9d0(0x2eb);try{$(_0x56e9d0(0x267))['classList'][_0x56e9d0(0x299)](_0x56e9d0(0x327)),$(_0x56e9d0(0x1bb))[_0x56e9d0(0x3a7)][_0x56e9d0(0x299)]('hidden');}catch(_0x7bb0d7){}}else this[_0x56e9d0(0x3b4)]===_0x56e9d0(0x16c)?(_0x502c18[_0x56e9d0(0x196)]=_0x56e9d0(0x11c),_0x502c18[_0x56e9d0(0x23e)]=_0x56e9d0(0x35c)):(_0x502c18[_0x56e9d0(0x196)]=_0x56e9d0(0x194),_0x502c18['className']='badge');}}}[_0x56e9d0(0x216),'break',_0x56e9d0(0x265),'wind_down']['includes'](this[_0x56e9d0(0x3b4)])?_0x1641d4[_0x56e9d0(0x3a7)][_0x56e9d0(0x1ed)](_0x56e9d0(0x398)):_0x1641d4[_0x56e9d0(0x3a7)][_0x56e9d0(0x299)]('breathing');_0x18c392[_0x56e9d0(0x2a4)][_0x56e9d0(0x410)]=_0x52f8d6,_0x1641d4[_0x56e9d0(0x3a7)][_0x56e9d0(0x299)]('finished');const _0x4c20d2=$('#timeDisplay');if(_0x4c20d2)_0x4c20d2['textContent']=formatMMSS(this[_0x56e9d0(0x333)]);const _0x1530ca=_0x18c392['r'][_0x56e9d0(0x367)]['value'],_0x143438=0x2*Math['PI']*_0x1530ca,_0x9e67d1=this[_0x56e9d0(0x411)]>0x0?_0x143438-this['remaining']/this[_0x56e9d0(0x411)]*_0x143438:_0x143438;_0x18c392[_0x56e9d0(0x2a4)][_0x56e9d0(0x227)]=_0x143438,_0x18c392['style']['strokeDashoffset']=isNaN(_0x9e67d1)?_0x143438:_0x9e67d1;const _0x59f5ba=$(_0x56e9d0(0x3f4));if(_0x59f5ba){const _0x33f4ab=this[_0x56e9d0(0x3f3)]();_0x59f5ba['textContent']=t('timer.cycleInfo',{'current':this[_0x56e9d0(0x22b)],'target':_0x33f4ab[_0x56e9d0(0x373)]}),_0x59f5ba[_0x56e9d0(0x3a7)][_0x56e9d0(0x285)](_0x56e9d0(0x327),_0x450dca);}const _0x154684=$(_0x56e9d0(0x322));_0x154684&&_0x154684[_0x56e9d0(0x3a7)][_0x56e9d0(0x285)](_0x56e9d0(0x327),_0x450dca&&this[_0x56e9d0(0x3b4)]===_0x56e9d0(0x216));const _0x4c3cf1=$(_0x56e9d0(0x192));if(_0x4c3cf1)_0x4c3cf1[_0x56e9d0(0x196)]=formatMMSS(this['remaining']);if(this[_0x56e9d0(0x3b4)]!==_0x56e9d0(0x2a0))try{$(_0x56e9d0(0x267))[_0x56e9d0(0x3a7)][_0x56e9d0(0x1ed)]('hidden'),$(_0x56e9d0(0x1bb))['classList']['add'](_0x56e9d0(0x327));}catch(_0x400771){}},'persistTimerState'(_0x19cfa5=![]){const _0x998f6c=_0x2ebaf0;try{const _0x42dc7c=getCurrentSubtopic();if(!_0x42dc7c)return;const _0x19725d={'state':this[_0x998f6c(0x3b4)],'prevState':this[_0x998f6c(0x1ff)],'remaining':this['remaining'],'segmentTotal':this[_0x998f6c(0x411)],'cycleIndex':this[_0x998f6c(0x22b)]};_0x42dc7c['timerState']=_0x19725d;try{localStorage[_0x998f6c(0x128)](_0x998f6c(0x278)+_0x42dc7c['id'],JSON[_0x998f6c(0x428)](_0x19725d));}catch(_0x1467ec){}this['lastPersist']=Date[_0x998f6c(0x142)]();}catch(_0x326130){}},'_startTick'(){const _0x19f40b=_0x2ebaf0;if(this[_0x19f40b(0x2d3)])clearInterval(this[_0x19f40b(0x2d3)]);if(this['mode']==='C'&&this[_0x19f40b(0x3b4)]===_0x19f40b(0x216)){this[_0x19f40b(0x2d3)]=setInterval(()=>{const _0x460cf6=_0x19f40b;this['remaining']+=0x1,this[_0x460cf6(0x26b)](),this[_0x460cf6(0x1d3)]();},0x3e8);return;}this['tickHandle']=setInterval(()=>{const _0x56d2c5=_0x19f40b;this[_0x56d2c5(0x333)]>0x0&&(this['remaining']-=0x1,this['updateUI'](),this[_0x56d2c5(0x1d3)]()),this['remaining']<=0x0&&(clearInterval(this['tickHandle']),this[_0x56d2c5(0x2d3)]=null,this[_0x56d2c5(0x1fe)]());},0x3e8);},'_onFinishSegment'(){const _0x4f7c4d=_0x2ebaf0;if(this[_0x4f7c4d(0x3b4)]===_0x4f7c4d(0x216)){const _0x59e919=getCurrentSubtopic();if(_0x59e919){const _0x3d05f1=this[_0x4f7c4d(0x408)]()[_0x4f7c4d(0x216)];_0x59e919[_0x4f7c4d(0x125)]['totalMinutes']=(_0x59e919['stats'][_0x4f7c4d(0x3d4)]||0x0)+_0x3d05f1,_0x59e919[_0x4f7c4d(0x125)]['sessionsCompleted']=(_0x59e919['stats'][_0x4f7c4d(0x3df)]||0x0)+0x1;const _0x3e81a={'id':uid('sess'),'dateISO':todayISO(),'durationMinutes':_0x3d05f1,'mode':this['mode'],'note':''};if(!_0x59e919[_0x4f7c4d(0x26f)])_0x59e919['sessions']=[];_0x59e919[_0x4f7c4d(0x26f)]['unshift'](_0x3e81a);if(data?.[_0x4f7c4d(0x3fb)]?.['enableSessionNotes']!==![])try{openNoteModal(_0x3e81a['id']);}catch(_0x26cc44){}saveData(),renderStatsHistory(),checkAndShowMilestones();}this[_0x4f7c4d(0x22b)]++;}if(typeof data!==_0x4f7c4d(0x15d)&&data&&data[_0x4f7c4d(0x3fb)]&&data[_0x4f7c4d(0x3fb)][_0x4f7c4d(0x2ab)]===![]&&this['state']===_0x4f7c4d(0x216))playSound('work_end');else(this[_0x4f7c4d(0x3b4)]===_0x4f7c4d(0x2a0)||this[_0x4f7c4d(0x3b4)]==='break'||this[_0x4f7c4d(0x3b4)]==='long_break')&&playSound(_0x4f7c4d(0x3a1));const _0x3ca0eb=$(_0x4f7c4d(0x12b));if(_0x3ca0eb)_0x3ca0eb['classList'][_0x4f7c4d(0x1ed)]('finished');if(data[_0x4f7c4d(0x3fb)][_0x4f7c4d(0x3ca)]){if(this[_0x4f7c4d(0x3b4)]===_0x4f7c4d(0x216))data[_0x4f7c4d(0x3fb)][_0x4f7c4d(0x2ab)]===![]?this[_0x4f7c4d(0x29a)]():this['beginWindDown']();else this[_0x4f7c4d(0x3b4)]===_0x4f7c4d(0x2a0)?this[_0x4f7c4d(0x29a)]():this[_0x4f7c4d(0x257)]();}else this['tickHandle']&&(clearInterval(this[_0x4f7c4d(0x2d3)]),this[_0x4f7c4d(0x2d3)]=null),this[_0x4f7c4d(0x3b4)]='idle',this[_0x4f7c4d(0x1ff)]=null,this[_0x4f7c4d(0x26b)](),toast(_0x4f7c4d(0x42a));},'beginWindDown'(){const _0x107355=_0x2ebaf0;if(data?.[_0x107355(0x3fb)]?.[_0x107355(0x2ab)]===![]){this['beginBreak']();return;}this['prevState']=this[_0x107355(0x3b4)],this[_0x107355(0x3b4)]='wind_down';const _0x1292fc=(this['currentDurations']()[_0x107355(0x234)]||0x0)*0x3c;if(_0x1292fc<=0x0){this[_0x107355(0x29a)]();return;}this['segmentTotal']=_0x1292fc,this[_0x107355(0x333)]=_0x1292fc;try{playSound(_0x107355(0x3a1));}catch(_0x241436){}try{toast(_0x107355(0x1bd));}catch(_0x2adbd4){}this['_startTick'](),this[_0x107355(0x26b)]();},'beginWork'(){const _0x227631=_0x2ebaf0;this[_0x227631(0x1ff)]=this[_0x227631(0x3b4)],this[_0x227631(0x3b4)]=_0x227631(0x216);if(this[_0x227631(0x23c)]==='C'){this[_0x227631(0x411)]=0x0;if(this[_0x227631(0x1ff)]!==_0x227631(0x16c))this['remaining']=0x0;}else{const _0xe8a814=this['currentDurations']()[_0x227631(0x216)]*0x3c;this[_0x227631(0x411)]=_0xe8a814;if(this[_0x227631(0x1ff)]!==_0x227631(0x16c))this['remaining']=_0xe8a814;}const _0x2e108b=$(_0x227631(0x322));_0x2e108b&&(_0x2e108b[_0x227631(0x196)]=''),this[_0x227631(0x1f2)](),this[_0x227631(0x26b)]();},'finishFlowSession'(){const _0x33fdd9=_0x2ebaf0;if(this[_0x33fdd9(0x23c)]!=='C'||this[_0x33fdd9(0x3b4)]!==_0x33fdd9(0x216))return;this[_0x33fdd9(0x2d3)]&&(clearInterval(this['tickHandle']),this['tickHandle']=null);const _0x585087=Math[_0x33fdd9(0x12c)](0x1,parseInt(data[_0x33fdd9(0x3fb)]['flowtimeBreakRatio']??0x5,0xa)),_0x5ee46f=Math['max'](0x0,this[_0x33fdd9(0x333)]|0x0),_0x570680=Math[_0x33fdd9(0x12c)](0x3c,Math[_0x33fdd9(0x1a9)](_0x5ee46f/_0x585087));try{const _0x4a69f9=getCurrentSubtopic();if(_0x4a69f9){const _0x50ad7e=Math[_0x33fdd9(0x12c)](0x1,Math[_0x33fdd9(0x1f8)](_0x5ee46f/0x3c));_0x4a69f9[_0x33fdd9(0x125)][_0x33fdd9(0x3d4)]=(_0x4a69f9[_0x33fdd9(0x125)]['totalMinutes']||0x0)+_0x50ad7e,_0x4a69f9['stats'][_0x33fdd9(0x3df)]=(_0x4a69f9[_0x33fdd9(0x125)][_0x33fdd9(0x3df)]||0x0)+0x1;const _0x15a811={'id':uid(_0x33fdd9(0x1aa)),'dateISO':todayISO(),'durationMinutes':_0x50ad7e,'mode':this[_0x33fdd9(0x23c)],'note':''};if(!_0x4a69f9['sessions'])_0x4a69f9['sessions']=[];_0x4a69f9[_0x33fdd9(0x26f)]['unshift'](_0x15a811),saveData(),renderStatsHistory(),data?.[_0x33fdd9(0x3fb)]?.['enableSessionNotes']!==![]&&openNoteModal(_0x15a811['id']);}}catch(_0x4085f4){}this[_0x33fdd9(0x3b4)]=_0x33fdd9(0x177),this[_0x33fdd9(0x411)]=_0x570680,this[_0x33fdd9(0x333)]=_0x570680,this['_startTick'](),this[_0x33fdd9(0x26b)](),this[_0x33fdd9(0x1d3)](!![]);try{toast(_0x33fdd9(0x389)+Math['round'](_0x570680/0x3c)+'\x20ph√∫t\x20theo\x20Flowtime\x20('+_0x585087+').');}catch(_0x39ea30){}},'beginBreak'(){const _0x5abb4b=_0x2ebaf0;this['prevState']=this[_0x5abb4b(0x3b4)];const _0x593d4c=this['currentConfig'](),_0x222379=this[_0x5abb4b(0x408)]();if(this['cycleIndex']>0x0&&this['cycleIndex']%_0x593d4c[_0x5abb4b(0x198)]===0x0){this['state']=_0x5abb4b(0x265);const _0x15d1a3=_0x222379['long']*0x3c;this[_0x5abb4b(0x411)]=_0x15d1a3;if(this[_0x5abb4b(0x1ff)]!==_0x5abb4b(0x16c))this[_0x5abb4b(0x333)]=_0x15d1a3;toast('Tuy·ªát\x20v·ªùi!\x20ƒê√£\x20ƒë·∫øn\x20l√∫c\x20ngh·ªâ\x20d√†i.');}else{this['state']=_0x5abb4b(0x177);const _0x444026=_0x222379['short']*0x3c;this[_0x5abb4b(0x411)]=_0x444026;if(this[_0x5abb4b(0x1ff)]!=='paused')this['remaining']=_0x444026;}const _0x3f5cf6=$('#breakSuggestionDisplay');if(_0x3f5cf6){const _0x2bf3dc=Math[_0x5abb4b(0x1a9)](Math['random']()*breakSuggestions['length']);_0x3f5cf6['textContent']='üí°\x20G·ª£i\x20√Ω:\x20'+breakSuggestions[_0x2bf3dc];}this['_startTick'](),this[_0x5abb4b(0x26b)]();},async 'start'(){const _0x44dfda=_0x2ebaf0;if(!getCurrentSubtopic()){toast('H√£y\x20ch·ªçn\x20m·ªôt\x20Ch·ªß\x20ƒë·ªÅ\x20con\x20tr∆∞·ªõc\x20khi\x20b·∫Øt\x20ƒë·∫ßu');return;}ensureAudio();if(this[_0x44dfda(0x23c)]==='C'&&this[_0x44dfda(0x3b4)]==='idle')this[_0x44dfda(0x3b4)]=_0x44dfda(0x216),this['remaining']=0x0,this[_0x44dfda(0x411)]=0x0,this[_0x44dfda(0x22b)]=0x0,this[_0x44dfda(0x1f2)](),this[_0x44dfda(0x26b)]();else{if(this['state']===_0x44dfda(0x150))this['cycleIndex']=this[_0x44dfda(0x22b)]||0x0,this[_0x44dfda(0x257)]();else this[_0x44dfda(0x3b4)]===_0x44dfda(0x16c)&&this[_0x44dfda(0x420)]();}await this[_0x44dfda(0x1d3)](!![]);},async 'pause'(){const _0x1abf01=_0x2ebaf0;this[_0x1abf01(0x2d3)]&&(clearInterval(this[_0x1abf01(0x2d3)]),this[_0x1abf01(0x2d3)]=null),this[_0x1abf01(0x1ff)]=this['state'],this[_0x1abf01(0x3b4)]=_0x1abf01(0x16c),this['updateUI'](),await this[_0x1abf01(0x1d3)](!![]);},async 'resume'(){const _0x5282ca=_0x2ebaf0;if(this['state']!=='paused')return;this['state']=this[_0x5282ca(0x1ff)]||_0x5282ca(0x216),this[_0x5282ca(0x1f2)](),this['updateUI'](),await this[_0x5282ca(0x1d3)](!![]);},async 'skip'(){const _0x5f41da=_0x2ebaf0;if(this[_0x5f41da(0x23c)]==='C'&&this['state']==='work'){this[_0x5f41da(0x2dc)](),await this['persistTimerState'](!![]);return;}this['state']===_0x5f41da(0x216)?(this[_0x5f41da(0x2d3)]&&(clearInterval(this[_0x5f41da(0x2d3)]),this[_0x5f41da(0x2d3)]=null),this[_0x5f41da(0x333)]=0x0,this[_0x5f41da(0x1fe)]()):(this[_0x5f41da(0x333)]=0x0,this[_0x5f41da(0x2d3)]&&(clearInterval(this['tickHandle']),this[_0x5f41da(0x2d3)]=null),this[_0x5f41da(0x1fe)]()),await this[_0x5f41da(0x1d3)](!![]);},async 'reset'(){const _0x19535d=_0x2ebaf0;this['tickHandle']&&(clearInterval(this[_0x19535d(0x2d3)]),this[_0x19535d(0x2d3)]=null);this['state']=_0x19535d(0x150),this[_0x19535d(0x1ff)]=null,this[_0x19535d(0x333)]=0x0,this[_0x19535d(0x411)]=0x0,this[_0x19535d(0x22b)]=0x0;const _0x1a6f27=$(_0x19535d(0x322));_0x1a6f27&&(_0x1a6f27[_0x19535d(0x196)]=''),this[_0x19535d(0x26b)](),await this['persistTimerState'](!![]);}};async function deleteSummary(_0x1a2833){showConfirmModal('X√°c\x20nh·∫≠n\x20x√≥a','B·∫°n\x20c√≥\x20ch·∫Øc\x20mu·ªën\x20x√≥a\x20t√≥m\x20t·∫Øt\x20n√†y?',async _0xb5a775=>{const _0xc24c4b=_0x5e48;if(!_0xb5a775)return;const _0x49cb89=getCurrentSubtopic();if(!_0x49cb89||!_0x49cb89[_0xc24c4b(0x387)])return;const _0x50a10e=[..._0x49cb89[_0xc24c4b(0x387)]];_0x49cb89[_0xc24c4b(0x387)]=_0x49cb89['summaries'][_0xc24c4b(0x203)](_0x4be762=>_0x4be762['id']!==_0x1a2833);try{await storageManager[_0xc24c4b(0x1b2)](_0xc24c4b(0x294),_0x49cb89),renderSummaries(),toast(_0xc24c4b(0x13c));}catch(_0x1d117c){console[_0xc24c4b(0x143)](_0xc24c4b(0x415),_0x1d117c),_0x49cb89[_0xc24c4b(0x387)]=_0x50a10e,toast(_0xc24c4b(0x318));}});}function exportSummary(_0x2be5e8){const _0xfe6762=_0x2ebaf0,_0x184385=new Blob([_0x2be5e8[_0xfe6762(0x331)]],{'type':_0xfe6762(0x153)}),_0x493f6e=document[_0xfe6762(0x407)]('a'),_0x5d14fb=new Date(_0x2be5e8[_0xfe6762(0x354)]),_0x426ab8=_0x3df072=>(''+_0x3df072)[_0xfe6762(0x2d7)](0x2,'0');_0x493f6e[_0xfe6762(0x317)]=URL[_0xfe6762(0x21a)](_0x184385),_0x493f6e[_0xfe6762(0x2c4)]=_0xfe6762(0x434)+_0x5d14fb['getFullYear']()+_0x426ab8(_0x5d14fb[_0xfe6762(0x282)]()+0x1)+_0x426ab8(_0x5d14fb['getDate']())+_0xfe6762(0x167),_0x493f6e[_0xfe6762(0x25b)](),URL['revokeObjectURL'](_0x493f6e['href']);}function renderStatsHistory(){const _0x583187=_0x2ebaf0,_0x53b893=getCurrentSubtopic(),_0xd8c360=$(_0x583187(0x3bd)),_0x53bdfe=$(_0x583187(0x38c)),_0x1e7ed9=$(_0x583187(0x36c)),_0x2d9c14=$(_0x583187(0x37c));if(!_0xd8c360||!_0x53bdfe||!_0x1e7ed9||!_0x2d9c14)return;if(!_0x53b893){_0xd8c360[_0x583187(0x196)]=_0x583187(0x409),_0x53bdfe['textContent']='0',_0x1e7ed9[_0x583187(0x196)]='0',_0x2d9c14[_0x583187(0x32a)]=_0x583187(0x2c9);return;}const _0x1cbaaf=_0x53b893[_0x583187(0x125)]&&_0x53b893[_0x583187(0x125)]['totalMinutes']?_0x53b893[_0x583187(0x125)][_0x583187(0x3d4)]:0x0,_0x311408=_0x53b893['stats']&&_0x53b893[_0x583187(0x125)][_0x583187(0x3df)]?_0x53b893[_0x583187(0x125)][_0x583187(0x3df)]:0x0,_0x28e7aa=_0x53b893[_0x583187(0x17e)]?_0x53b893['tasks']['filter'](_0x236f47=>_0x236f47['isCompleted'])[_0x583187(0x402)]:0x0;_0xd8c360[_0x583187(0x196)]=formatDaysHoursMinutes(_0x1cbaaf),_0x53bdfe[_0x583187(0x196)]=String(_0x311408),_0x1e7ed9['textContent']=String(_0x28e7aa),_0x2d9c14[_0x583187(0x32a)]='';const _0x9be89=Array['isArray'](_0x53b893[_0x583187(0x26f)])?_0x53b893['sessions']:[];if(_0x9be89[_0x583187(0x402)]===0x0){_0x2d9c14['innerHTML']=_0x583187(0x337);return;}_0x9be89[_0x583187(0x17a)](_0x4ca8a8=>{const _0x11d18a=_0x583187,_0x12ee9b=document['createElement'](_0x11d18a(0x2c8));_0x12ee9b['className']='hist-item';const _0x1d31c5=document[_0x11d18a(0x407)]('div'),_0x1de460=_0x4ca8a8['dateISO']?new Date(_0x4ca8a8[_0x11d18a(0x3e8)]):new Date(),_0x5e4ee3=_0x4ca8a8[_0x11d18a(0x336)]!=null?_0x4ca8a8[_0x11d18a(0x336)]:_0x4ca8a8[_0x11d18a(0x3e7)]||0x0,_0x22b5d7=_0x11d18a(0x256)+_0x1de460['toLocaleString']()+_0x11d18a(0x29f)+_0x5e4ee3+_0x11d18a(0x3d3)+(_0x4ca8a8['mode']||'')+_0x11d18a(0x30e);let _0x64db5b='';if(_0x4ca8a8[_0x11d18a(0x348)])_0x64db5b=_0x11d18a(0x390)+escapeHTML(_0x4ca8a8[_0x11d18a(0x348)])+_0x11d18a(0x30e);else data?.['settings']?.[_0x11d18a(0x2ce)]!==![]&&(_0x64db5b=_0x11d18a(0x3d5));_0x1d31c5[_0x11d18a(0x32a)]=_0x22b5d7+_0x64db5b,_0x12ee9b[_0x11d18a(0x284)](_0x1d31c5),_0x2d9c14[_0x11d18a(0x284)](_0x12ee9b);});}function renderGeneralNotes(){const _0x4e011c=_0x2ebaf0,_0xb544b3=$(_0x4e011c(0x362));if(!_0xb544b3)return;const _0x5b1f49=getCurrentSubtopic();if(!_0x5b1f49){_0xb544b3[_0x4e011c(0x32a)]=_0x4e011c(0x292);return;}_0x5b1f49[_0x4e011c(0x2c0)]=_0x5b1f49['generalNotes']||[];if(_0x5b1f49[_0x4e011c(0x2c0)][_0x4e011c(0x402)]===0x0){_0xb544b3[_0x4e011c(0x32a)]=_0x4e011c(0x3dd);return;}_0xb544b3[_0x4e011c(0x32a)]='',_0x5b1f49[_0x4e011c(0x2c0)][_0x4e011c(0x17a)](_0x177900=>{const _0x59dcb6=_0x4e011c,_0x3956fb=document[_0x59dcb6(0x407)](_0x59dcb6(0x2c8));_0x3956fb[_0x59dcb6(0x23e)]=_0x59dcb6(0x166);const _0x10b893=document[_0x59dcb6(0x407)](_0x59dcb6(0x2c8));_0x10b893[_0x59dcb6(0x23e)]=_0x59dcb6(0x179),_0x10b893[_0x59dcb6(0x196)]=typeof _0x177900==='string'?_0x177900:_0x177900[_0x59dcb6(0x3b7)]||'';const _0x1f7214=document[_0x59dcb6(0x407)](_0x59dcb6(0x2c8));_0x1f7214[_0x59dcb6(0x23e)]=_0x59dcb6(0x1a7),_0x1f7214[_0x59dcb6(0x196)]=_0x177900['createdAt']?new Date(_0x177900[_0x59dcb6(0x354)])[_0x59dcb6(0x341)]():'';const _0x2552bf=document['createElement']('div'),_0x1e7a7d=document['createElement'](_0x59dcb6(0x301));_0x1e7a7d[_0x59dcb6(0x23e)]=_0x59dcb6(0x1db),_0x1e7a7d[_0x59dcb6(0x196)]=_0x59dcb6(0x1ea),_0x1e7a7d[_0x59dcb6(0x139)]=async _0x3d771a=>{const _0x988a66=_0x59dcb6;_0x3d771a['stopPropagation']();const _0x2f02c0=getCurrentSubtopic();if(!_0x2f02c0)return;_0x2f02c0[_0x988a66(0x2c0)]=(_0x2f02c0[_0x988a66(0x2c0)]||[])[_0x988a66(0x203)](_0x111fd7=>(_0x111fd7['id']||_0x111fd7)!==(_0x177900['id']||_0x177900)),await saveData(),renderGeneralNotes();},_0x2552bf[_0x59dcb6(0x284)](_0x1e7a7d);const _0x14c7d8=document[_0x59dcb6(0x407)](_0x59dcb6(0x2c8));_0x14c7d8['className']='note-content-wrapper',_0x14c7d8[_0x59dcb6(0x37a)](_0x10b893,_0x1f7214),_0x3956fb[_0x59dcb6(0x37a)](_0x14c7d8,_0x2552bf),_0xb544b3[_0x59dcb6(0x284)](_0x3956fb);});}function renderMethods(){const _0x18bd9b=_0x2ebaf0,_0x4d9a69=document[_0x18bd9b(0x273)](_0x18bd9b(0x195));if(!_0x4d9a69)return;_0x4d9a69[_0x18bd9b(0x32a)]='';const _0x122f1d=data?.[_0x18bd9b(0x3fb)]?.[_0x18bd9b(0x2ea)]||[];if(_0x122f1d[_0x18bd9b(0x402)]===0x0){_0x4d9a69[_0x18bd9b(0x32a)]=_0x18bd9b(0x1f6);return;}_0x122f1d[_0x18bd9b(0x17a)](_0x2bd174=>{const _0x8a798a=_0x18bd9b,_0x407a16=document[_0x8a798a(0x407)](_0x8a798a(0x189));_0x407a16['className']='method-item',_0x407a16[_0x8a798a(0x12e)][_0x8a798a(0x406)]=_0x2bd174['id'];const _0x299a75=document[_0x8a798a(0x407)]('summary'),_0x123c19=document[_0x8a798a(0x407)]('span');_0x123c19[_0x8a798a(0x23e)]=_0x8a798a(0x18d),_0x123c19['textContent']=_0x2bd174[_0x8a798a(0x1b7)]||_0x8a798a(0x3cb),_0x123c19['addEventListener'](_0x8a798a(0x25b),_0x486765=>{const _0x4261fa=_0x8a798a;_0x486765[_0x4261fa(0x3c0)](),_0x486765[_0x4261fa(0x264)](),_0x407a16[_0x4261fa(0x34b)]=!_0x407a16[_0x4261fa(0x34b)];});const _0x2b4f95=document[_0x8a798a(0x407)]('div');_0x2b4f95[_0x8a798a(0x23e)]=_0x8a798a(0x21e);const _0x220d95=document[_0x8a798a(0x407)](_0x8a798a(0x301));_0x220d95[_0x8a798a(0x23e)]='btn\x20small\x20ghost\x20method-edit',_0x220d95[_0x8a798a(0x196)]=_0x8a798a(0x231),_0x220d95[_0x8a798a(0x12e)]['id']=_0x2bd174['id'];const _0x2e21be=document[_0x8a798a(0x407)](_0x8a798a(0x301));_0x2e21be[_0x8a798a(0x23e)]='btn\x20small\x20danger\x20method-delete',_0x2e21be[_0x8a798a(0x196)]=_0x8a798a(0x1ea),_0x2e21be['dataset']['id']=_0x2bd174['id'],_0x2b4f95[_0x8a798a(0x37a)](_0x220d95,_0x2e21be),_0x299a75[_0x8a798a(0x37a)](_0x123c19,_0x2b4f95);const _0x552f9e=document['createElement'](_0x8a798a(0x2c8));_0x552f9e[_0x8a798a(0x23e)]=_0x8a798a(0x40a),_0x552f9e[_0x8a798a(0x32a)]=_0x2bd174[_0x8a798a(0x331)]||'',_0x407a16['append'](_0x299a75,_0x552f9e),_0x4d9a69[_0x8a798a(0x284)](_0x407a16),_0x407a16[_0x8a798a(0x3ed)](_0x8a798a(0x25b),_0x444406=>{const _0x2ab8d8=_0x8a798a,_0x842b5e=_0x444406[_0x2ab8d8(0x23a)];if(!_0x842b5e)return;if(_0x842b5e[_0x2ab8d8(0x184)](_0x2ab8d8(0x301))||_0x842b5e['closest']('a')||_0x842b5e['closest'](_0x2ab8d8(0x41d))||_0x842b5e[_0x2ab8d8(0x184)]('.color-palette'))return;if(!_0x407a16[_0x2ab8d8(0x34b)])_0x407a16[_0x2ab8d8(0x34b)]=!![];});});const _0x388ff4=_0x4d9a69[_0x18bd9b(0x43c)]('.method-item');_0x388ff4[_0x18bd9b(0x17a)](_0x40f2f7=>{const _0x13c233=_0x18bd9b;_0x40f2f7[_0x13c233(0x3ed)](_0x13c233(0x285),()=>{const _0x470fcb=_0x13c233;_0x40f2f7['open']&&_0x388ff4[_0x470fcb(0x17a)](_0x38112d=>{if(_0x38112d!==_0x40f2f7)_0x38112d['open']=![];});});});}function addGeneralNote(){const _0x221a2f=_0x2ebaf0;showInputModal(_0x221a2f(0x2fc),async _0x50bff1=>{const _0x44105c=_0x221a2f;if(!_0x50bff1)return;const _0x5c5a32=getCurrentSubtopic();if(!_0x5c5a32){toast(_0x44105c(0x31f));return;}_0x5c5a32['generalNotes']=_0x5c5a32['generalNotes']||[],_0x5c5a32[_0x44105c(0x2c0)]['unshift']({'id':uid('gn'),'text':_0x50bff1,'createdAt':todayISO()}),await saveData(),renderGeneralNotes();},'');}async function summarizeNotes(){const _0x401835=_0x2ebaf0,_0xa54fae=getCurrentSubtopic();if(!_0xa54fae){toast(_0x401835(0x42d));return;}const _0x17f740=(_0xa54fae[_0x401835(0x2c0)]||[])[_0x401835(0x3f7)](_0x22567e=>typeof _0x22567e===_0x401835(0x3da)?_0x22567e:_0x22567e[_0x401835(0x3b7)]||'')[_0x401835(0x203)](Boolean);if(_0x17f740[_0x401835(0x402)]===0x0){toast(_0x401835(0x146));return;}const _0x39684e=$(_0x401835(0x377));_0x39684e&&(_0x39684e[_0x401835(0x374)]=!![],_0x39684e[_0x401835(0x32a)]=_0x401835(0x427));try{const _0x2b2bed=_0x401835(0x308)+_0x17f740['join'](_0x401835(0x14e)),_0x3b9ae5=await callGeminiAPI(_0x2b2bed);if(!_0xa54fae['summaries'])_0xa54fae[_0x401835(0x387)]=[];_0xa54fae[_0x401835(0x387)][_0x401835(0x1e2)]({'id':uid('sum'),'content':_0x3b9ae5||_0x401835(0x40f),'createdAt':todayISO()}),await saveData(),renderSummaries();}catch(_0x35c632){console[_0x401835(0x143)](_0x35c632),toast('T√≥m\x20t·∫Øt\x20th·∫•t\x20b·∫°i.');}finally{_0x39684e&&(_0x39684e['disabled']=![],_0x39684e[_0x401835(0x196)]=_0x401835(0x424));}}function renderSummaries(){const _0xa2419d=_0x2ebaf0,_0x18e9c6=$(_0xa2419d(0x37b));if(!_0x18e9c6)return;const _0x25538b=getCurrentSubtopic();if(!_0x25538b){_0x18e9c6[_0xa2419d(0x32a)]=_0xa2419d(0x158);return;}_0x18e9c6[_0xa2419d(0x32a)]='';if(!_0x25538b[_0xa2419d(0x387)]||_0x25538b['summaries'][_0xa2419d(0x402)]===0x0){_0x18e9c6[_0xa2419d(0x32a)]=_0xa2419d(0x207);return;}_0x25538b[_0xa2419d(0x387)][_0xa2419d(0x17a)](_0x5c1ab0=>{const _0x55bb97=_0xa2419d,_0x468e4c=document['createElement'](_0x55bb97(0x2c8));_0x468e4c['className']=_0x55bb97(0x166);const _0x72ac45=document[_0x55bb97(0x407)](_0x55bb97(0x2c8));_0x72ac45[_0x55bb97(0x23e)]=_0x55bb97(0x17d);const _0x37f1da=document[_0x55bb97(0x407)](_0x55bb97(0x2c8));_0x37f1da[_0x55bb97(0x23e)]='note-content',_0x37f1da[_0x55bb97(0x196)]=_0x5c1ab0[_0x55bb97(0x331)];const _0x1236ae=document[_0x55bb97(0x407)](_0x55bb97(0x2c8));_0x1236ae[_0x55bb97(0x23e)]=_0x55bb97(0x1a7),_0x1236ae[_0x55bb97(0x196)]=new Date(_0x5c1ab0[_0x55bb97(0x354)])[_0x55bb97(0x341)](),_0x72ac45['append'](_0x37f1da,_0x1236ae);const _0x5f105f=document['createElement'](_0x55bb97(0x2c8)),_0x51f002=document[_0x55bb97(0x407)]('button');_0x51f002['className']=_0x55bb97(0x2aa),_0x51f002[_0x55bb97(0x196)]=_0x55bb97(0x2a2),_0x51f002[_0x55bb97(0x139)]=_0x528786=>{const _0x300f27=_0x55bb97;_0x528786[_0x300f27(0x264)](),exportSummary(_0x5c1ab0);};const _0x55667f=document[_0x55bb97(0x407)](_0x55bb97(0x301));_0x55667f[_0x55bb97(0x23e)]=_0x55bb97(0x1db),_0x55667f[_0x55bb97(0x196)]=_0x55bb97(0x1ea),_0x55667f['onclick']=_0x2aac5b=>{const _0x5af89f=_0x55bb97;_0x2aac5b[_0x5af89f(0x264)](),deleteSummary(_0x5c1ab0['id']);},_0x5f105f[_0x55bb97(0x37a)](_0x51f002,_0x55667f),_0x468e4c['append'](_0x72ac45,_0x5f105f),_0x468e4c[_0x55bb97(0x3ed)](_0x55bb97(0x25b),()=>_0x37f1da[_0x55bb97(0x3a7)][_0x55bb97(0x285)](_0x55bb97(0x412))),_0x18e9c6[_0x55bb97(0x284)](_0x468e4c);});}function loadEditingPresetFields(){const _0x3c75d7=_0x2ebaf0,_0x45f290=data['settings'],_0x51de90=_0x45f290[_0x3c75d7(0x185)],_0x1c10e0=$(_0x3c75d7(0x384)),_0x4caaa9=$(_0x3c75d7(0x324));if(_0x1c10e0&&_0x4caaa9){const _0x366c24=editingPreset==='C';_0x1c10e0[_0x3c75d7(0x3a7)][_0x3c75d7(0x285)](_0x3c75d7(0x327),_0x366c24),_0x4caaa9['classList']['toggle'](_0x3c75d7(0x327),!_0x366c24);}if(editingPreset==='A'){$('#set_work')[_0x3c75d7(0x2c3)]=_0x51de90['A_work'];if($(_0x3c75d7(0x36a)))$('#set_winddown')[_0x3c75d7(0x2c3)]=_0x51de90[_0x3c75d7(0x2b8)]??0x0;$(_0x3c75d7(0x320))[_0x3c75d7(0x2c3)]=_0x51de90['A_short'],$('#set_long')['value']=_0x51de90[_0x3c75d7(0x230)],$(_0x3c75d7(0x2ee))[_0x3c75d7(0x2c3)]=_0x45f290[_0x3c75d7(0x1ca)],$('#set_interval')['value']=_0x45f290[_0x3c75d7(0x2da)];}else{if(editingPreset==='B'){$(_0x3c75d7(0x40c))['value']=_0x51de90[_0x3c75d7(0x16a)];if($(_0x3c75d7(0x36a)))$(_0x3c75d7(0x36a))[_0x3c75d7(0x2c3)]=_0x51de90['B_winddown']??0x0;$(_0x3c75d7(0x320))['value']=_0x51de90[_0x3c75d7(0x32b)],$(_0x3c75d7(0x312))[_0x3c75d7(0x2c3)]=_0x51de90[_0x3c75d7(0x219)],$(_0x3c75d7(0x2ee))['value']=_0x45f290['cyclesB'],$('#set_interval')[_0x3c75d7(0x2c3)]=_0x45f290[_0x3c75d7(0x11d)];}else{if(editingPreset==='C'){const _0x2ef81e=$('#set_flowRatio');if(_0x2ef81e)_0x2ef81e[_0x3c75d7(0x2c3)]=_0x45f290[_0x3c75d7(0x156)]??0x5;}}}}function highlightPresetSelector(){const _0x5c75e4=_0x2ebaf0;$$(_0x5c75e4(0x271))[_0x5c75e4(0x17a)](_0x31e946=>{const _0x5e1445=_0x5c75e4,_0x301e7c=_0x31e946[_0x5e1445(0x12e)][_0x5e1445(0x3d6)]===editingPreset;_0x31e946[_0x5e1445(0x3a7)]['toggle'](_0x5e1445(0x28a),_0x301e7c),_0x31e946[_0x5e1445(0x3a7)][_0x5e1445(0x285)](_0x5e1445(0x414),!_0x301e7c);});}function openSettings(){const _0x3f9c29=_0x2ebaf0,_0x20f50c=data[_0x3f9c29(0x3fb)];editingPreset=_0x20f50c[_0x3f9c29(0x2b3)],$('#set_apiKey')[_0x3f9c29(0x2c3)]=_0x20f50c['apiKey']||'',loadEditingPresetFields(),highlightPresetSelector(),$(_0x3f9c29(0x1c5))['value']=_0x20f50c['volume']??0.8,$(_0x3f9c29(0x37d))['value']=_0x20f50c[_0x3f9c29(0x19b)]||_0x3f9c29(0x147),$(_0x3f9c29(0x24b))['value']=_0x20f50c['theme']||_0x3f9c29(0x332);const _0x45bd6b=getActiveYoutubeUrl();$(_0x3f9c29(0x1a4))[_0x3f9c29(0x2c3)]=_0x45bd6b||'';const _0x1fec43=extractYouTubeID(_0x45bd6b);$(_0x3f9c29(0x18e))['disabled']=!_0x1fec43;$(_0x3f9c29(0x2fb))&&($(_0x3f9c29(0x2fb))[_0x3f9c29(0x196)]='');$(_0x3f9c29(0x19a))[_0x3f9c29(0x2c3)]=_0x20f50c[_0x3f9c29(0x365)]||0x50,$(_0x3f9c29(0x2f0))['checked']=!!_0x20f50c[_0x3f9c29(0x38f)],$(_0x3f9c29(0x181))['value']=_0x20f50c['panelOpacity']||0.85;$(_0x3f9c29(0x3de))&&($(_0x3f9c29(0x3de))['value']=_0x20f50c[_0x3f9c29(0x28f)]||_0x3f9c29(0x364));$(_0x3f9c29(0x381))&&($(_0x3f9c29(0x381))[_0x3f9c29(0x2f7)]=!!_0x20f50c[_0x3f9c29(0x3ca)]);$(_0x3f9c29(0x193))&&($('#set_enableWinddown')[_0x3f9c29(0x2f7)]=_0x20f50c['enableWinddown']!==![]);$(_0x3f9c29(0x2f9))&&($(_0x3f9c29(0x2f9))[_0x3f9c29(0x2f7)]=_0x20f50c['enableSessionNotes']!==![]);$('#set_backupDays')&&($(_0x3f9c29(0x210))[_0x3f9c29(0x2c3)]=_0x20f50c[_0x3f9c29(0x368)]||0x7);const _0x1b1a3d=$(_0x3f9c29(0x24c));_0x1b1a3d&&storageManager[_0x3f9c29(0x1fc)]()[_0x3f9c29(0x18b)](_0x1de86c=>{const _0x4cd744=_0x3f9c29;_0x1b1a3d[_0x4cd744(0x32a)]=_0x4cd744(0x15e),_0x1de86c&&_0x1de86c['length']>0x0?_0x1de86c['forEach'](_0x5147b0=>{const _0x579d17=_0x4cd744,_0x337de3=document[_0x579d17(0x407)](_0x579d17(0x2ca));_0x337de3['value']=_0x5147b0[_0x579d17(0x200)],_0x337de3[_0x579d17(0x196)]=_0x579d17(0x3ff)+new Date(_0x5147b0[_0x579d17(0x200)])[_0x579d17(0x311)](_0x579d17(0x351)),_0x1b1a3d['appendChild'](_0x337de3);}):_0x1b1a3d[_0x4cd744(0x32a)]='<option\x20value=\x22\x22>Kh√¥ng\x20c√≥\x20b·∫£n\x20sao\x20l∆∞u\x20n√†o</option>';});$(_0x3f9c29(0x3e9))[_0x3f9c29(0x3a7)][_0x3f9c29(0x1ed)](_0x3f9c29(0x385));try{trapFocus($(_0x3f9c29(0x3e9)));}catch(_0x37fa4d){}}function closeSettings(){const _0x48eeb6=_0x2ebaf0;$(_0x48eeb6(0x3e9))[_0x48eeb6(0x3a7)][_0x48eeb6(0x299)](_0x48eeb6(0x385));try{releaseFocus();}catch(_0x539fe6){}}async function setDefaults(){const _0x420628=_0x2ebaf0;data['settings']['durations']={'A_work':0x19,'A_short':0x5,'A_long':0xf,'A_winddown':0x2,'B_work':0x32,'B_short':0xa,'B_long':0x1e,'B_winddown':0x5},data['settings'][_0x420628(0x1ca)]=0x4,data[_0x420628(0x3fb)][_0x420628(0x2da)]=0x4,data['settings']['cyclesB']=0x4,data['settings']['longBreakIntervalB']=0x4,data[_0x420628(0x3fb)][_0x420628(0x156)]=0x5,data['settings'][_0x420628(0x2b3)]='A',data[_0x420628(0x3fb)][_0x420628(0x295)]=0.8,data[_0x420628(0x3fb)][_0x420628(0x19b)]=_0x420628(0x147),await saveData(),openSettings(),toast(_0x420628(0x1c1));}async function saveSettings(){const _0x4ce09d=_0x2ebaf0,_0x23f3eb=data['settings'];_0x23f3eb[_0x4ce09d(0x34c)]=$(_0x4ce09d(0x127))[_0x4ce09d(0x2c3)][_0x4ce09d(0x31d)]();const _0x2a9fe0=_0x23f3eb[_0x4ce09d(0x185)];if(editingPreset==='A')_0x2a9fe0[_0x4ce09d(0x259)]=clampInt($(_0x4ce09d(0x40c))['value'],0x1,0x3e7),_0x2a9fe0[_0x4ce09d(0x2b8)]=clampInt($(_0x4ce09d(0x36a))[_0x4ce09d(0x2c3)],0x0,0x3e7),_0x2a9fe0[_0x4ce09d(0x431)]=clampInt($('#set_short')[_0x4ce09d(0x2c3)],0x1,0x3e7),_0x2a9fe0[_0x4ce09d(0x230)]=clampInt($(_0x4ce09d(0x312))[_0x4ce09d(0x2c3)],0x1,0x3e7),_0x23f3eb['cyclesA']=clampInt($(_0x4ce09d(0x2ee))[_0x4ce09d(0x2c3)],0x1,0xc),_0x23f3eb[_0x4ce09d(0x2da)]=clampInt($(_0x4ce09d(0x226))[_0x4ce09d(0x2c3)],0x2,0xc);else{if(editingPreset==='B')_0x2a9fe0[_0x4ce09d(0x16a)]=clampInt($('#set_work')['value'],0x1,0x3e7),_0x2a9fe0['B_winddown']=clampInt($('#set_winddown')['value'],0x0,0x3e7),_0x2a9fe0['B_short']=clampInt($(_0x4ce09d(0x320))[_0x4ce09d(0x2c3)],0x1,0x3e7),_0x2a9fe0[_0x4ce09d(0x219)]=clampInt($(_0x4ce09d(0x312))[_0x4ce09d(0x2c3)],0x1,0x3e7),_0x23f3eb['cyclesB']=clampInt($(_0x4ce09d(0x2ee))['value'],0x1,0xc),_0x23f3eb['longBreakIntervalB']=clampInt($(_0x4ce09d(0x226))[_0x4ce09d(0x2c3)],0x2,0xc);else{if(editingPreset==='C'){const _0xfe8174=$(_0x4ce09d(0x3e2));if(_0xfe8174)_0x23f3eb[_0x4ce09d(0x156)]=clampInt(_0xfe8174[_0x4ce09d(0x2c3)],0x1,0x14);}}}_0x23f3eb['volume']=clampFloat($('#set_volume')['value'],0x0,0x1,0.8),_0x23f3eb[_0x4ce09d(0x19b)]=$('#set_theme')[_0x4ce09d(0x2c3)]===_0x4ce09d(0x405)?'chime':_0x4ce09d(0x147),_0x23f3eb['theme']=$('#set_theme_color')[_0x4ce09d(0x2c3)],_0x23f3eb[_0x4ce09d(0x209)]=parseFloat($(_0x4ce09d(0x181))[_0x4ce09d(0x2c3)])||0.85;$(_0x4ce09d(0x3de))&&(_0x23f3eb[_0x4ce09d(0x28f)]=$('#set_backgroundMode')[_0x4ce09d(0x2c3)]);_0x23f3eb[_0x4ce09d(0x3ca)]=!!($(_0x4ce09d(0x381))&&$('#set_autoStartNext')[_0x4ce09d(0x2f7)]),_0x23f3eb['enableWinddown']=!!($(_0x4ce09d(0x193))&&$(_0x4ce09d(0x193))[_0x4ce09d(0x2f7)]),_0x23f3eb[_0x4ce09d(0x2ce)]=!!($(_0x4ce09d(0x2f9))&&$('#set_enableSessionNotes')[_0x4ce09d(0x2f7)]);$(_0x4ce09d(0x210))&&(_0x23f3eb[_0x4ce09d(0x368)]=clampInt($(_0x4ce09d(0x210))['value'],0x1,0x1e));_0x23f3eb[_0x4ce09d(0x340)]===_0x4ce09d(0x136)||_0x23f3eb[_0x4ce09d(0x340)]==='pastel'?(_0x23f3eb[_0x4ce09d(0x38f)]=![],typeof _0x23f3eb[_0x4ce09d(0x173)]===_0x4ce09d(0x3da)&&_0x23f3eb[_0x4ce09d(0x173)][_0x4ce09d(0x39a)](_0x4ce09d(0x22e))&&(_0x23f3eb[_0x4ce09d(0x173)]='')):_0x23f3eb['useYtThumbnailAsBg']=!![];const _0x3dfbea=$('#set_youtubeUrl')[_0x4ce09d(0x2c3)]['trim']();_0x23f3eb[_0x4ce09d(0x38f)]=$('#set_ytThumbAsBg')[_0x4ce09d(0x2f7)],_0x23f3eb['youtubeVolume']=parseInt($(_0x4ce09d(0x19a))[_0x4ce09d(0x2c3)],0xa),sessionYoutubeUrl=_0x3dfbea;try{if(!IS_FILE_PROTOCOL){if(ytPlayer&&ytPlayer[_0x4ce09d(0x1b6)])ytPlayer[_0x4ce09d(0x1b6)](_0x23f3eb[_0x4ce09d(0x365)]);}else try{fallbackPostMessage(_0x4ce09d(0x1b6),[_0x23f3eb[_0x4ce09d(0x365)]]);}catch(_0x47e88c){}}catch(_0x6d9303){}await saveData(),applyTheme(),applyCustomBg(),applyPanelOpacity(),updatePresetButtonsText(),timer[_0x4ce09d(0x14d)](_0x23f3eb[_0x4ce09d(0x2b3)],{'silent':!![]}),closeSettings(),toast(_0x4ce09d(0x2b2));}function clampInt(_0x35bdaa,_0x76d465,_0x5266d6){const _0x4710da=_0x2ebaf0;_0x35bdaa=parseInt(_0x35bdaa||0x0,0xa);if(isNaN(_0x35bdaa))_0x35bdaa=_0x76d465;return Math[_0x4710da(0x12c)](_0x76d465,Math[_0x4710da(0x24d)](_0x5266d6,_0x35bdaa));}function clampFloat(_0xe5f001,_0x1ad823,_0x4b2057,_0x51e81a){const _0x153651=_0x2ebaf0;_0xe5f001=parseFloat(_0xe5f001);if(Number[_0x153651(0x1de)](_0xe5f001))_0xe5f001=_0x51e81a;return Math[_0x153651(0x12c)](_0x1ad823,Math['min'](_0x4b2057,_0xe5f001));}const dbPromise=new Promise((_0x55d4ae,_0x3eb2a1)=>{const _0x924b36=_0x2ebaf0,_0x381ef1=indexedDB[_0x924b36(0x34b)](_0x924b36(0x115),0x1);_0x381ef1[_0x924b36(0x2dd)]=_0x1f27e5=>_0x1f27e5[_0x924b36(0x23a)][_0x924b36(0x20e)][_0x924b36(0x42f)]('files'),_0x381ef1['onsuccess']=_0x307256=>_0x55d4ae(_0x307256['target'][_0x924b36(0x20e)]),_0x381ef1['onerror']=_0x1b5026=>_0x3eb2a1(_0x1b5026);}),fileCache={};function handleFileUpload(_0x1373d8,_0x509f05){const _0x299e5e=_0x2ebaf0;if(!_0x1373d8)return;dbPromise[_0x299e5e(0x18b)](_0x4d787c=>{const _0x958d31=_0x299e5e,_0x27e69a=uid(_0x958d31(0x1f4)),_0x6e65ef=_0x4d787c[_0x958d31(0x361)](_0x958d31(0x1f7),_0x958d31(0x37f));_0x6e65ef['objectStore'](_0x958d31(0x1f7))['put'](_0x1373d8,_0x27e69a),_0x6e65ef[_0x958d31(0x27a)]=()=>_0x509f05(_0x27e69a),_0x6e65ef[_0x958d31(0x258)]=()=>toast(_0x958d31(0x31a));});}function getStoredFileUrl(_0x1daf84){const _0x39b71d=_0x2ebaf0;if(!_0x1daf84)return Promise['resolve']('');if(fileCache[_0x1daf84])return Promise['resolve'](fileCache[_0x1daf84]);return dbPromise[_0x39b71d(0x18b)](_0x382620=>new Promise(_0x1b73e1=>{const _0x3b4545=_0x39b71d,_0x1d31cf=_0x382620[_0x3b4545(0x361)]('files',_0x3b4545(0x1c8)),_0x4e4dfe=_0x1d31cf['objectStore'](_0x3b4545(0x1f7))[_0x3b4545(0x34a)](_0x1daf84);_0x4e4dfe['onsuccess']=_0x33354d=>{const _0x57efa2=_0x3b4545,_0x4b8cae=_0x33354d[_0x57efa2(0x23a)]['result'];if(_0x4b8cae){const _0xb1844b=URL[_0x57efa2(0x21a)](_0x4b8cae);fileCache[_0x1daf84]=_0xb1844b,_0x1b73e1(_0xb1844b);}else _0x1b73e1('');},_0x4e4dfe[_0x3b4545(0x258)]=()=>_0x1b73e1('');}));}function applyCustomBg(){const _0x4f1673=_0x2ebaf0,_0x4fe6f4=data['settings'],_0x5e436d=_0x4fe6f4['customBg'],_0x793cce=_0x4fe6f4[_0x4f1673(0x340)],_0x265058=['lofi',_0x4f1673(0x3ae)][_0x4f1673(0x39a)](_0x793cce),_0x61a54=_0x793cce===_0x4f1673(0x136)||_0x793cce===_0x4f1673(0x2d4),_0x1fa5c2=_0x4fe6f4[_0x4f1673(0x28f)]||_0x4f1673(0x364);document[_0x4f1673(0x356)][_0x4f1673(0x2a4)][_0x4f1673(0x43a)]=_0x1fa5c2,document[_0x4f1673(0x356)]['style'][_0x4f1673(0x254)]=_0x1fa5c2===_0x4f1673(0x2e9)?_0x4f1673(0x21d):'no-repeat';const _0x5008e0=()=>{const _0x3e84de=_0x4f1673;try{document[_0x3e84de(0x356)][_0x3e84de(0x2a4)][_0x3e84de(0x272)]='';}catch(_0x58f088){}};if(_0x5e436d){const _0x31b4b1=_0x5e436d[_0x4f1673(0x27f)]('data:')||_0x5e436d['startsWith'](_0x4f1673(0x29d))||_0x5e436d[_0x4f1673(0x27f)]('blob:')?Promise[_0x4f1673(0x1e9)](_0x5e436d):getStoredFileUrl(_0x5e436d);_0x31b4b1['then'](_0x163acf=>{const _0x33903c=_0x4f1673;_0x163acf?document[_0x33903c(0x356)][_0x33903c(0x2a4)][_0x33903c(0x315)](_0x33903c(0x20d),'url('+_0x163acf+')'):document[_0x33903c(0x356)][_0x33903c(0x2a4)][_0x33903c(0x315)](_0x33903c(0x20d),_0x61a54?'none':''),_0x5008e0();});}else!_0x265058?_0x61a54?(document[_0x4f1673(0x356)][_0x4f1673(0x2a4)][_0x4f1673(0x315)](_0x4f1673(0x20d),'none'),_0x5008e0()):document[_0x4f1673(0x356)][_0x4f1673(0x2a4)][_0x4f1673(0x315)]('--bg-image',_0x4f1673(0x19c)):(document[_0x4f1673(0x356)][_0x4f1673(0x2a4)][_0x4f1673(0x122)](_0x4f1673(0x20d)),_0x5008e0());}function applyPanelOpacity(){const _0x516d6f=_0x2ebaf0;document[_0x516d6f(0x2a9)][_0x516d6f(0x2a4)][_0x516d6f(0x315)](_0x516d6f(0x3bb),data['settings'][_0x516d6f(0x209)]);}function renderDashboard(){const _0x57a4ac=_0x2ebaf0,_0x1375c2=data['topics'][_0x57a4ac(0x149)](_0xac01e3=>_0xac01e3[_0x57a4ac(0x294)]['map'](_0x11f856=>({'topic':_0xac01e3[_0x57a4ac(0x1a1)],'subtopic':_0x11f856['name'],'m':_0x11f856[_0x57a4ac(0x125)][_0x57a4ac(0x3d4)]||0x0,'c':_0x11f856['stats']['sessionsCompleted']||0x0,'t':_0x11f856[_0x57a4ac(0x125)]['tasksCompleted']||0x0}))),_0x346152=_0x1375c2[_0x57a4ac(0x16d)]((_0x2dfaa0,_0x47781c)=>_0x2dfaa0+_0x47781c['m'],0x0),_0x23f936=_0x1375c2[_0x57a4ac(0x16d)]((_0x495dfa,_0x27ee06)=>_0x495dfa+_0x27ee06['c'],0x0),_0x47c088=_0x1375c2[_0x57a4ac(0x16d)]((_0x2cc221,_0x5ab1eb)=>_0x2cc221+_0x5ab1eb['t'],0x0);let _0x95a7ab=_0x57a4ac(0x392)+formatDaysHoursMinutes(_0x346152)+_0x57a4ac(0x404)+_0x23f936+_0x57a4ac(0x206)+_0x47c088+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22dashboard-table\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead><tr><th>Ch·ªß\x20ƒë·ªÅ</th><th>Ch·ªß\x20ƒë·ªÅ\x20con</th><th>Th·ªùi\x20gian</th><th>Phi√™n</th><th>Nhi·ªám\x20v·ª•</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>';_0x1375c2[_0x57a4ac(0x17a)](_0x36ab4b=>{const _0x68d066=_0x57a4ac;_0x95a7ab+='<tr><td>'+escapeHTML(_0x36ab4b[_0x68d066(0x222)])+_0x68d066(0x233)+escapeHTML(_0x36ab4b[_0x68d066(0x202)])+'</td><td>'+formatDaysHoursMinutes(_0x36ab4b['m'])+_0x68d066(0x233)+_0x36ab4b['c']+_0x68d066(0x233)+_0x36ab4b['t']+_0x68d066(0x263);}),_0x95a7ab+=_0x57a4ac(0x1fa);const _0x432de0=$(_0x57a4ac(0x3d0));if(_0x432de0)_0x432de0['innerHTML']=_0x95a7ab;}function getMilestones(){const _0x31c859=_0x2ebaf0;return[{'hours':0x5,'title':_0x31c859(0x3c1),'message':'NƒÉm\x20gi·ªù\x20t·∫≠p\x20trung!\x20B·∫°n\x20ƒë√£\x20v∆∞·ª£t\x20qua\x20r√†o\x20c·∫£n\x20l·ªõn\x20nh·∫•t:\x20s·ª±\x20tr√¨\x20ho√£n.\x20M·ªói\x20ph√∫t\x20b·∫°n\x20d√†nh\x20ra\x20ƒë·ªÅu\x20l√†\x20m·ªôt\x20l·ªùi\x20kh·∫≥ng\x20ƒë·ªãnh\x20cho\x20m·ª•c\x20ti√™u\x20c·ªßa\x20m√¨nh.\x20H√£y\x20gi·ªØ\x20v·ªØng\x20ng·ªçn\x20l·ª≠a\x20n√†y!'},{'hours':0x14,'title':_0x31c859(0x232),'message':'Ch√∫c\x20m·ª´ng\x20b·∫°n\x20ƒë√£\x20l√†m\x20ƒë∆∞·ª£c\x20ƒëi·ªÅu\x20kh√≥\x20nh·∫•t:\x20B·∫Øt\x20ƒë·∫ßu\x20v√†\x20duy\x20tr√¨.\x0a\x0a20\x20gi·ªù\x20kh√¥ng\x20ch·ªâ\x20l√†\x20th·ªùi\x20gian,\x20ƒë√≥\x20l√†\x2020\x20gi·ªù\x20b·∫°n\x20ƒë√£\x20chi·∫øn\x20th·∫Øng\x20s·ª±\x20xao\x20nh√£ng.\x20B·∫°n\x20ƒëang\x20x√¢y\x20d·ª±ng\x20m·ªôt\x20n·ªÅn\x20t·∫£ng\x20v·ªØng\x20ch·∫Øc\x20cho\x20s·ª±\x20k·ª∑\x20lu·∫≠t.\x20H√£y\x20t·ª±\x20h√†o\x20v·ªÅ\x20kh·ªüi\x20ƒë·∫ßu\x20n√†y.'},{'hours':0x32,'title':_0x31c859(0x1d7),'message':_0x31c859(0x126)},{'hours':0x64,'title':_0x31c859(0x32f),'message':'100\x20gi·ªù!\x20ƒê√¢y\x20kh√¥ng\x20c√≤n\x20l√†\x20m·ªôt\x20th·ª≠\x20nghi·ªám\x20n·ªØa,\x20m√†\x20l√†\x20m·ªôt\x20s·ª±\x20ƒë·∫ßu\x20t∆∞\x20nghi√™m\x20t√∫c\x20cho\x20m·ª•c\x20ti√™u\x20c·ªßa\x20b·∫°n.\x0a\x0aH√£y\x20d√†nh\x20m·ªôt\x20ch√∫t\x20th·ªùi\x20gian\x20ƒë·ªÉ\x20nh√¨n\x20l·∫°i:\x20100\x20gi·ªù\x20t·∫≠p\x20trung\x20n√†y\x20ƒë√£\x20gi√∫p\x20b·∫°n\x20ti·∫øn\x20xa\x20ƒë·∫øn\x20ƒë√¢u?\x20NƒÉng\x20l∆∞·ª£ng\x20b·∫°n\x20b·ªè\x20ra\x20ƒëang\x20ƒë·ªãnh\x20h√¨nh\x20n√™n\x20k·∫øt\x20qu·∫£.'},{'hours':0xfa,'title':_0x31c859(0x215),'message':_0x31c859(0x2ae)},{'hours':0x1f4,'title':'G·ª≠i\x20b·∫°n,\x20500\x20gi·ªù\x20(Chuy√™n\x20t√¢m)','message':'N·ª≠a\x20ngh√¨n\x20gi·ªù\x20t·∫≠p\x20trung.\x20B·∫°n\x20ƒë√£\x20d√†nh\x20m·ªôt\x20kho·∫£ng\x20th·ªùi\x20gian\x20ƒë√°ng\x20k·ªÉ\x20ƒë·ªÉ\x20theo\x20ƒëu·ªïi\x20ƒëi·ªÅu\x20quan\x20tr·ªçng\x20v·ªõi\x20m√¨nh.\x20M·ª©c\x20ƒë·ªô\x20chuy√™n\x20t√¢m\x20n√†y\x20ch·∫Øc\x20ch·∫Øn\x20ƒëang\x20t·∫°o\x20ra\x20nh·ªØng\x20k·∫øt\x20qu·∫£\x20s√¢u\x20s·∫Øc\x20v√†\x20kh√°c\x20bi·ªát.\x20Th·∫≠t\x20ƒë√°ng\x20ng∆∞·ª°ng\x20m·ªô.'},{'hours':0x3e8,'title':_0x31c859(0x3c3),'message':'Ch√†o\x20m·ª´ng\x20ƒë·∫øn\x20C√¢u\x20l·∫°c\x20b·ªô\x201000\x20gi·ªù.\x0a\x0aCon\x20s·ªë\x20n√†y\x20kh√¥ng\x20ch·ªâ\x20ƒëo\x20l∆∞·ªùng\x20th·ªùi\x20gian,\x20n√≥\x20ƒë·∫°i\x20di·ªán\x20cho\x20s·ª±\x20chuy·ªÉn\x20h√≥a.\x20S·ª±\x20t·∫≠p\x20trung\x20ƒë√£\x20tr·ªü\x20th√†nh\x20m·ªôt\x20ph·∫ßn\x20con\x20ng∆∞·ªùi\x20b·∫°n,\x20m·ªôt\x20\x27si√™u\x20nƒÉng\x20l·ª±c\x27\x20b·∫°n\x20c√≥\x20th·ªÉ\x20tri·ªáu\x20h·ªìi.\x20H√†nh\x20tr√¨nh\x20c·ªßa\x20b·∫°n\x20th·ª±c\x20s·ª±\x20truy·ªÅn\x20c·∫£m\x20h·ª©ng.'},{'hours':0x1388,'title':_0x31c859(0x1a5),'message':_0x31c859(0x182)}][_0x31c859(0x36f)]((_0x15c301,_0x223b47)=>_0x223b47[_0x31c859(0x338)]-_0x15c301[_0x31c859(0x338)]);}async function checkAndShowMilestones(){const _0x5510fb=_0x2ebaf0;if(!data||!data[_0x5510fb(0x3fb)])return;if(!Array[_0x5510fb(0x2cf)](data[_0x5510fb(0x3fb)][_0x5510fb(0x32e)]))data['settings'][_0x5510fb(0x32e)]=[];const _0x309a71=data[_0x5510fb(0x220)][_0x5510fb(0x16d)]((_0x1771ae,_0x2a5da4)=>{const _0x84cc70=_0x5510fb;return _0x1771ae+_0x2a5da4[_0x84cc70(0x294)]['reduce']((_0x13ecae,_0x4e208b)=>{const _0x5eb0d0=_0x84cc70;return _0x13ecae+(_0x4e208b[_0x5eb0d0(0x125)][_0x5eb0d0(0x3d4)]||0x0);},0x0);},0x0),_0x5710e4=_0x309a71/0x3c,_0x3bb02e=getMilestones(),_0x56761e=Array['isArray'](data['settings']['achievedMilestones'])?data[_0x5510fb(0x3fb)][_0x5510fb(0x32e)]:[],_0x5f2b5b=_0x3bb02e[_0x5510fb(0x203)](_0x55dfd6=>_0x5710e4>=_0x55dfd6['hours']&&!_0x56761e[_0x5510fb(0x39a)](_0x55dfd6[_0x5510fb(0x338)]));if(_0x5f2b5b[_0x5510fb(0x402)]===0x0)return![];const _0x74d4ab=_0x5f2b5b[_0x5510fb(0x16d)]((_0x37a04b,_0x3937c7)=>_0x37a04b&&_0x37a04b['hours']>_0x3937c7[_0x5510fb(0x338)]?_0x37a04b:_0x3937c7,null);if(!_0x74d4ab)return![];$(_0x5510fb(0x34f))[_0x5510fb(0x196)]=_0x74d4ab[_0x5510fb(0x1b7)],$(_0x5510fb(0x22f))['textContent']=_0x74d4ab[_0x5510fb(0x152)],$(_0x5510fb(0x15a))[_0x5510fb(0x3a7)]['add']('show');try{trapFocus($(_0x5510fb(0x15a)));}catch(_0x36442c){}return data[_0x5510fb(0x3fb)][_0x5510fb(0x32e)][_0x5510fb(0x19f)](_0x74d4ab[_0x5510fb(0x338)]),await saveData(),!![];}async function seedAchievedMilestones(){const _0xc7b05c=_0x2ebaf0;if(!data||!data[_0xc7b05c(0x3fb)])return;!Array['isArray'](data[_0xc7b05c(0x3fb)][_0xc7b05c(0x32e)])&&(data['settings'][_0xc7b05c(0x32e)]=[],await saveData());}async function handleSendMessage(){const _0x487842=_0x2ebaf0,_0x599449=$(_0x487842(0x1be)),_0xda10cc=$(_0x487842(0x2b5)),_0x54f08a=_0xda10cc[_0x487842(0x2c3)][_0x487842(0x31d)](),_0x21770c=getCurrentSubtopic();if(!_0x54f08a)return;if(!_0x21770c){toast(t(_0x487842(0x1af)));return;}_0xda10cc[_0x487842(0x2c3)]='',_0x599449[_0x487842(0x374)]=!![],_0x599449[_0x487842(0x32a)]=_0x487842(0x427),_0x21770c[_0x487842(0x1e4)][_0x487842(0x19f)]({'role':_0x487842(0x3f1),'text':_0x54f08a}),renderChat();const _0x500edc=await callGeminiAPI(_0x54f08a);_0x500edc&&(_0x21770c[_0x487842(0x1e4)]['push']({'role':_0x487842(0x145),'text':_0x500edc}),await saveData(),renderChat()),_0x599449['disabled']=![],_0x599449[_0x487842(0x32a)]=_0x487842(0x32d);}function renderChat(){const _0x35f410=_0x2ebaf0,_0xec468c=getCurrentSubtopic(),_0x466dc7=$('#chatMessages'),_0x13fdd0=$(_0x35f410(0x2b5)),_0x59e1ea=$(_0x35f410(0x1be));if(!_0x466dc7||!_0x13fdd0||!_0x59e1ea)return;if(!_0xec468c){_0x466dc7[_0x35f410(0x32a)]=_0x35f410(0x242),_0x13fdd0[_0x35f410(0x374)]=!![],_0x59e1ea[_0x35f410(0x374)]=!![];return;}_0x13fdd0[_0x35f410(0x374)]=![],_0x59e1ea[_0x35f410(0x374)]=![],_0x466dc7['innerHTML']='';if(!_0xec468c[_0x35f410(0x1e4)]||_0xec468c[_0x35f410(0x1e4)][_0x35f410(0x402)]===0x0){_0x466dc7['innerHTML']=_0x35f410(0x2cc);return;}_0xec468c[_0x35f410(0x1e4)][_0x35f410(0x17a)](_0x125584=>{const _0x4d36b4=_0x35f410,_0x33698f=document[_0x4d36b4(0x407)](_0x4d36b4(0x2c8));_0x33698f[_0x4d36b4(0x23e)]=_0x4d36b4(0x21b)+_0x125584['role'],_0x33698f[_0x4d36b4(0x196)]=_0x125584[_0x4d36b4(0x3b7)],_0x466dc7[_0x4d36b4(0x284)](_0x33698f);}),_0x466dc7[_0x35f410(0x27e)]=_0x466dc7[_0x35f410(0x3b8)];}async function handleSummarizeNote(){const _0x592e8c=_0x2ebaf0,_0x5c9881=$('#btnSummarizeNote'),_0x320918=$(_0x592e8c(0x2a1)),_0x2ee98d=_0x320918[_0x592e8c(0x2c3)]['trim'](),_0x5b75a0=getCurrentSubtopic();if(!_0x2ee98d){toast(_0x592e8c(0x2bd));return;}const _0x543a2a=_0x5c9881[_0x592e8c(0x32a)];_0x5c9881[_0x592e8c(0x32a)]='<div\x20class=\x22spinner\x22></div>',_0x5c9881['disabled']=!![];const _0x1cff88=_0x592e8c(0x24e)+(_0x5b75a0?.[_0x592e8c(0x1a1)]||'kh√¥ng\x20r√µ')+_0x592e8c(0x2f3)+_0x2ee98d+_0x592e8c(0x3c6),_0x53f40a=await callGeminiAPI(_0x1cff88);_0x53f40a&&(_0x320918[_0x592e8c(0x2c3)]+='\x0a\x0a'+_0x53f40a),_0x5c9881['innerHTML']=_0x543a2a,_0x5c9881['disabled']=![];}function clearChat(){const _0x5c0418=getCurrentSubtopic();if(!_0x5c0418){toast(t('timer.selectSubtopicPrompt'));return;}showConfirmModal('X√°c\x20nh·∫≠n\x20x√≥a','B·∫°n\x20c√≥\x20ch·∫Øc\x20mu·ªën\x20x√≥a\x20to√†n\x20b·ªô\x20l·ªãch\x20s·ª≠\x20chat\x20c·ªßa\x20ch·ªß\x20ƒë·ªÅ\x20con\x20n√†y?',async _0x1767de=>{const _0x75460=_0x5e48;_0x1767de&&(_0x5c0418[_0x75460(0x1e4)]=[],await saveData(),renderChat(),toast(_0x75460(0x25a)));});}let ytPlayer,ytUserPaused=![],ytFallbackFrame=null,ytFallbackIsPlaying=![];function buildFallbackSrc(_0x6cd04d,{autoplay:autoplay=0x1,mute:mute=0x1}={}){const _0x3c7984=_0x2ebaf0,_0x678d1c=new URLSearchParams({'autoplay':String(autoplay),'mute':String(mute),'controls':'0','playsinline':'1','loop':'1','playlist':_0x6cd04d,'enablejsapi':'1','origin':_0x3c7984(0x35a)})[_0x3c7984(0x1b1)]();return'https://www.youtube.com/embed/'+_0x6cd04d+'?'+_0x678d1c;}function ensureFallbackFrame(){const _0x3384ca=_0x2ebaf0,_0x25b2c5=document[_0x3384ca(0x42e)](_0x3384ca(0x3f8));if(!_0x25b2c5)return null;if(ytFallbackFrame&&ytFallbackFrame[_0x3384ca(0x2be)])return ytFallbackFrame;const _0x458261=document[_0x3384ca(0x407)](_0x3384ca(0x28d));return _0x458261['id']=_0x3384ca(0x300),_0x458261[_0x3384ca(0x117)]='1',_0x458261['height']='1',_0x458261['style']['position']=_0x3384ca(0x18c),_0x458261['style'][_0x3384ca(0x211)]=_0x3384ca(0x1e7),_0x458261[_0x3384ca(0x2a4)][_0x3384ca(0x3c7)]=_0x3384ca(0x1e7),_0x458261[_0x3384ca(0x1ef)]=_0x3384ca(0x2f5),_0x25b2c5[_0x3384ca(0x32a)]='',_0x25b2c5[_0x3384ca(0x284)](_0x458261),ytFallbackFrame=_0x458261,_0x458261;}function fallbackLoadVideo(_0x93fed1,{autoplay:autoplay=0x1,mute:mute=0x1}={}){const _0x406b7d=_0x2ebaf0,_0xe4c401=document['getElementById'](_0x406b7d(0x3f8));if(!_0xe4c401)return;_0xe4c401['innerHTML']='';const _0x446fe1=document[_0x406b7d(0x407)]('iframe');_0x446fe1['id']=_0x406b7d(0x300),_0x446fe1[_0x406b7d(0x117)]='1',_0x446fe1['height']='1',_0x446fe1[_0x406b7d(0x2a4)]['position']=_0x406b7d(0x18c),_0x446fe1['style'][_0x406b7d(0x211)]='-9999px',_0x446fe1[_0x406b7d(0x2a4)][_0x406b7d(0x3c7)]=_0x406b7d(0x1e7),_0x446fe1[_0x406b7d(0x1ef)]='autoplay;\x20encrypted-media;\x20picture-in-picture',_0x446fe1[_0x406b7d(0x199)]=buildFallbackSrc(_0x93fed1,{'autoplay':autoplay,'mute':mute}),_0xe4c401[_0x406b7d(0x284)](_0x446fe1),ytFallbackFrame=_0x446fe1,ytFallbackIsPlaying=!!autoplay;try{const _0x1850b3=document[_0x406b7d(0x42e)](_0x406b7d(0x1cc));if(_0x1850b3)_0x1850b3[_0x406b7d(0x196)]=ytFallbackIsPlaying?'‚è∏Ô∏è':'‚ñ∂Ô∏è';}catch(_0x3debde){}}function fallbackPostMessage(_0x5d7770,_0x165638=[]){const _0x58ede3=_0x2ebaf0;try{if(!ytFallbackFrame||!ytFallbackFrame['contentWindow'])return;ytFallbackFrame[_0x58ede3(0x3eb)][_0x58ede3(0x245)](JSON[_0x58ede3(0x428)]({'event':_0x58ede3(0x3fa),'func':_0x5d7770,'args':_0x165638}),_0x58ede3(0x35a));}catch(_0xd03682){}}function fallbackPlay(){const _0x15b767=_0x2ebaf0;fallbackPostMessage(_0x15b767(0x302));}function fallbackStop(){const _0x2fc7e9=_0x2ebaf0;try{ytFallbackFrame&&(ytFallbackFrame[_0x2fc7e9(0x199)]=_0x2fc7e9(0x1ce),ytFallbackIsPlaying=![]);}catch(_0x185922){}}function fallbackPause(){fallbackStop();}function fallbackUnMute(){const _0x16e4fc=_0x2ebaf0;fallbackPostMessage(_0x16e4fc(0x2ed));}function fallbackMute(){fallbackPostMessage('mute');}window[_0x2ebaf0(0x2e3)]=function(){const _0x316523=_0x2ebaf0;if(IS_FILE_PROTOCOL){try{window[_0x316523(0x437)]&&window[_0x316523(0x437)][_0x316523(0x1f3)]();}catch(_0x5a182c){}return;}const _0x51119f={'height':'1','width':'1','playerVars':{'autoplay':0x0,'controls':0x0,'playsinline':0x1},'events':{'onReady':onPlayerReady,'onStateChange':onPlayerStateChange},'host':_0x316523(0x35a)};(window[_0x316523(0x39c)][_0x316523(0x129)]===_0x316523(0x1c2)||window['location']['protocol']===_0x316523(0x123))&&(_0x51119f[_0x316523(0x426)]=window[_0x316523(0x39c)]['origin']);ytPlayer=new YT[(_0x316523(0x11e))](_0x316523(0x3f8),_0x51119f);try{window[_0x316523(0x437)]&&window['__ytApiWatchdog']['cancel']();const _0x237dbc=document[_0x316523(0x42e)](_0x316523(0x132));_0x237dbc&&(_0x237dbc[_0x316523(0x196)]='');}catch(_0x176fc5){}};let _ytPrimed=![],_ytUnlocked=![];try{_ytUnlocked=localStorage[_0x2ebaf0(0x3bf)](_0x2ebaf0(0x2f1))==='1';}catch(_0x11faf1){}function showSoundPermission(){const _0x9a7055=_0x2ebaf0,_0x226ca8=document['getElementById'](_0x9a7055(0x3d2));if(!_0x226ca8)return;if(_ytUnlocked){_0x226ca8[_0x9a7055(0x3a7)][_0x9a7055(0x299)]('show');return;}_0x226ca8[_0x9a7055(0x3a7)][_0x9a7055(0x1ed)](_0x9a7055(0x385));}function hideSoundPermission(){const _0x1672c5=_0x2ebaf0,_0x5eb976=document[_0x1672c5(0x42e)]('soundPermissionBar');if(!_0x5eb976)return;_0x5eb976[_0x1672c5(0x3a7)][_0x1672c5(0x299)](_0x1672c5(0x385));}function unlockAudioChain(){const _0x76255=_0x2ebaf0;try{if(AUDIO_CTX&&typeof AUDIO_CTX[_0x76255(0x420)]==='function')AUDIO_CTX[_0x76255(0x420)]();}catch(_0xed8e92){}try{if(IS_FILE_PROTOCOL)fallbackUnMute(),fallbackPlay();else ytPlayer&&ytPlayer[_0x76255(0x2ed)]&&(ytPlayer[_0x76255(0x2ed)](),ytPlayer[_0x76255(0x302)]());}catch(_0x5d8b49){}_ytUnlocked=!![];try{localStorage[_0x76255(0x128)](_0x76255(0x2f1),'1');}catch(_0x3cdd15){}hideSoundPermission(),toast(_0x76255(0x439));}function onPlayerReady(_0x42082b){const _0x45b54b=_0x2ebaf0;try{const _0x778606=ytPlayer&&ytPlayer['getIframe']?ytPlayer[_0x45b54b(0x391)]():null;_0x778606&&_0x778606[_0x45b54b(0x37e)]('allow',_0x45b54b(0x2f5));}catch(_0x29f4c5){}try{if(ytPlayer&&ytPlayer['setVolume'])ytPlayer[_0x45b54b(0x1b6)](data&&data[_0x45b54b(0x3fb)]&&data[_0x45b54b(0x3fb)][_0x45b54b(0x365)]||0x50);}catch(_0x164488){}try{const _0x47ddb3=getActiveVideoId&&getActiveVideoId();if(_0x47ddb3&&ytPlayer&&ytPlayer['mute']&&ytPlayer[_0x45b54b(0x302)]){ytPlayer[_0x45b54b(0x21c)](),ytPlayer[_0x45b54b(0x302)](),_ytPrimed=!![];const _0x40be8b=()=>{const _0x4e4ca8=_0x45b54b;if(_ytUnlocked)return;try{unlockAudioChain();}catch(_0x1a0bf0){}window['removeEventListener'](_0x4e4ca8(0x430),_0x40be8b,!![]),window['removeEventListener'](_0x4e4ca8(0x1cf),_0x40be8b,!![]);};window['addEventListener'](_0x45b54b(0x430),_0x40be8b,!![]),window['addEventListener'](_0x45b54b(0x1cf),_0x40be8b,!![]),showSoundPermission();}}catch(_0x2645f1){}updateYouTubePlayer();}function onPlayerStateChange(_0x518ff5){const _0x29d249=_0x2ebaf0,_0x2879f4=$(_0x29d249(0x18e));_0x518ff5[_0x29d249(0x13b)]==YT['PlayerState']['PLAYING']?(_0x2879f4[_0x29d249(0x196)]='‚è∏Ô∏è',hideSoundPermission()):_0x2879f4[_0x29d249(0x196)]='‚ñ∂Ô∏è';if(_0x518ff5[_0x29d249(0x13b)]===YT['PlayerState'][_0x29d249(0x12d)]){if(!ytUserPaused)ytPlayer[_0x29d249(0x302)]();}}async function ytFadeTo(_0x501520,_0x570d67=0xfa){const _0x43a9db=_0x2ebaf0;try{if(!ytPlayer||!ytPlayer['getVolume']||!ytPlayer[_0x43a9db(0x1b6)])return;ytPlayer[_0x43a9db(0x2ed)]();const _0x102d71=ytPlayer['getVolume'](),_0x4b680d=_0x501520-_0x102d71;if(Math[_0x43a9db(0x3c2)](_0x4b680d)<0x1||_0x570d67<=0x0){ytPlayer['setVolume'](_0x501520);return;}const _0xa6856d=performance[_0x43a9db(0x142)]();await new Promise(_0x54296c=>{const _0x561f1b=_0x1b96ff=>{const _0x468000=_0x5e48,_0x5edda7=Math[_0x468000(0x24d)](0x1,(_0x1b96ff-_0xa6856d)/_0x570d67),_0x2c1c47=Math[_0x468000(0x1f8)](_0x102d71+_0x4b680d*_0x5edda7);ytPlayer[_0x468000(0x1b6)](_0x2c1c47);if(_0x5edda7<0x1)requestAnimationFrame(_0x561f1b);else _0x54296c();};requestAnimationFrame(_0x561f1b);});}catch(_0x2936d1){}}async function ytFadeInPlay(_0x34bb04=0xdc){const _0x479d0c=_0x2ebaf0;try{const _0x225a65=Math[_0x479d0c(0x12c)](0x0,Math[_0x479d0c(0x24d)](0x64,data&&data[_0x479d0c(0x3fb)]&&data[_0x479d0c(0x3fb)][_0x479d0c(0x365)]||0x50));if(!IS_FILE_PROTOCOL){if(!ytPlayer)return;ytPlayer[_0x479d0c(0x2ed)](),ytPlayer['playVideo']();try{ytPlayer['setVolume'](0x0);}catch(_0x136c2c){}await ytFadeTo(_0x225a65,_0x34bb04);}else{const _0x32005e=getActiveVideoId();_0x32005e&&fallbackLoadVideo(_0x32005e,{'autoplay':0x1,'mute':0x0});}}catch(_0x596eb5){}}async function ytFadeOutPause(_0x53bab7=0xb4){const _0x1d5228=_0x2ebaf0;try{const _0x458737=Math['max'](0x0,Math[_0x1d5228(0x24d)](0x64,data&&data[_0x1d5228(0x3fb)]&&data[_0x1d5228(0x3fb)][_0x1d5228(0x365)]||0x50));if(!IS_FILE_PROTOCOL){if(!ytPlayer)return;await ytFadeTo(0x0,_0x53bab7);try{ytPlayer[_0x1d5228(0x23f)](),ytPlayer['setVolume'](_0x458737);}catch(_0x592c3c){}}else try{fallbackPause();}catch(_0x4857ee){}}catch(_0x2042af){}}async function updateYouTubePlayer(){const _0x4719cc=_0x2ebaf0,_0x39ed3e=getActiveVideoId();if(data[_0x4719cc(0x3fb)][_0x4719cc(0x38f)]&&_0x39ed3e){const _0x2e7c35=_0x4719cc(0x3fd)+_0x39ed3e+_0x4719cc(0x3be),_0x441a5b=new Image();_0x441a5b['onload']=async()=>{const _0x5e7c98=_0x4719cc;data[_0x5e7c98(0x3fb)][_0x5e7c98(0x173)]=_0x2e7c35,await saveData(),applyCustomBg();},_0x441a5b[_0x4719cc(0x258)]=async()=>{const _0x44c2bb=_0x4719cc,_0x2e7374=_0x44c2bb(0x3fd)+_0x39ed3e+_0x44c2bb(0x1c3);data['settings'][_0x44c2bb(0x173)]=_0x2e7374,await saveData(),applyCustomBg();},_0x441a5b['src']=_0x2e7c35;}else!_0x39ed3e&&(data[_0x4719cc(0x3fb)][_0x4719cc(0x173)]='',await saveData(),applyCustomBg());if(IS_FILE_PROTOCOL){if(!_0x39ed3e){fallbackStop(),hideSoundPermission();return;}const _0x10589f=_ytUnlocked?0x0:0x1;fallbackLoadVideo(_0x39ed3e,{'autoplay':0x1,'mute':_0x10589f});!_ytUnlocked&&showSoundPermission();return;}if(!ytPlayer||!ytPlayer['cueVideoById']){try{ensureYouTubeAPI();}catch(_0x23c372){}return;}if(!_0x39ed3e){if(ytPlayer[_0x4719cc(0x31e)])ytPlayer[_0x4719cc(0x31e)]();hideSoundPermission();return;}ytPlayer[_0x4719cc(0x3a2)](_0x39ed3e),ytPlayer[_0x4719cc(0x1b6)](data[_0x4719cc(0x3fb)][_0x4719cc(0x365)]);}function toggleYtSound(){const _0x415ad3=_0x2ebaf0;if(!_ytUnlocked){try{ensureAudio();}catch(_0x4545d5){}try{unlockAudioChain();}catch(_0x53998d){}return;}if(IS_FILE_PROTOCOL){const _0x3391d9=getActiveVideoId();if(!ytFallbackFrame||!ytFallbackFrame[_0x415ad3(0x2be)]){if(!_0x3391d9){toast('Ch∆∞a\x20c√≥\x20link\x20h·ª£p\x20l·ªá.\x20D√°n\x20link\x20r·ªìi\x20b·∫•m\x20‚ñ∂Ô∏è.');return;}fallbackLoadVideo(_0x3391d9,{'autoplay':0x1,'mute':0x0}),ytFallbackIsPlaying=!![];try{const _0x49ed8d=document['getElementById'](_0x415ad3(0x1cc));if(_0x49ed8d)_0x49ed8d[_0x415ad3(0x196)]='‚è∏Ô∏è';}catch(_0x234156){}toast('ƒêang\x20ph√°t\x20nh·∫°c\x20n·ªÅn...');return;}if(ytFallbackIsPlaying)fallbackPostMessage('pauseVideo'),ytFallbackIsPlaying=![],toast(_0x415ad3(0x221));else{if(!_0x3391d9){toast('Ch∆∞a\x20c√≥\x20link\x20h·ª£p\x20l·ªá.\x20D√°n\x20link\x20r·ªìi\x20b·∫•m\x20‚ñ∂Ô∏è.');return;}fallbackPostMessage(_0x415ad3(0x302)),ytFallbackIsPlaying=!![],toast(_0x415ad3(0x23d));}try{const _0x4b6c09=document[_0x415ad3(0x42e)](_0x415ad3(0x1cc));if(_0x4b6c09)_0x4b6c09[_0x415ad3(0x196)]=ytFallbackIsPlaying?'‚è∏Ô∏è':'‚ñ∂Ô∏è';}catch(_0x1762d4){}return;}if(!ytPlayer||typeof ytPlayer[_0x415ad3(0x1b4)]!==_0x415ad3(0x24f)){try{ensureYouTubeAPI();}catch(_0x463b46){}return;}const _0xf23780=ytPlayer['getPlayerState']();_0xf23780===YT[_0x415ad3(0x3c5)][_0x415ad3(0x345)]||_0xf23780===YT[_0x415ad3(0x3c5)][_0x415ad3(0x15c)]?(ytFadeOutPause(),ytUserPaused=!![],toast(_0x415ad3(0x221))):(ytFadeInPlay(),ytUserPaused=![],toast(_0x415ad3(0x23d)));}function bindEvents(){const _0x5f0bba=_0x2ebaf0;try{const _0x5b3182=document['querySelector'](_0x5f0bba(0x13e));_0x5b3182&&(_0x5b3182[_0x5f0bba(0x32a)]=_0x5f0bba(0x247));}catch(_0xe03a94){}on($(_0x5f0bba(0x329)),'click',toggleBackgroundView),on($(_0x5f0bba(0x260)),_0x5f0bba(0x25b),()=>{const _0xdcc77e=_0x5f0bba;$(_0xdcc77e(0x15a))[_0xdcc77e(0x3a7)]['remove']('show');try{releaseFocus();}catch(_0x3ff23b){}}),on($('#btnAddTopic'),_0x5f0bba(0x25b),()=>showInputModal(_0x5f0bba(0x33b),async _0x43f02f=>{const _0xfd6378=_0x5f0bba;if(!_0x43f02f)return;data[_0xfd6378(0x220)]['push']({'id':uid('t'),'name':_0x43f02f,'subtopics':[]}),await saveData(),renderTopics();})),on($(_0x5f0bba(0x2b0)),'click',()=>storageManager[_0x5f0bba(0x244)](data)),on($(_0x5f0bba(0x120)),_0x5f0bba(0x268),_0x1ccfbe=>{const _0x32f1dd=_0x5f0bba,_0x4d5155=_0x1ccfbe[_0x32f1dd(0x23a)][_0x32f1dd(0x1f7)][0x0];if(!_0x4d5155)return;storageManager[_0x32f1dd(0x1c4)](_0x4d5155)[_0x32f1dd(0x18b)](async _0x3294b3=>{const _0x19d653=_0x32f1dd;data=_0x3294b3,normalizeDataStructure(data),await ensureValidSelection(),await seedAchievedMilestones(),toast(_0x19d653(0x401)),renderAll();})[_0x32f1dd(0x2d0)](_0x5e8605=>toast(_0x32f1dd(0x204)+_0x5e8605[_0x32f1dd(0x152)])),_0x1ccfbe['target'][_0x32f1dd(0x2c3)]=null;}),on($(_0x5f0bba(0x229)),_0x5f0bba(0x25b),()=>{const _0x175171=_0x5f0bba,_0xfd830d=$(_0x175171(0x24c)),_0x1644ea=_0xfd830d?_0xfd830d[_0x175171(0x2c3)]:'';if(!_0x1644ea){toast(_0x175171(0x423));return;}showConfirmModal(_0x175171(0x286),'B·∫°n\x20c√≥\x20ch·∫Øc\x20mu·ªën\x20ph·ª•c\x20h·ªìi\x20d·ªØ\x20li·ªáu\x20t·ª´\x20ng√†y\x20'+new Date(_0x1644ea)[_0x175171(0x311)]()+_0x175171(0x14a),_0x23cce1=>{const _0x4a94ca=_0x175171;_0x23cce1&&storageManager[_0x4a94ca(0x403)](_0x1644ea)['then'](_0x1f586b=>{const _0x24da41=_0x4a94ca;data=_0x1f586b,toast(_0x24da41(0x23b)),setTimeout(()=>window[_0x24da41(0x39c)][_0x24da41(0x17c)](),0x5dc);})['catch'](_0x3c0c3d=>{const _0x1f663e=_0x4a94ca;toast(_0x1f663e(0x155)+_0x3c0c3d[_0x1f663e(0x152)]);});});}),on($(_0x5f0bba(0x24b)),_0x5f0bba(0x2e8),_0x238280=>{const _0x564159=_0x5f0bba,_0x7207e6=_0x238280[_0x564159(0x23a)][_0x564159(0x2c3)];applyTheme(_0x7207e6);if(_0x7207e6===_0x564159(0x136)||_0x7207e6===_0x564159(0x2d4)){const _0x4c2711=$(_0x564159(0x2f0));_0x4c2711&&(_0x4c2711[_0x564159(0x2f7)]=![],toast(_0x564159(0x2d5),0x7d0));try{document[_0x564159(0x356)]['style'][_0x564159(0x315)](_0x564159(0x20d),_0x564159(0x2ff));}catch(_0x511da9){}}else{const _0x4afc6e=$('#set_ytThumbAsBg');_0x4afc6e&&(_0x4afc6e['checked']=!![]);try{updateYouTubePlayer();}catch(_0x4cc06b){}}}),on($(_0x5f0bba(0x1cd)),_0x5f0bba(0x25b),openSettings),on($(_0x5f0bba(0x191)),_0x5f0bba(0x25b),()=>{const _0x75f9dc=_0x5f0bba;switchView(_0x75f9dc(0x220)),$(_0x75f9dc(0x30d))[_0x75f9dc(0x25b)]();}),on($('#btnDashboard'),_0x5f0bba(0x25b),()=>{const _0x5b31e4=_0x5f0bba;renderDashboard(),$(_0x5b31e4(0x255))[_0x5b31e4(0x3a7)][_0x5b31e4(0x1ed)](_0x5b31e4(0x385));}),on($(_0x5f0bba(0x1b9)),_0x5f0bba(0x25b),()=>{const _0x47e246=_0x5f0bba;$(_0x47e246(0x255))[_0x47e246(0x3a7)][_0x47e246(0x299)](_0x47e246(0x385));}),on($(_0x5f0bba(0x2f4)),_0x5f0bba(0x25b),closeSettings),on($(_0x5f0bba(0x3e1)),_0x5f0bba(0x25b),saveSettings),on($(_0x5f0bba(0x27b)),_0x5f0bba(0x25b),setDefaults),on($(_0x5f0bba(0x3c4)),_0x5f0bba(0x25b),()=>{const _0x54fa3a=_0x5f0bba;ensureAudio(),playSound(_0x54fa3a(0x13d));}),on($(_0x5f0bba(0x20f)),'click',_0x1508f9=>{const _0x1d2cb3=_0x5f0bba;_0x1508f9[_0x1d2cb3(0x3c0)]();const _0x127505=$('#customSoundsContainer');if(_0x127505)_0x127505[_0x1d2cb3(0x3a7)]['toggle'](_0x1d2cb3(0x327));}),on($(_0x5f0bba(0x379)),_0x5f0bba(0x25b),async()=>{const _0xf24ab0=_0x5f0bba,_0xe10071=getCurrentSubtopic();if(!_0xe10071)return;const _0x54e35=pendingNoteSessionId,_0x159233=_0xe10071[_0xf24ab0(0x26f)]['find'](_0x4b6b23=>_0x4b6b23['id']===_0x54e35);_0x159233&&(_0x159233['note']=$('#noteText')[_0xf24ab0(0x2c3)][_0xf24ab0(0x31d)](),await saveData(),renderStatsHistory(),toast(_0xf24ab0(0x1f1))),closeNoteModal();}),on($(_0x5f0bba(0x34d)),_0x5f0bba(0x25b),()=>closeNoteModal()),on($(_0x5f0bba(0x171)),'click',addGeneralNote),on($(_0x5f0bba(0x172)),_0x5f0bba(0x25b),handleSummarizeNote),on($(_0x5f0bba(0x1be)),_0x5f0bba(0x25b),handleSendMessage),on($(_0x5f0bba(0x2b5)),'keydown',_0x1bfe16=>{const _0x397611=_0x5f0bba;if(_0x1bfe16['key']===_0x397611(0x330))handleSendMessage();}),$$(_0x5f0bba(0x183))[_0x5f0bba(0x17a)](_0x24babf=>{const _0x13668a=_0x5f0bba;on(_0x24babf,_0x13668a(0x25b),()=>{const _0x2d0a99=_0x13668a,_0x505854=_0x24babf[_0x2d0a99(0x12e)]['prompt'];$(_0x2d0a99(0x2b5))[_0x2d0a99(0x2c3)]=_0x505854,$(_0x2d0a99(0x2b5))[_0x2d0a99(0x205)]();});}),on($(_0x5f0bba(0x433)),_0x5f0bba(0x25b),clearChat),on($(_0x5f0bba(0x314)),_0x5f0bba(0x25b),addSubtopicTask),on($(_0x5f0bba(0x144)),_0x5f0bba(0x1cf),_0x5c4cb1=>{const _0x285ba7=_0x5f0bba;if(_0x5c4cb1[_0x285ba7(0x35e)]===_0x285ba7(0x330))addSubtopicTask();}),on($(_0x5f0bba(0x18e)),_0x5f0bba(0x25b),toggleYtSound),on($(_0x5f0bba(0x13a)),_0x5f0bba(0x25b),()=>{ensureAudio(),unlockAudioChain();}),on($(_0x5f0bba(0x19a)),_0x5f0bba(0x2e8),_0x34d61f=>{const _0x427d37=_0x5f0bba,_0x3e3a57=parseInt(_0x34d61f[_0x427d37(0x23a)][_0x427d37(0x2c3)],0xa);ytPlayer&&ytPlayer['setVolume']&&ytPlayer[_0x427d37(0x1b6)](_0x3e3a57);}),on($(_0x5f0bba(0x1a4)),'input',handleYoutubeUrlInput),$$(_0x5f0bba(0x1d8))[_0x5f0bba(0x17a)](_0x44f35b=>{_0x44f35b['addEventListener']('click',()=>{const _0x6e9a69=_0x5e48,_0x1d6d51=_0x44f35b['dataset'][_0x6e9a69(0x40e)],_0x4caf8d=data?.[_0x6e9a69(0x3fb)]?.[_0x6e9a69(0x380)]||_0x6e9a69(0x3cf);if(_0x4caf8d===_0x1d6d51&&_0x1d6d51!==_0x6e9a69(0x3cf))switchView('timer');else switchView(_0x1d6d51);});}),$$(_0x5f0bba(0x382))[_0x5f0bba(0x17a)](_0x4e7d49=>{const _0x51c258=_0x5f0bba;_0x4e7d49[_0x51c258(0x3ed)](_0x51c258(0x25b),()=>{const _0x23883c=_0x51c258,_0x4c0173=_0x4e7d49['dataset'][_0x23883c(0x249)],_0x493d19=_0x4e7d49[_0x23883c(0x184)](_0x23883c(0x178));if(!_0x493d19)return;_0x493d19[_0x23883c(0x43c)](_0x23883c(0x382))['forEach'](_0x53adb6=>_0x53adb6['classList']['remove']('active')),_0x4e7d49[_0x23883c(0x3a7)]['add']('active'),_0x493d19[_0x23883c(0x43c)](_0x23883c(0x38a))[_0x23883c(0x17a)](_0x460ea2=>{const _0x3a56a8=_0x23883c;_0x460ea2[_0x3a56a8(0x3a7)][_0x3a56a8(0x299)](_0x3a56a8(0x25c)),_0x460ea2['style'][_0x3a56a8(0x3ab)]=_0x3a56a8(0x2ff);});const _0xcdaf34=_0x493d19['querySelector']('#'+_0x4c0173);_0xcdaf34&&(_0xcdaf34[_0x23883c(0x3a7)]['add']('active'),_0xcdaf34[_0x23883c(0x2a4)][_0x23883c(0x3ab)]=_0x23883c(0x3e3),_0x493d19[_0x23883c(0x184)](_0x23883c(0x3e9))&&(_0xcdaf34['style'][_0x23883c(0x3ab)]=_0x23883c(0x252)));});});const _0x323ff8=$(_0x5f0bba(0x279));function _0x56b554(_0x535204,_0x34053e=null){const _0x20dc53=_0x5f0bba;try{document[_0x20dc53(0x2d6)]('styleWithCSS',![],!![]);}catch(_0x1b1486){}try{document[_0x20dc53(0x2d6)](_0x535204,![],_0x34053e);}catch(_0xe01200){}if(_0x323ff8)_0x323ff8['focus']();}on($('#toolBold'),'click',()=>_0x56b554(_0x5f0bba(0x3fc))),on($(_0x5f0bba(0x3b0)),_0x5f0bba(0x25b),()=>_0x56b554(_0x5f0bba(0x243))),on($(_0x5f0bba(0x29b)),_0x5f0bba(0x25b),()=>_0x56b554(_0x5f0bba(0x275),_0x5f0bba(0x35d))),on($('#toolList'),_0x5f0bba(0x25b),()=>_0x56b554('insertOrderedList')),on($(_0x5f0bba(0x1f5)),_0x5f0bba(0x25b),()=>_0x56b554(_0x5f0bba(0x161)));const _0x43aeab=$(_0x5f0bba(0x41d)),_0x13e8f5=$(_0x5f0bba(0x2cb));on($('#toolColor'),_0x5f0bba(0x25b),_0x524a64=>{const _0x5b4d85=_0x5f0bba;if(!_0x13e8f5)return;_0x524a64['stopPropagation'](),_0x13e8f5['classList'][_0x5b4d85(0x285)](_0x5b4d85(0x327));}),$$(_0x5f0bba(0x3ad))[_0x5f0bba(0x17a)](_0x41df25=>{const _0x8f09c5=_0x5f0bba;on(_0x41df25,_0x8f09c5(0x25b),_0x4e7955=>{const _0x4a6637=_0x8f09c5;_0x4e7955['preventDefault']();const _0x21e8d4=_0x41df25[_0x4a6637(0x12e)][_0x4a6637(0x40d)]||'';let _0x33e0fa=_0x21e8d4;try{const _0xecc45c=_0x21e8d4['match'](/--[a-zA-Z0-9_-]+/);if(_0xecc45c)_0x33e0fa=getComputedStyle(document['body'])[_0x4a6637(0x39e)](_0xecc45c[0x0])['trim']();}catch(_0x3a8f5b){}_0x56b554(_0x4a6637(0x218),_0x33e0fa);if(_0x13e8f5)_0x13e8f5['classList']['add'](_0x4a6637(0x327));});}),on(document,'click',_0x1b759e=>{const _0x34e821=_0x5f0bba;if(!_0x43aeab||!_0x13e8f5)return;!_0x43aeab['contains'](_0x1b759e['target'])&&!_0x13e8f5[_0x34e821(0x3a7)][_0x34e821(0x214)](_0x34e821(0x327))&&_0x13e8f5[_0x34e821(0x3a7)]['add'](_0x34e821(0x327));});function _0x6c05d6(_0x50f70){const _0x55cb2e=_0x5f0bba,_0x14f591=data?.[_0x55cb2e(0x3fb)]?.[_0x55cb2e(0x2ea)]||[],_0x2cf2f9=_0x50f70?_0x14f591['find'](_0x3ecd9c=>_0x3ecd9c['id']===_0x50f70):null;$(_0x55cb2e(0x33a))[_0x55cb2e(0x2c3)]=_0x2cf2f9&&_0x2cf2f9['id']||'',$(_0x55cb2e(0x188))[_0x55cb2e(0x196)]=_0x2cf2f9?_0x55cb2e(0x30c):_0x55cb2e(0x3a4),$('#methodEditorTitleInput')[_0x55cb2e(0x2c3)]=_0x2cf2f9&&_0x2cf2f9[_0x55cb2e(0x1b7)]||'';const _0x59f6e7=$(_0x55cb2e(0x279));if(_0x59f6e7)_0x59f6e7[_0x55cb2e(0x32a)]=_0x2cf2f9&&_0x2cf2f9[_0x55cb2e(0x331)]||'';$('#modalMethodEditor')['classList'][_0x55cb2e(0x1ed)](_0x55cb2e(0x385));try{trapFocus($('#modalMethodEditor'));}catch(_0x417086){}try{const _0x21d582=$(_0x55cb2e(0x15f));if(_0x21d582){const _0x166731=!!(data?.[_0x55cb2e(0x3fb)]?.[_0x55cb2e(0x34c)]&&data[_0x55cb2e(0x3fb)][_0x55cb2e(0x34c)][_0x55cb2e(0x31d)]());_0x21d582[_0x55cb2e(0x374)]=!_0x166731,_0x21d582[_0x55cb2e(0x1b7)]=_0x166731?_0x55cb2e(0x41e):'Vui\x20l√≤ng\x20th√™m\x20Gemini\x20API\x20Key\x20trong\x20C√†i\x20ƒë·∫∑t\x20ƒë·ªÉ\x20s·ª≠\x20d·ª•ng\x20t√≠nh\x20nƒÉng\x20n√†y.';}}catch(_0x39a6b3){}}on($(_0x5f0bba(0x325)),_0x5f0bba(0x25b),()=>{const _0x5bad34=_0x5f0bba;$(_0x5bad34(0x1da))[_0x5bad34(0x3a7)][_0x5bad34(0x299)](_0x5bad34(0x385));try{releaseFocus();}catch(_0x4e96f0){}}),on($(_0x5f0bba(0x1fb)),_0x5f0bba(0x25b),async()=>{const _0x1a76b2=_0x5f0bba,_0x202aa6=$(_0x1a76b2(0x33a))[_0x1a76b2(0x2c3)]||uid('m'),_0x5832c7=($('#methodEditorTitleInput')[_0x1a76b2(0x2c3)]||'')[_0x1a76b2(0x31d)](),_0x527cc1=$(_0x1a76b2(0x279)),_0x26026a=_0x527cc1?_0x527cc1[_0x1a76b2(0x32a)]||'':'';if(!Array[_0x1a76b2(0x2cf)](data[_0x1a76b2(0x3fb)][_0x1a76b2(0x2ea)]))data['settings']['methods']=[];const _0x2a154b=data[_0x1a76b2(0x3fb)][_0x1a76b2(0x2ea)][_0x1a76b2(0x19e)](_0x348fde=>_0x348fde['id']===_0x202aa6),_0x4140fc={'id':_0x202aa6,'title':_0x5832c7,'content':_0x26026a};if(_0x2a154b>=0x0)data[_0x1a76b2(0x3fb)][_0x1a76b2(0x2ea)][_0x2a154b]=_0x4140fc;else data[_0x1a76b2(0x3fb)][_0x1a76b2(0x2ea)][_0x1a76b2(0x1e2)](_0x4140fc);await storageManager['updateSettings'](data[_0x1a76b2(0x3fb)]),renderMethods(),$(_0x1a76b2(0x1da))[_0x1a76b2(0x3a7)][_0x1a76b2(0x299)](_0x1a76b2(0x385));try{releaseFocus();}catch(_0x5a684d){}}),on($('#btnAutoFormat'),_0x5f0bba(0x25b),async()=>{const _0x5b842f=_0x5f0bba,_0x27a512=$(_0x5b842f(0x279));if(!_0x27a512)return;const _0x2d148d=(_0x27a512[_0x5b842f(0x196)]||'')[_0x5b842f(0x31d)]();if(!_0x2d148d||_0x2d148d[_0x5b842f(0x402)]<0x14){toast(_0x5b842f(0x1e1));return;}const _0x318d5a=$('#btnAutoFormat');_0x318d5a&&(_0x318d5a[_0x5b842f(0x374)]=!![],_0x318d5a[_0x5b842f(0x32a)]=_0x5b842f(0x427));const _0x38442f='Ph√¢n\x20t√≠ch\x20v√†\x20ƒë·ªãnh\x20d·∫°ng\x20l·∫°i\x20ƒëo·∫°n\x20vƒÉn\x20b·∫£n\x20sau\x20ƒë√¢y\x20th√†nh\x20m√£\x20HTML\x20s·∫°ch.\x20S·ª≠\x20d·ª•ng\x20c√°c\x20th·∫ª\x20sau:\x0a-\x20D√πng\x20<h4>\x20cho\x20c√°c\x20ti√™u\x20ƒë·ªÅ\x20ch√≠nh.\x0a-\x20D√πng\x20<strong>\x20ƒë·ªÉ\x20nh·∫•n\x20m·∫°nh\x20c√°c\x20thu·∫≠t\x20ng·ªØ\x20ho·∫∑c\x20√Ω\x20t∆∞·ªüng\x20quan\x20tr·ªçng.\x0a-\x20D√πng\x20<i>\x20cho\x20c√°c\x20c√¢u\x20ghi\x20ch√∫\x20ho·∫∑c\x20tr√≠ch\x20d·∫´n.\x0a-\x20D√πng\x20<ol>\x20v√†\x20<li>\x20cho\x20c√°c\x20danh\x20s√°ch\x20c√≥\x20th·ª©\x20t·ª±.\x0a-\x20D√πng\x20<ul>\x20v√†\x20<li>\x20cho\x20c√°c\x20danh\x20s√°ch\x20kh√¥ng\x20c√≥\x20th·ª©\x20t·ª±.\x0a-\x20B·ªçc\x20c√°c\x20ƒëo·∫°n\x20vƒÉn\x20th√¥ng\x20th∆∞·ªùng\x20trong\x20th·∫ª\x20<p>.\x0aVƒÉn\x20b·∫£n\x20c·∫ßn\x20ƒë·ªãnh\x20d·∫°ng:\x0a\x0a\x22'+_0x2d148d+'\x22',_0x80f92b=await callGeminiAPI(_0x38442f);_0x80f92b?(_0x27a512[_0x5b842f(0x32a)]=_0x80f92b,toast(_0x5b842f(0x16e))):toast(_0x5b842f(0x376)),_0x318d5a&&(_0x318d5a[_0x5b842f(0x374)]=![],_0x318d5a[_0x5b842f(0x32a)]=_0x5b842f(0x2b4));}),on($(_0x5f0bba(0x22d)),_0x5f0bba(0x25b),()=>_0x6c05d6());const _0x1ce9f0=document[_0x5f0bba(0x273)]('#view-methods');_0x1ce9f0&&_0x1ce9f0[_0x5f0bba(0x3ed)](_0x5f0bba(0x25b),_0x47f950=>{const _0x4cf1f1=_0x5f0bba,_0x5df1e4=_0x47f950[_0x4cf1f1(0x23a)]['closest']&&_0x47f950[_0x4cf1f1(0x23a)][_0x4cf1f1(0x184)](_0x4cf1f1(0x33c)),_0x59617f=!_0x5df1e4&&_0x47f950[_0x4cf1f1(0x23a)][_0x4cf1f1(0x184)]&&_0x47f950[_0x4cf1f1(0x23a)][_0x4cf1f1(0x184)](_0x4cf1f1(0x421));if(_0x5df1e4){_0x47f950['preventDefault'](),_0x47f950[_0x4cf1f1(0x264)]();const _0x3ebadf=_0x5df1e4[_0x4cf1f1(0x12e)]['id'];if(_0x3ebadf)_0x6c05d6(_0x3ebadf);return;}if(_0x59617f){_0x47f950[_0x4cf1f1(0x3c0)](),_0x47f950[_0x4cf1f1(0x264)]();const _0x328a3e=_0x59617f['dataset']['id'];if(!_0x328a3e)return;const _0x503222=data?.[_0x4cf1f1(0x3fb)]?.['methods']||[],_0x315353=_0x503222[_0x4cf1f1(0x164)](_0x17d56b=>_0x17d56b['id']===_0x328a3e);if(!_0x315353)return;showConfirmModal(_0x4cf1f1(0x217),_0x4cf1f1(0x417)+(_0x315353['title']||'')+'\x22?',async _0x45e318=>{const _0x49a982=_0x4cf1f1;if(!_0x45e318)return;data[_0x49a982(0x3fb)][_0x49a982(0x2ea)]=_0x503222['filter'](_0x118b7b=>_0x118b7b['id']!==_0x328a3e),await storageManager[_0x49a982(0x3ce)](data[_0x49a982(0x3fb)]),renderMethods();});}});$$('#timerPresetSelector\x20button')['forEach'](_0x3124d2=>{const _0x32c31e=_0x5f0bba;_0x3124d2[_0x32c31e(0x3ed)](_0x32c31e(0x25b),()=>{const _0x4ea823=_0x32c31e;editingPreset=_0x3124d2['dataset'][_0x4ea823(0x3d6)],highlightPresetSelector(),loadEditingPresetFields();});}),$$('.presets\x20button')[_0x5f0bba(0x17a)](_0x474294=>{const _0x3373ff=_0x5f0bba;_0x474294['addEventListener'](_0x3373ff(0x25b),_0xe71adf=>{const _0x1d7688=_0x3373ff,_0x4ea236=_0xe71adf[_0x1d7688(0x23a)][_0x1d7688(0x12e)][_0x1d7688(0x2b3)],_0x3a23a3=data[_0x1d7688(0x3fb)][_0x1d7688(0x2b3)];if(_0x4ea236===_0x3a23a3)return;timer[_0x1d7688(0x3b4)]!=='idle'?showConfirmModal(_0x1d7688(0x342),_0x1d7688(0x137)+_0x4ea236+_0x1d7688(0x3b5),_0x233d95=>{const _0x58763a=_0x1d7688;_0x233d95&&(timer[_0x58763a(0x43d)](),timer[_0x58763a(0x14d)](_0x4ea236),renderAll(),toast('ƒê√£\x20chuy·ªÉn\x20sang\x20Ki·ªÉu\x20'+_0x4ea236+'.'));}):(timer[_0x1d7688(0x14d)](_0x4ea236),renderAll(),toast(_0x1d7688(0x240)+_0x4ea236+'.'));});}),on($('#btnStart'),_0x5f0bba(0x25b),()=>timer[_0x5f0bba(0x1d6)]()),on($(_0x5f0bba(0x163)),_0x5f0bba(0x25b),()=>timer[_0x5f0bba(0x2dc)]()),on($('#btnPause'),_0x5f0bba(0x25b),()=>timer['pause']()),on($(_0x5f0bba(0x2e6)),'click',()=>timer[_0x5f0bba(0x420)]()),on($(_0x5f0bba(0x253)),'click',()=>timer['skip']()),on($(_0x5f0bba(0x27c)),_0x5f0bba(0x25b),()=>timer[_0x5f0bba(0x43d)]()),on($(_0x5f0bba(0x1bb)),'click',()=>timer['beginBreak']()),on($('#uploadBg'),_0x5f0bba(0x268),_0x1239cd=>{const _0x3c6c74=_0x5f0bba;handleFileUpload(_0x1239cd[_0x3c6c74(0x23a)][_0x3c6c74(0x1f7)][0x0],async _0x104d2a=>{const _0x48abfa=_0x3c6c74;data['settings'][_0x48abfa(0x173)]=_0x104d2a,await saveData(),applyCustomBg(),toast(_0x48abfa(0x34e));}),_0x1239cd['target'][_0x3c6c74(0x2c3)]=null;}),on($('#btnClearBg'),_0x5f0bba(0x25b),async()=>{const _0x334f34=_0x5f0bba;data[_0x334f34(0x3fb)][_0x334f34(0x173)]='',data[_0x334f34(0x3fb)]['useYtThumbnailAsBg']=![],await saveData(),applyCustomBg(),toast(_0x334f34(0x223)),$(_0x334f34(0x3e9))[_0x334f34(0x3a7)]['contains'](_0x334f34(0x385))&&openSettings();}),on($(_0x5f0bba(0x175)),_0x5f0bba(0x268),_0x489cf2=>{const _0x560c06=_0x5f0bba;handleFileUpload(_0x489cf2[_0x560c06(0x23a)][_0x560c06(0x1f7)][0x0],async _0x17e216=>{const _0x109283=_0x560c06;data[_0x109283(0x3fb)][_0x109283(0x1f9)]['work_end']=_0x17e216,await saveData(),toast(_0x109283(0x236));}),_0x489cf2['target']['value']=null;}),on($(_0x5f0bba(0x1b3)),'change',_0xaae757=>{const _0x168cbe=_0x5f0bba;handleFileUpload(_0xaae757['target'][_0x168cbe(0x1f7)][0x0],async _0x420b8e=>{const _0x54271a=_0x168cbe;data['settings']['customSounds'][_0x54271a(0x3a1)]=_0x420b8e,await saveData(),toast(_0x54271a(0x35f));}),_0xaae757[_0x168cbe(0x23a)]['value']=null;}),on($('#uploadSoundLong'),_0x5f0bba(0x268),_0x24ad76=>{const _0x2baad6=_0x5f0bba;handleFileUpload(_0x24ad76[_0x2baad6(0x23a)][_0x2baad6(0x1f7)][0x0],async _0x450217=>{const _0x24c3a6=_0x2baad6;data[_0x24c3a6(0x3fb)][_0x24c3a6(0x1f9)][_0x24c3a6(0x1c9)]=_0x450217,await saveData(),toast(_0x24c3a6(0x212));}),_0x24ad76[_0x2baad6(0x23a)]['value']=null;}),on($(_0x5f0bba(0x283)),_0x5f0bba(0x25b),toggleFullScreen),document[_0x5f0bba(0x3ed)](_0x5f0bba(0x262),updateFullscreenButton),window[_0x5f0bba(0x3ed)](_0x5f0bba(0x1cf),_0x395dad=>{const _0x23b0fe=_0x5f0bba,_0x357dbf=(_0x395dad['target'][_0x23b0fe(0x326)]||'')[_0x23b0fe(0x349)](),_0x3a736b=[_0x23b0fe(0x2e8),_0x23b0fe(0x30b),_0x23b0fe(0x413)][_0x23b0fe(0x39a)](_0x357dbf);if(_0x395dad[_0x23b0fe(0x3ea)]==='Space'&&!_0x3a736b){_0x395dad[_0x23b0fe(0x3c0)]();if(timer[_0x23b0fe(0x3b4)]===_0x23b0fe(0x150)||timer[_0x23b0fe(0x3b4)]===_0x23b0fe(0x16c))timer[_0x23b0fe(0x1d6)]();else timer[_0x23b0fe(0x339)]();}(_0x395dad['key']==='n'||_0x395dad[_0x23b0fe(0x35e)]==='N')&&(!_0x3a736b&&(_0x395dad[_0x23b0fe(0x3c0)](),timer[_0x23b0fe(0x248)]()));if(_0x395dad[_0x23b0fe(0x35e)]===_0x23b0fe(0x288)){$$(_0x23b0fe(0x190))[_0x23b0fe(0x17a)](_0x434472=>_0x434472[_0x23b0fe(0x3a7)][_0x23b0fe(0x299)](_0x23b0fe(0x385)));try{releaseFocus();}catch(_0x7df5cf){}}if(_0x395dad['altKey']&&!_0x3a736b){if(_0x395dad[_0x23b0fe(0x35e)]===_0x23b0fe(0x25e))_0x395dad[_0x23b0fe(0x3c0)](),_0x81179c(0x0,-0xa);else{if(_0x395dad[_0x23b0fe(0x35e)]===_0x23b0fe(0x395))_0x395dad['preventDefault'](),_0x81179c(0x0,0xa);else{if(_0x395dad[_0x23b0fe(0x35e)]===_0x23b0fe(0x310))_0x395dad[_0x23b0fe(0x3c0)](),_0x81179c(-0xa,0x0);else _0x395dad[_0x23b0fe(0x35e)]===_0x23b0fe(0x2cd)&&(_0x395dad['preventDefault'](),_0x81179c(0xa,0x0));}}}}),$$(_0x5f0bba(0x190))[_0x5f0bba(0x17a)](_0x14004a=>_0x14004a[_0x5f0bba(0x3ed)](_0x5f0bba(0x25b),_0x57d7c9=>{const _0x56048b=_0x5f0bba;if(_0x57d7c9&&_0x57d7c9[_0x56048b(0x23a)]&&_0x57d7c9[_0x56048b(0x23a)]['id']===_0x56048b(0x3f2))return;if(_0x57d7c9[_0x56048b(0x23a)]===_0x14004a){_0x14004a[_0x56048b(0x3a7)][_0x56048b(0x299)](_0x56048b(0x385));try{releaseFocus();}catch(_0x9ad1f3){}}})),window[_0x5f0bba(0x3ed)](_0x5f0bba(0x25b),_0x31bf41=>{const _0xa00375=_0x5f0bba;!_0x31bf41['target']['closest']('.actions-menu-btn')&&!_0x31bf41['target'][_0xa00375(0x184)]('.actions-menu')&&closeAllMenus();});try{const _0xc44292=document[_0x5f0bba(0x273)]('.app-content');if(_0xc44292)_0xc44292[_0x5f0bba(0x3ed)](_0x5f0bba(0x2a6),closeAllMenus);}catch(_0x4ec232){}try{window['addEventListener'](_0x5f0bba(0x2a6),closeAllMenus,!![]);}catch(_0x31c522){}window[_0x5f0bba(0x3ed)]('beforeunload',()=>timer[_0x5f0bba(0x1d3)](!![]));try{const _0x147379=Array[_0x5f0bba(0x18f)](document[_0x5f0bba(0x43c)](_0x5f0bba(0x350)));_0x147379[_0x5f0bba(0x402)]&&_0x147379[_0x5f0bba(0x17a)](_0x44ab5f=>{const _0x2853e4=_0x5f0bba;_0x44ab5f[_0x2853e4(0x3ed)](_0x2853e4(0x285),()=>{const _0x3b96e1=_0x2853e4;_0x44ab5f[_0x3b96e1(0x34b)]&&_0x147379[_0x3b96e1(0x17a)](_0x416651=>{const _0x395314=_0x3b96e1;if(_0x416651!==_0x44ab5f)_0x416651[_0x395314(0x34b)]=![];});});});}catch(_0x2f5dd6){}const _0x3b78ee=$(_0x5f0bba(0x192));let _0x41cbf5=![],_0x3d9272,_0x117a1c;_0x3b78ee&&(_0x3b78ee[_0x5f0bba(0x3ed)](_0x5f0bba(0x270),_0x3ebe42=>{const _0x59ef7c=_0x5f0bba;_0x41cbf5=!![];const _0x5addd2=_0x3b78ee['getBoundingClientRect']();_0x3d9272=_0x3ebe42[_0x59ef7c(0x176)]-_0x5addd2[_0x59ef7c(0x3c7)],_0x117a1c=_0x3ebe42[_0x59ef7c(0x22a)]-_0x5addd2[_0x59ef7c(0x211)],_0x3b78ee[_0x59ef7c(0x2a4)]['transition']=_0x59ef7c(0x2ff);}),document[_0x5f0bba(0x3ed)](_0x5f0bba(0x1a2),_0x468cc7=>{const _0xc93987=_0x5f0bba;if(!_0x41cbf5)return;let _0x5dd68b=_0x468cc7[_0xc93987(0x176)]-_0x3d9272,_0x80a05f=_0x468cc7[_0xc93987(0x22a)]-_0x117a1c;const _0x37a4b2=window['innerWidth']-_0x3b78ee['offsetWidth'],_0x4d88fb=window[_0xc93987(0x347)]-_0x3b78ee[_0xc93987(0x169)];_0x5dd68b=Math[_0xc93987(0x12c)](0x0,Math[_0xc93987(0x24d)](_0x5dd68b,_0x37a4b2)),_0x80a05f=Math[_0xc93987(0x12c)](0x0,Math[_0xc93987(0x24d)](_0x80a05f,_0x4d88fb)),_0x3b78ee[_0xc93987(0x2a4)]['left']=_0x5dd68b+'px',_0x3b78ee[_0xc93987(0x2a4)]['top']=_0x80a05f+'px',_0x3b78ee['style'][_0xc93987(0x16f)]=_0xc93987(0x2e9),_0x3b78ee[_0xc93987(0x2a4)][_0xc93987(0x435)]=_0xc93987(0x2e9);}),document['addEventListener'](_0x5f0bba(0x2af),()=>{const _0x44933b=_0x5f0bba;if(!_0x41cbf5)return;_0x41cbf5=![],_0x3b78ee[_0x44933b(0x2a4)][_0x44933b(0x429)]='';}));function _0x5d8ed1(_0x3ccf80){const _0xb48b67=_0x5f0bba,_0x119968=$(_0xb48b67(0x192));if(!_0x119968)return;_0x119968['style'][_0xb48b67(0x3b1)]=_0xb48b67(0x2df),_0x119968[_0xb48b67(0x2a4)][_0xb48b67(0x429)]='',_0x119968[_0xb48b67(0x2a4)]['left']='auto',_0x119968['style'][_0xb48b67(0x211)]=_0xb48b67(0x2e9),_0x119968[_0xb48b67(0x2a4)][_0xb48b67(0x435)]=_0xb48b67(0x2e9),_0x119968[_0xb48b67(0x2a4)]['bottom']=_0xb48b67(0x2e9);const _0x5df22c=0x10;_0x3ccf80==='tl'&&(_0x119968['style']['left']=_0x5df22c+'px',_0x119968[_0xb48b67(0x2a4)][_0xb48b67(0x211)]=_0x5df22c+'px'),_0x3ccf80==='tr'&&(_0x119968['style'][_0xb48b67(0x435)]=_0x5df22c+'px',_0x119968[_0xb48b67(0x2a4)][_0xb48b67(0x211)]=_0x5df22c+'px'),_0x3ccf80==='bl'&&(_0x119968[_0xb48b67(0x2a4)][_0xb48b67(0x3c7)]=_0x5df22c+'px',_0x119968[_0xb48b67(0x2a4)][_0xb48b67(0x16f)]=_0x5df22c+'px'),_0x3ccf80==='br'&&(_0x119968[_0xb48b67(0x2a4)]['right']=_0x5df22c+'px',_0x119968[_0xb48b67(0x2a4)]['bottom']=_0x5df22c+'px');}function _0x81179c(_0x22c056,_0x5cbe3a){const _0x3c8f35=_0x5f0bba,_0x5a90df=$(_0x3c8f35(0x192));if(!_0x5a90df)return;const _0xdc4f54=_0x5a90df[_0x3c8f35(0x140)](),_0x388b78=Math['max'](0x0,Math[_0x3c8f35(0x24d)](_0xdc4f54[_0x3c8f35(0x3c7)]+_0x22c056,window[_0x3c8f35(0x2f8)]-_0x5a90df['offsetWidth'])),_0x908253=Math[_0x3c8f35(0x12c)](0x0,Math[_0x3c8f35(0x24d)](_0xdc4f54[_0x3c8f35(0x211)]+_0x5cbe3a,window[_0x3c8f35(0x347)]-_0x5a90df[_0x3c8f35(0x169)]));_0x5a90df[_0x3c8f35(0x2a4)][_0x3c8f35(0x3c7)]=_0x388b78+'px',_0x5a90df[_0x3c8f35(0x2a4)][_0x3c8f35(0x211)]=_0x908253+'px',_0x5a90df[_0x3c8f35(0x2a4)][_0x3c8f35(0x435)]='auto',_0x5a90df[_0x3c8f35(0x2a4)]['bottom']=_0x3c8f35(0x2e9);}}function toggleBackgroundView(){const _0x27bb8c=_0x2ebaf0,_0x28c8c3=document[_0x27bb8c(0x356)];_0x28c8c3[_0x27bb8c(0x3a7)][_0x27bb8c(0x285)]('bg-view-mode');const _0x3ba7f1=_0x28c8c3[_0x27bb8c(0x3a7)]['contains'](_0x27bb8c(0x309)),_0x2f73f2=$(_0x27bb8c(0x329));if(!_0x2f73f2)return;_0x3ba7f1?(_0x2f73f2['title']=_0x27bb8c(0x187),_0x2f73f2[_0x27bb8c(0x32a)]='<svg\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20width=\x2216\x22\x20height=\x2216\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M9.88\x209.88a3\x203\x200\x201\x200\x204.24\x204.24\x22/><path\x20d=\x22M10.73\x205.08A10.43\x2010.43\x200\x200\x201\x2012\x205c7\x200\x2010\x207\x2010\x207a13.16\x2013.16\x200\x200\x201-1.67\x202.68\x22/><path\x20d=\x22M6.61\x206.61A13.526\x2013.526\x200\x200\x200\x202\x2012s3\x207\x2010\x207a9.74\x209.74\x200\x200\x200\x205.39-1.61\x22/><line\x20x1=\x222\x22\x20y1=\x222\x22\x20x2=\x2222\x22\x20y2=\x2222\x22/></svg>'):(_0x2f73f2['title']=_0x27bb8c(0x225),_0x2f73f2[_0x27bb8c(0x32a)]=_0x27bb8c(0x12f));}function updateMainViewVisibility(){const _0x231cb2=_0x2ebaf0,_0x31635d=!!getCurrentSubtopic(),_0x34fbc3=$(_0x231cb2(0x251)),_0x4c5048=$('#welcomePanel');_0x4c5048&&_0x4c5048[_0x231cb2(0x3a7)][_0x231cb2(0x285)](_0x231cb2(0x327),_0x31635d),_0x34fbc3&&(_0x31635d?_0x34fbc3[_0x231cb2(0x3a7)][_0x231cb2(0x299)]('no-subtopic-selected'):_0x34fbc3['classList'][_0x231cb2(0x1ed)](_0x231cb2(0x319)));}function updatePresetButtonsText(){const _0x4841a8=_0x2ebaf0,_0x2a6591=data['settings'],_0x16d21b=_0x2a6591[_0x4841a8(0x1ca)],_0x17d46e=_0x2a6591['cyclesB'],_0x229014=_0x2a6591[_0x4841a8(0x185)][_0x4841a8(0x259)],_0x52b27e=_0x2a6591[_0x4841a8(0x185)][_0x4841a8(0x16a)],_0x58e205=$('#btnPresetA'),_0x28db2f=$('#btnPresetB'),_0x32b3bf=$(_0x4841a8(0x186));_0x58e205&&(_0x58e205[_0x4841a8(0x196)]=_0x16d21b+'√ó'+_0x229014+_0x4841a8(0x3bc)),_0x28db2f&&(_0x28db2f[_0x4841a8(0x196)]=_0x17d46e+'√ó'+_0x52b27e+_0x4841a8(0x276)),_0x32b3bf&&(_0x32b3bf['textContent']=_0x4841a8(0x371));}function renderAll(){const _0x3992d3=_0x2ebaf0;updatePresetButtonsText();const _0xf35ea9=data['settings'][_0x3992d3(0x2b3)];$$('.presets\x20button')[_0x3992d3(0x17a)](_0x2c66f1=>{const _0xc8bfac=_0x3992d3,_0x34c272=_0x2c66f1['dataset']['preset']===_0xf35ea9;_0x2c66f1[_0xc8bfac(0x3a7)][_0xc8bfac(0x285)]('acc',_0x34c272),_0x2c66f1[_0xc8bfac(0x3a7)][_0xc8bfac(0x285)](_0xc8bfac(0x414),!_0x34c272),_0x2c66f1[_0xc8bfac(0x37e)](_0xc8bfac(0x375),_0x34c272);}),updateMainViewVisibility(),timer[_0x3992d3(0x14d)](data[_0x3992d3(0x3fb)][_0x3992d3(0x2b3)],{'silent':!![]}),renderTopics(),renderContextBadge(),renderStatsHistory(),renderGeneralNotes(),renderMethods(),renderChat(),applyCustomBg(),applyPanelOpacity(),renderSubtopicTasks(),updateFullscreenButton(),switchView(data[_0x3992d3(0x3fb)]['currentView']);}function toggleFullScreen(){const _0x4b6bac=_0x2ebaf0;!document[_0x4b6bac(0x3a9)]?document[_0x4b6bac(0x2a9)][_0x4b6bac(0x280)]()[_0x4b6bac(0x2d0)](_0x21b41c=>{const _0x302ea4=_0x4b6bac;toast(_0x302ea4(0x281)+_0x21b41c['message']);}):document['exitFullscreen']&&document[_0x4b6bac(0x357)]();}function updateFullscreenButton(){const _0x1caf64=_0x2ebaf0,_0x26729a=$(_0x1caf64(0x283));document[_0x1caf64(0x3a9)]?(_0x26729a['innerHTML']='‚ÜôÔ∏è',_0x26729a[_0x1caf64(0x1b7)]=_0x1caf64(0x419)):(_0x26729a['innerHTML']='‚ÜóÔ∏è',_0x26729a[_0x1caf64(0x1b7)]=_0x1caf64(0x1a8));}async function initializeApp(){const _0x1526ce=_0x2ebaf0;try{await storageManager[_0x1526ce(0x165)]();const [_0x195c6e,_0x611a25,_0x47a730]=await Promise[_0x1526ce(0x2c7)]([storageManager[_0x1526ce(0x396)](),storageManager[_0x1526ce(0x31c)](_0x1526ce(0x220)),storageManager[_0x1526ce(0x31c)](_0x1526ce(0x294))]);let _0x224260;if(!_0x195c6e){const _0x2eef22=JSON['parse'](JSON['stringify'](defaults));await storageManager['updateSettings'](_0x2eef22[_0x1526ce(0x3fb)]);for(const _0x1c7709 of _0x2eef22[_0x1526ce(0x220)]){const {subtopics:_0x41fa4c,..._0x14e7f5}=_0x1c7709;await storageManager[_0x1526ce(0x1ed)](_0x1526ce(0x220),_0x14e7f5);for(const _0x249aae of _0x41fa4c){await storageManager['add']('subtopics',{..._0x249aae,'topicId':_0x1c7709['id']});}}_0x224260=_0x2eef22;}else{const _0x5dbde8={};for(const _0x4ec25e of _0x611a25)_0x5dbde8[_0x4ec25e['id']]={..._0x4ec25e,'subtopics':[]};for(const _0x17133b of _0x47a730)_0x5dbde8[_0x17133b[_0x1526ce(0x287)]]?.[_0x1526ce(0x294)]['push'](_0x17133b);_0x224260={'version':defaults[_0x1526ce(0x2ba)],'settings':_0x195c6e,'topics':Object[_0x1526ce(0x130)](_0x5dbde8)};}data=window[_0x1526ce(0x13b)]=_0x224260,normalizeDataStructure(data),await ensureValidSelection(),await seedAchievedMilestones(),renderAll();try{storageManager[_0x1526ce(0x3e4)](data);}catch(_0x103c75){console[_0x1526ce(0x124)](_0x1526ce(0x1e6),_0x103c75);}bindEvents(),applyTheme();}catch(_0x6df528){console[_0x1526ce(0x143)](_0x1526ce(0x1ec),_0x6df528),toast(_0x1526ce(0x355)+_0x6df528[_0x1526ce(0x152)]);}}callGeminiAPI=async function(_0x367a13,_0x21e72f=0x3,_0xebb87=0x3e8){const _0xf53ac9=_0x2ebaf0,_0x473a3a=data?.[_0xf53ac9(0x3fb)]?.[_0xf53ac9(0x34c)]||'';if(!_0x473a3a)return toast(_0xf53ac9(0x2db)),null;const _0x1375d7=_0xf53ac9(0x1bc)+_0x473a3a,_0x8cdbab={'contents':[{'role':'user','parts':[{'text':_0x367a13}]}]};try{const _0x38b917=await fetch(_0x1375d7,{'method':_0xf53ac9(0x3b9),'headers':{'Content-Type':_0xf53ac9(0x3a5)},'body':JSON[_0xf53ac9(0x428)](_0x8cdbab)});if(!_0x38b917['ok']){if(_0x38b917[_0xf53ac9(0x422)]===0x1ad&&_0x21e72f>0x0)return await new Promise(_0x23cc9f=>setTimeout(_0x23cc9f,_0xebb87)),callGeminiAPI(_0x367a13,_0x21e72f-0x1,_0xebb87*0x2);let _0x573979=null;try{_0x573979=await _0x38b917[_0xf53ac9(0x2c2)]();}catch(_0x471260){}let _0x5d82e3=_0xf53ac9(0x2bf)+_0x38b917[_0xf53ac9(0x422)];if(_0x38b917[_0xf53ac9(0x422)]===0x190)_0x5d82e3='L·ªói:\x20Gemini\x20API\x20Key\x20kh√¥ng\x20h·ª£p\x20l·ªá\x20ho·∫∑c\x20ƒë√£\x20b·ªã\x20thay\x20ƒë·ªïi.\x20Vui\x20l√≤ng\x20ki·ªÉm\x20tra\x20l·∫°i\x20trong\x20C√†i\x20ƒë·∫∑t.';else{if(_0x38b917[_0xf53ac9(0x422)]===0x1ad)_0x5d82e3=_0xf53ac9(0x1a0);else _0x573979?.['error']?.['message']&&(_0x5d82e3='L·ªói\x20t·ª´\x20Gemini:\x20'+_0x573979['error'][_0xf53ac9(0x152)]);}return toast(_0x5d82e3,0xfa0),console[_0xf53ac9(0x143)](_0xf53ac9(0x157),_0x573979||_0x38b917[_0xf53ac9(0x304)]),null;}const _0x57a495=await _0x38b917['json']();if(_0x57a495[_0xf53ac9(0x2bc)]&&_0x57a495[_0xf53ac9(0x2bc)][0x0]?.[_0xf53ac9(0x331)]?.[_0xf53ac9(0x1c6)]?.[0x0]?.[_0xf53ac9(0x3b7)])return formatGeminiResponse(_0x57a495['candidates'][0x0][_0xf53ac9(0x331)]['parts'][0x0][_0xf53ac9(0x3b7)]);else{console['error'](_0xf53ac9(0x11b),_0x57a495);if(_0x57a495[_0xf53ac9(0x246)]?.[_0xf53ac9(0x388)])return _0xf53ac9(0x323)+_0x57a495[_0xf53ac9(0x246)][_0xf53ac9(0x388)]+_0xf53ac9(0x1ee);return _0xf53ac9(0x418);}}catch(_0x4c55cc){return console[_0xf53ac9(0x143)]('L·ªói\x20khi\x20g·ªçi\x20Gemini\x20API:',_0x4c55cc),toast(_0xf53ac9(0x20c),0xfa0),null;}},loadLanguage(localStorage['getItem']('lang')||'vi')[_0x2ebaf0(0x18b)](initializeApp);
    </script>
</body>
</html>

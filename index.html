<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="·ª®ng d·ª•ng Pomodoro h·ªó tr·ª£ h·ªçc t·∫≠p v·ªõi t√≠ch h·ª£p Gemini AI v√† giao di·ªán hi·ªán ƒë·∫°i." />
    <title>Pomodoro Study App ‚Äî T√≠ch h·ª£p Gemini AI (Giao di·ªán m·ªõi)</title>
    <style>
    /*
    =============================================
    POMODORO STUDY APP ‚Äî PHI√äN B·∫¢N GIAO DI·ªÜN T·∫¨P TRUNG (v1.0)
    =============================================
    */

    :root {
      /* Theme Dark (M·∫∑c ƒë·ªãnh) - C·∫≠p nh·∫≠t t·ª´ file 2 */
      --bg: #0f1222;
      --panel: #171a2e;
      --panel-rgb: 23, 26, 46; /* Th√™m bi·∫øn RGB cho panel */
      --muted: #212646;
      --text: #f4f6ff;
      --sub: #b7c1ff;
      --acc: #6c8cff;
      --acc-rgb: 108, 140, 255;
      --acc-2: #27d3a2;
      --purple: #a78bfa;
      --warn: #ffb020;
      --danger: #ff5c7a;
      --shadow: 0px 1.8px 2.2px rgba(0, 0, 0, 0.054), 0px 4.3px 5.3px rgba(0, 0, 0, 0.077), 0px 8.1px 10px rgba(0, 0, 0, 0.095), 0px 14.5px 17.9px rgba(0, 0, 0, 0.113), 0px 27.2px 33.4px rgba(0, 0, 0, 0.136), 0px 65px 80px rgba(0, 0, 0, 0.19);
      --radius: 16px;
      --panel-opacity: 0.85;
      --gradient-border: linear-gradient(135deg, var(--acc), var(--acc-2));
    }
    
    /* === START: TH√äM C√ÅC THEME M·ªöI === */
    [data-theme='light'] {
      --bg: #f5f0e8; --panel: #ffffff; --panel-rgb: 255, 255, 255; --muted: #eaddcf; --text: #4a4a4a; --sub: #8a817c; --acc: #d4a373; --acc-rgb: 212, 163, 115; --acc-2: #a3b18a; --warn: #e76f51; --danger: #d00000;
      --shadow: 0px 1.8px 2.2px rgba(0, 0, 0, 0.024), 0px 4.3px 5.3px rgba(0, 0, 0, 0.037), 0px 8.1px 10px rgba(0, 0, 0, 0.045), 0px 14.5px 17.9px rgba(0, 0, 0, 0.053), 0px 27.2px 33.4px rgba(0, 0, 0, 0.066), 0px 65px 80px rgba(0, 0, 0, 0.09);
      --panel-opacity: 0.9;
      /* NgƒÉn n·ªÅn t·ªëi m·∫∑c ƒë·ªãnh khi kh√¥ng c√≥ ·∫£nh */
      --bg-image: none;
    }

    [data-theme='pastel'] {
      --bg: #fde2e4; --panel: #fff1f2; --panel-rgb: 255, 241, 242; --muted: #fad2e1; --text: #595260; --sub: #8c7a8a; --acc: #c78283; --acc-rgb: 199, 130, 131; --acc-2: #7ec4cf; --warn: #f9bf45; --danger: #d7263d;
      --shadow: 0 5px 20px rgba(200,150,150,0.2);
      --panel-opacity: 0.9;
      /* NgƒÉn n·ªÅn t·ªëi m·∫∑c ƒë·ªãnh khi kh√¥ng c√≥ ·∫£nh */
      --bg-image: none;
    }
    
    [data-theme='lofi'] {
      --bg: #2a2a3e; --panel: #3c3c52; --panel-rgb: 60, 60, 82; --muted: #4d4d66; --text: #e0e0ff; --sub: #a0a0c0; --acc: #ff8c69; --acc-rgb: 255, 140, 105; --acc-2: #69c6ff; --warn: #ffd700; --danger: #ff6961;
      /* === Replaced external GIF with inline data URI (offline-safe) === */
      --bg-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSc4MDAnIGhlaWdodD0nNjAwJz48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9J2cnIHgxPScwJyB5MT0nMCcgeDI9JzEnIHkyPScxJz48c3RvcCBvZmZzZXQ9JzAlJyBzdG9wLWNvbG9yPScjMmEyYTNlJy8+PHN0b3Agb2Zmc2V0PScxMDAlJyBzdG9wLWNvbG9yPScjM2MzYzUyJy8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PHJlY3Qgd2lkdGg9JzEwMCUnIGhlaWdodD0nMTAwJScgZmlsbD0ndXJsKCNnKScvPjwvc3ZnPg==');
      --panel-opacity: 0.8;
    }
    
    [data-theme='space'] {
        --bg: #000000; --panel: #1a1a2e; --panel-rgb: 26, 26, 46; --muted: #2a2a4e; --text: #e0e0ff; --sub: #b0b0e0; --acc: #00aaff; --acc-rgb: 0, 170, 255; --acc-2: #aaff00; --warn: #ffaa00; --danger: #ff0055;
        /* === Replaced external GIF with inline data URI (offline-safe) === */
        --bg-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSc4MDAnIGhlaWdodD0nNjAwJz48ZGVmcz48cmFkaWFsR3JhZGllbnQgaWQ9J2cnIGN4PSc1MCUnIGN5PSc0MCUnIHI9JzcwJSc+PHN0b3Agb2Zmc2V0PScwJScgc3RvcC1jb2xvcj0nIzBiMGIxYScvPjxzdG9wIG9mZnNldD0nMTAwJScgc3RvcC1jb2xvcj0nIzAwMDAwMCcvPjwvcmFkaWFsR3JhZGllbnQ+PC9kZWZzPjxyZWN0IHdpZHRoPScxMDAlJyBoZWlnaHQ9JzEwMCUnIGZpbGw9J3VybCgjZyknLz48L3N2Zz4=');
        --panel-opacity: 0.75;
    }
    /* === END: TH√äM C√ÅC THEME M·ªöI === */

    *:focus-visible {
      outline: 2px solid var(--acc); outline-offset: 2px; border-radius: 4px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body {
      margin:0; 
      font-family: system-ui, -apple-system, 'Segoe UI Variable', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Inter', sans-serif; 
      
      background-color: var(--bg);
      background-image: var(--bg-image, radial-gradient(1200px 800px at 10% -10%, #20285b 0%, #0f1222 50%, #0b0e1a 100%));
      
      background-size: cover; 
      background-position: center; 
      color:var(--text); 
      transition: background 0.5s ease, color 0.5s ease, filter 0.5s ease;
      text-shadow: 0px 0px 5px rgba(0, 0, 0, 0.5);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
    }
    a{color:var(--acc)}

    .app{display:flex; min-height:100vh}
    
    .app-nav {
        width: 60px;
        padding: 16px 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 16px;
        z-index: 100;
    }
    .nav-btn {
        background: transparent;
        border: none;
        color: var(--sub);
        width: 44px;
        height: 44px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all .2s ease;
        position: relative;
    }
    .nav-btn:hover { background: var(--muted); color: var(--text); }
    .nav-btn.active { background: var(--acc); color: white; }
    .nav-btn svg { width: 24px; height: 24px; }
    .nav-btn .tooltip {
        position: absolute;
        left: 110%;
        top: 50%;
        transform: translateY(-50%);
        color: var(--text);
        padding: 4px 8px;
        border-radius: 6px;
        font-size: 12px;
        box-shadow: var(--shadow);
        white-space: nowrap;
        opacity: 0;
        visibility: hidden;
        transition: opacity .2s ease, visibility .2s ease;
        pointer-events: none;
        z-index: 200;
    }
    .nav-btn:hover .tooltip { opacity: 1; visibility: visible; }

    .app-content {
        flex: 1;
        padding: 24px;
        overflow-y: auto;
        max-height: 100vh;
    }

    .view { display: none; }
    .view.active { display: grid; gap: 24px; animation: fadeIn .3s ease; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    .main.reloading { opacity: 0; transition: opacity 0.2s ease-out; }

    .panel-bg{
        background: rgba(23, 26, 46, var(--panel-opacity));
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border:1px solid rgba(255,255,255,.08);
    }
    /* Th√™m c√°c quy t·∫Øc border cho theme light/pastel */
    [data-theme='light'] .panel-bg, [data-theme='pastel'] .panel-bg { border:1px solid rgba(0,0,0,0.05); }
    [data-theme='lofi'] .panel-bg { border:1px solid rgba(255,255,255,0.1); }
    [data-theme='space'] .panel-bg { border:1px solid rgba(255,255,255,0.12); }


header.app-header{display:flex; align-items:center; justify-content:space-between; padding:10px 14px; border-radius:var(--radius); box-shadow:var(--shadow); margin-bottom: 24px; position: relative; z-index: 2000;}
    header .actions{display:flex; gap:8px; align-items:center}
    
    .btn {
      background: rgba(255, 255, 255, 0.08);
      color: var(--text);
      border: none; /* S·ª≠a ƒë·ªïi: b·ªè border m·∫∑c ƒë·ªãnh */
      padding: 10px 14px;
      border-radius: 12px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      box-shadow: inset 0 -2px 0 rgba(0,0,0,0.08);
      font-weight: 600;
      transition: all .15s ease;
      position: relative;
      overflow: hidden;
    }
    .btn::before {
        content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
        border: 2px solid transparent; border-radius: 12px; background: var(--gradient-border) border-box;
        -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
        -webkit-mask-composite: destination-out; mask-composite: exclude; opacity: 0; transition: opacity 0.3s ease;
    }
    .btn:hover::before { opacity: 1; }
    .btn:hover { background: rgba(255, 255, 255, 0.12); }
    .btn:active { transform: translateY(1px) scale(0.98); filter: brightness(1); }
    .btn:disabled { cursor: not-allowed; filter: brightness(0.8) saturate(0.5); }
    .btn.ghost { background: transparent; border: 1px solid rgba(255, 255, 255, 0.2); }
    .btn.ghost:hover { background: rgba(255, 255, 255, 0.1); border-color: rgba(255, 255, 255, 0.3); }
    .btn.acc { background: var(--acc); color: white; }
    .btn.warn { background: var(--warn); color: white; }
    .btn.danger { background: var(--danger); color: white; }
    .btn.small { padding: 6px 10px; font-size: 14px; border-radius: 9px; }
    .btn.small::before { border-radius: 9px; }
    .btn > svg { width: 16px; height: 16px; stroke-width: 2.5px; }

    /* === START: C·∫¨P NH·∫¨T GIAO DI·ªÜN QU·∫¢N L√ù CH·ª¶ ƒê·ªÄ === */
    #view-topics { grid-template-columns: 1fr; }
    .topic-item { background:rgba(255,255,255,.04); border:1px solid var(--muted); border-radius:12px; padding:8px; margin-bottom:8px; } /* S·ª≠a ƒë·ªïi */
    .topic-header, .sub-row { display:flex; align-items:center; gap:8px; position: relative; }
    .topic-header { cursor: pointer; }
    .topic-header .topic-actions { cursor: default; }
    .topic-header .topic-actions * { cursor: pointer; }
    .topic-item { cursor: pointer; }
    .topic-item .topic-actions { cursor: default; }
    .topic-item .topic-actions * { cursor: pointer; }
    .topic-title { flex:1; font-weight:600; cursor: pointer; }
    .chev { width:28px; height:28px; border-radius:8px; display:inline-flex; align-items:center; justify-content:center; flex-shrink: 0; cursor: pointer; }
    .chev .ico { display:inline-block; transition: transform .18s ease; }
    .chev[aria-expanded="false"] .ico { transform: rotate(-90deg); }
    .subtopics { margin-top:8px; display:flex; flex-direction:column; gap:6px; }
    .subtopics.hidden { display:none; }
    
    .topic-actions, .sub-row .actions {
        opacity: 0;
        visibility: hidden;
        transition: opacity .2s ease, visibility .2s ease;
        display: flex;
        gap: 6px;
        align-items: center;
    }
    .topic-item:hover .topic-actions, .topic-item:focus-within .topic-actions,
    .sub-row:hover .actions, .sub-row:focus-within .actions {
      opacity: 1;
      visibility: visible;
    }
    .actions-menu-btn {
        padding: 0;
        width: 28px;
        height: 28px;
        font-size: 1.2em;
        line-height: 1;
    }
    .actions-menu {
        position: absolute;
        top: 100%;
        right: 0;
        border-radius: 8px;
        padding: 6px;
        box-shadow: var(--shadow);
        z-index: 10;
        min-width: 150px;
        display: none;
        flex-direction: column;
        gap: 4px;
    }
    /* N√¢ng kh·ªëi ƒëang m·ªü menu l√™n tr√™n c√°c kh·ªëi kh√°c */
    .topic-item.menu-active { position: relative; z-index: 20; }
    
    .actions-menu.show { display: flex; }
    .menu-item {
        background: transparent; border: none; color: var(--text);
        padding: 8px 10px; border-radius: 6px; text-align: left;
        width: 100%; cursor: pointer; transition: background .2s ease;
        display: flex; align-items: center; gap: 8px; font-size: 14px; font-weight: 500;
    }
    .menu-item:hover { background: var(--acc); color: white; }
    .menu-item.danger:hover { background: var(--danger); }
    /* === END: C·∫¨P NH·∫¨T GIAO DI·ªÜN QU·∫¢N L√ù CH·ª¶ ƒê·ªÄ === */

    .subtopic-btn{
        flex:1; 
        text-align:left;
        background-color: rgba(0,0,0,0.02); /* S·ª≠a ƒë·ªïi */
    }
    .subtopic-btn:hover {
        background-color: transparent; /* Hover transparent to avoid blue background */
    }
    .subtopic-btn.active{
        outline:2px solid var(--acc); 
    }
    .subtopic-btn.active:hover {
        background: transparent; /* Gi·ªØ n·ªÅn trong su·ªët khi di chu·ªôt qua */
    }
    
    .panel{border-radius:var(--radius); padding:24px; box-shadow:var(--shadow)}

    .timer-header { display: flex; justify-content: space-between; align-items: center; gap: 12px; flex-wrap: wrap; }
    .timer{display:grid; gap:16px; grid-template-columns: 1fr; align-items:center; text-align:center}
    .big-time{font-size: clamp(60px, 12vw, 96px); letter-spacing:1px; font-weight:700; color: var(--text)}
    .state{font-weight:700; letter-spacing:.6px}
    .state.work{color:var(--acc-2)} /* S·ª≠a ƒë·ªïi m√†u */
    .state.break{color:var(--warn)}
    .state.long{color:var(--danger)} /* S·ª≠a ƒë·ªïi m√†u */
    .controls{display:flex; flex-wrap:wrap; gap:12px; justify-content:center}    
    #btnStart { padding: 14px 28px; font-size: 1.2em; }
    #btnPause, #btnResume { padding: 12px 24px; font-size: 1.1em; }

    /* === START: T√ôY CH·ªàNH D·∫¢I PH√ÇN C√ÅCH M·ªÄM M·∫†I H∆†N === */
    #view-timer .panel-bg hr {
        border: none; /* B·ªè ƒë∆∞·ªùng vi·ªÅn m·∫∑c ƒë·ªãnh */
        height: 1px;  /* ƒê·∫∑t chi·ªÅu cao cho ƒë∆∞·ªùng k·∫ª */
        background-color: var(--muted); /* S·ª≠ d·ª•ng m√†u ph·ª• c·ªßa theme */
        opacity: 0.3; /* L√†m cho n√≥ m·ªù ƒëi, h√≤a v√†o n·ªÅn */
        margin-top: 0; /* ƒêi·ªÅu ch·ªânh l·∫°i kho·∫£ng c√°ch */
    }
    /* === END: T√ôY CH·ªàNH D·∫¢I PH√ÇN C√ÅCH M·ªÄM M·∫†I H∆†N === */

    .stats-grid{display:grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap:12px}
    .stat-card{background:rgba(255,255,255,0.04); border:1px solid var(--muted); border-radius:14px; padding:12px; text-align:center} /* S·ª≠a ƒë·ªïi */
    .stat-card h4{margin:4px 0 8px; color:var(--sub); font-weight:600; font-size: 14px;}
    .stat-value{font-size: 20px; font-weight: 600;}
    .tiny{font-size:12px; color:var(--sub)}
    .history{display:grid; gap:8px; max-height:300px; overflow:auto; padding-right:6px}
    .hist-item{display:grid; grid-template-columns: 1fr auto; gap:10px; align-items:start; background:rgba(255,255,255,0.04); border:1px solid var(--muted); border-radius:10px; padding:10px} /* S·ª≠a ƒë·ªïi */

    .row{display:flex; gap:8px; align-items:center}
    .row > * {flex:1}
    input[type="text"], input[type="password"], input[type="number"], select, textarea{width:100%; background:rgba(255,255,255,0.04); color:var(--text); border:1px solid var(--muted); border-radius:10px; padding:10px; outline:none}
    textarea{min-height:80px; resize: vertical;}

    .toasts{position:fixed; right:16px; bottom:16px; display:flex; flex-direction:column; gap:8px; z-index:9999}
    .toast{
        background: var(--panel); /* S·ª≠a ƒë·ªïi */
        border:1px solid var(--muted);
        color:var(--text);
        padding:10px 12px; border-radius:12px; box-shadow:var(--shadow);
        animation: toast-in .3s ease; transform-origin: bottom right;
    }
    @keyframes toast-in { from { opacity: 0; transform: scale(0.8); } to { opacity: 1; transform: scale(1); } }

    .modal{position:fixed; inset:0; display:none; align-items:center; justify-content:center; background: rgba(0,0,0,var(--panel-opacity)); z-index:10000; backdrop-filter: blur(5px);} /* N√¢ng z-index ƒë·ªÉ n·∫±m tr√™n header */
    .modal.show{display:flex}
    .modal-card{
        position: relative;
        z-index: 10001;
        width:min(720px, 94vw);
        border-radius:16px;
        padding:16px;
        box-shadow:var(--shadow);
        animation: modal-in .25s ease-out;
        max-height: 90vh;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
    }
    body.modal-open { overflow: hidden; }
    @keyframes modal-in { from { opacity: 0; transform: scale(0.92) translateY(10px); } to { opacity: 1; transform: scale(1) translateY(0); } }
    .modal-card h3{margin-top:0}
    .dashboard-table { width: 100%; border-collapse: collapse; margin-top: 12px; }
    .dashboard-table th, .dashboard-table td { padding: 8px 12px; text-align: left; border-bottom: 1px solid var(--muted); }
    .dashboard-table th { color: var(--sub); }

    .footer-note{font-size:12px; color:var(--sub)}
    .hidden{display:none !important}

    .notes-list { display: flex; flex-direction: column; gap: 8px; max-height: 250px; overflow-y: auto; padding-right: 6px; }
    .note-item { background: rgba(255,255,255,0.04); border-radius: 10px; padding: 10px; display: flex; justify-content: space-between; align-items: flex-start; gap: 10px; cursor: pointer; } /* S·ª≠a ƒë·ªïi */
    .note-content-wrapper { flex: 1; min-width: 0; }
    .note-content { white-space: pre-wrap; word-break: break-word; max-height: 60px; overflow: hidden; position: relative; transition: max-height 0.35s ease-in-out; }
    .note-content:not(.expanded)::after {
        content: ''; position: absolute; bottom: 0; right: 0; width: 100%; height: 20px; background: linear-gradient(to top, var(--panel) 20%, transparent);
    }
    .note-content.expanded { max-height: 500px; }
    .note-meta { font-size: 11px; color: var(--sub); margin-top: 4px; }
    
    .spinner { border: 2px solid var(--muted); border-top-color: var(--text); border-radius: 50%; width: 16px; height: 16px; animation: spin 1s linear infinite; } /* S·ª≠a ƒë·ªïi */
    @keyframes spin { to { transform: rotate(360deg); } }

    .panel-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
    .panel-header h3 { margin: 0; }
    .panel-header .actions { display: flex; gap: 8px; }
    
    .aux-panel { margin-top: 24px; }
    .tab-nav { display: flex; gap: 4px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); margin-bottom: 16px; }
    .tab-btn { background: transparent; border: none; color: var(--sub); padding: 8px 16px; cursor: pointer; border-bottom: 2px solid transparent; transition: all .2s ease; font-weight: 600; }
    .tab-btn:hover { color: var(--text); }
    .tab-btn.active { color: var(--acc); border-bottom-color: var(--acc); }
    .tab-content {
      display: none;
      padding-top: 8px;
    }
    .tab-content.active {
      animation: fadeIn 0.25s ease-out;
    }
    #tasks.tab-content.active,
    #notes.tab-content.active,
    #ai.tab-content.active {
        display: block;
    }

    #settings-timer.tab-content.active,
    #settings-ui.tab-content.active,
    #settings-integrations.tab-content.active {
        display: flex;
    }

    .settings-row-toggle {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 16px;
    }
    .settings-row-toggle span {
      flex: 1;
      cursor: pointer;
    }
    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 44px;
      height: 24px;
      flex-shrink: 0;
    }
    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .toggle-switch .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: var(--muted);
      transition: .3s;
      border-radius: 24px;
    }
    .toggle-switch .slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: .3s;
      border-radius: 50%;
    }
    .toggle-switch input:checked + .slider {
      background-color: var(--acc-2);
    }
    .toggle-switch input:checked + .slider:before {
      transform: translateX(20px);
    }
    
    .chat-messages { max-height: 250px; overflow-y: auto; display: flex; flex-direction: column; gap: 8px; margin-bottom: 12px; padding: 4px; }
    .chat-msg { padding: 8px 12px; border-radius: 12px; max-width: 85%; word-break: break-word; }
    .chat-msg.user { background: var(--acc); color: white; align-self: flex-end; border-bottom-right-radius: 4px; }
    .chat-msg.model { background: var(--muted); align-self: flex-start; border-bottom-left-radius: 4px; }
    .chat-input-area { display: flex; gap: 8px; }

    .methods-list { list-style: none; padding: 0; }
    .method-item { align-items: flex-start; padding: 12px; display: flex; gap: 10px; border-radius: 8px; }
    .method-item:hover { background: rgba(0,0,0,0.03); } /* S·ª≠a ƒë·ªïi */
    .method-item input[type="checkbox"] { width: 18px; height: 18px; margin-top: 2px; flex-shrink: 0;}
    .method-item label { flex: 1; }
    .method-item label.completed { text-decoration: line-through; color: var(--sub); }
    .method-item .content-wrapper { flex: 1; cursor: pointer; }
    .method-item .concept { font-size: 14px; color: var(--sub); margin-top: 8px; border-left: 2px solid var(--muted); padding-left: 12px; white-space: pre-wrap; word-break: break-word; }
    /* Highlight section titles and bold text inside method content */
    .method-content h4 {
        color: var(--acc-2);
        font-size: 1.1em;
        margin-top: 1.5em;
        margin-bottom: 0.5em;
    }
    .method-content strong {
        color: var(--acc);
        font-weight: 600;
    }
    /* Apply the same highlight to the Guide view */
    #view-guide h4 { color: var(--acc-2); }
    #view-guide strong { color: var(--acc-2); }
    /* Show hand cursor to indicate clickability */
    .method-item, .method-item summary { cursor: pointer; }
    .subtopic-todo-list { list-style: none; padding: 0; margin: 0; max-height: 100px; overflow-y: auto; text-align: left; }
    .subtopic-todo-list li { display: flex; align-items: center; gap: 8px; padding: 4px; transition: all 0.2s ease-out; }
    .subtopic-todo-list li.removing { transform: translateX(100%); opacity: 0; }
    .subtopic-todo-list label { flex: 1; }

    #youtube-player-container { position: absolute; top: -9999px; left: -9999px; width: 1px; height: 1px; overflow: hidden; }

    ::-webkit-scrollbar { width: 8px; height: 8px; }
    ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1); border-radius: 10px; } /* S·ª≠a ƒë·ªïi */
    ::-webkit-scrollbar-thumb { background: var(--muted); border-radius: 10px; border: 2px solid transparent; background-clip: content-box; }
    ::-webkit-scrollbar-thumb:hover { background: var(--sub); background-clip: content-box; }
    
    .timer-circle-container {
        position: relative; width: clamp(250px, 40vw, 320px); height: clamp(250px, 40vw, 320px); margin: 24px auto; display: flex; align-items: center; justify-content: center;
    }
    .timer-svg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; transform: rotate(-90deg); }
    .timer-circle-bg, .timer-circle-progress { fill: none; stroke-width: 8; }
    .timer-circle-bg { stroke: var(--muted); } /* S·ª≠a ƒë·ªïi */
    .timer-circle-progress { stroke: var(--acc); stroke-linecap: round; transition: stroke-dashoffset 0.3s linear, stroke 0.5s ease; }
    @keyframes flash { 0%, 100% { box-shadow: 0 0 10px 2px transparent; } 50% { box-shadow: 0 0 20px 8px currentColor; } }
    .timer-circle-container.finished { color: var(--acc-2); animation: flash 1s ease-out; }
    @keyframes breathing-effect { 0% { transform: scale(1); } 50% { transform: scale(1.03); } 100% { transform: scale(1); } }
    .timer-circle-container.breathing { animation: breathing-effect 3s ease-in-out infinite; }
    
    
    
    @media (max-width: 1024px) {
      .app-content { padding: 20px; }
      .panel { padding: 20px; }
      .timer-circle-container { width: clamp(220px, 50vw, 300px); height: clamp(220px, 50vw, 300px); }
    }

    @media (max-width: 768px) {
      .app { flex-direction: column; }
      .app-nav { width: 100%; height: 60px; flex-direction: row; justify-content: center; border-right: none; border-top: 1px solid rgba(255,255,255,.08); order: 2; padding: 0 16px; }
      .app-content { padding: 16px; order: 1; }
      .panel { padding: 16px; }
      .modal-card .tab-nav { overflow-x: auto; }
    }

    @media (max-width: 480px) {
      .app-nav { height: 50px; }
      .nav-btn { flex: 1; }
      header.app-header { flex-direction: column; align-items: stretch; gap: 8px; }
      .btn { padding: 8px 12px; }
      .timer-circle-container { width: clamp(180px, 80vw, 220px); height: clamp(180px, 80vw, 220px); margin: 16px auto; }
      .panel { padding: 12px; }
      .app-content { padding: 12px; }
    }

    #view-timer.no-subtopic-selected > .panel-bg:not(:first-child) { display: none; }
    #view-timer.no-subtopic-selected .timer-header > .presets { display: none; }
    #view-timer.no-subtopic-selected .timer { display: none; }

    header.app-header .actions #btnFullscreen { background: transparent; border: none; box-shadow: none; }
    header.app-header .actions #btnFullscreen:hover { background: var(--muted); filter: none; }
    header.app-header .actions #btnFullscreen:hover::before { opacity: 0; }

    input[type="text"], input[type="password"], input[type="number"], select, textarea {
        background: rgba(255,255,255,0.04) !important; /* S·ª≠a ƒë·ªïi: chuy·ªÉn sang n·ªÅn tr·∫Øng trong su·ªët */
        color: var(--text);
        border: 1px solid rgba(255, 255, 255, 0.1); /* Vi·ªÅn tr·∫Øng m·ªù */
        transition: background .2s ease, border-color .2s ease;
    }
    input[type="text"]:focus, input[type="password"]:focus, input[type="number"]:focus, select:focus, textarea:focus {
        background: rgba(255,255,255,0.06) !important; /* Tinh ch·ªânh: s√°t m·∫´u h∆°n */
        border-color: var(--acc);
    }
    /* === START: S·ª¨A L·ªñI N·ªÄN INPUT/SELECT TR√äN THEME S√ÅNG === */
    [data-theme='light'] input, [data-theme='light'] select, [data-theme='light'] textarea,
    [data-theme='pastel'] input, [data-theme='pastel'] select, [data-theme='pastel'] textarea {
        background: rgba(0, 0, 0, 0.05) !important; /* D√πng n·ªÅn ƒëen m·ªù thay v√¨ tr·∫Øng m·ªù */
        border-color: rgba(0, 0, 0, 0.1); /* Vi·ªÅn ƒëen m·ªù tr√™n theme s√°ng */
    }

    [data-theme='light'] input:focus, [data-theme='light'] select:focus, [data-theme='light'] textarea:focus,
    [data-theme='pastel'] input:focus, [data-theme='pastel'] select:focus, [data-theme='pastel'] textarea:focus {
        background: rgba(0, 0, 0, 0.07) !important; /* TƒÉng ƒë·ªô ƒë·∫≠m khi focus */
    }
    /* === END: S·ª¨A L·ªñI N·ªÄN INPUT/SELECT TR√äN THEME S√ÅNG === */

    /* C·∫£i thi·ªán n·ªÅn v√† m√†u ch·ªØ cho option trong select theo theme hi·ªán t·∫°i */
    select option {
        background: var(--panel);
        color: var(--text);
    }
    
    ::placeholder { color: var(--sub); opacity: 0.7; } /* S·ª≠a ƒë·ªïi */
    ::-ms-input-placeholder { color: var(--sub); }
    :-ms-input-placeholder { color: var(--sub); }

    
    
    .draggable-timer {
        position: fixed;
        bottom: 20px;
        right: 20px;
        color: var(--text);
        padding: 8px 16px;
        border-radius: 12px;
        box-shadow: var(--shadow);
        font-size: 2em;
        font-weight: 600;
        cursor: move;
        user-select: none;
        z-index: 9998;
        opacity: 0;
        transform: scale(0.9);
        pointer-events: none;
        transition: opacity 0.35s ease, transform 0.35s ease;
    }
    body.bg-view-mode .draggable-timer {
        opacity: 1;
        transform: scale(1);
        pointer-events: auto;
    }
    .app-nav, .panel-bg, .app-header .actions > *, .app-header > .row {
        transition: opacity 0.35s ease, transform 0.35s ease, background 0.35s ease, border-color 0.35s ease, box-shadow 0.35s ease;
    }
    body.bg-view-mode .app-nav,
    body.bg-view-mode .view.active > .panel-bg {
        opacity: 0;
        pointer-events: none;
        transform: scale(0.98);
    }
    body.bg-view-mode .app-header {
        background: transparent !important;
        border-color: transparent !important;
        box-shadow: none !important;
    }
    body.bg-view-mode .app-header .actions > *:not(#btnToggleBg),
    body.bg-view-mode .app-header > .row {
        opacity: 0;
        pointer-events: none;
    }
    body.bg-view-mode #btnToggleBg {
        opacity: 1;
        pointer-events: auto;
    }
    .sound-permission-bar {
      position: fixed; left: 50%; transform: translateX(-50%);
      bottom: 48px; z-index: 9999;
      border-radius: 12px; padding: 10px 14px;
      display: none; align-items: center; gap: 10px;
      box-shadow: var(--shadow);
    }
    .sound-permission-bar.show { display: flex; }
    .sound-permission-bar .msg { font-size: 14px; color: var(--text); }
    .draggable-timer { text-shadow: 0px 0px 8px rgba(0, 0, 0, 0.9); }

    /* Gi·∫£m/lo·∫°i b·ªè b√≥ng ch·ªØ cho theme s√°ng ƒë·ªÉ tr√°nh nh√≤e/l√≥a */
    body[data-theme='light'],
    body[data-theme='pastel'] { text-shadow: none; }
    body[data-theme='light'] .draggable-timer,
    body[data-theme='pastel'] .draggable-timer { text-shadow: none; }

    /* ============================================= */
/* ========================================================= */
/* START: THI?T L?P PANEL KI?U M?  ?C (FROSTED GLASS)        */
/* ========================================================= */

/* --- 1.  p d?ng hi?u ?ng n?n m? chung cho t?t c? c c panel --- */
.app-nav,
.panel-bg,
.modal-card,
.actions-menu,
.nav-btn .tooltip,
.draggable-timer, 
.sound-permission-bar,
.toast,
.topic-item,
.stat-card,
.hist-item,
.method-item {
    background: rgba(var(--panel-rgb), var(--panel-opacity));
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
}

/* --- 2.  ?nh nghia vi?n cho t?ng lo?i panel --- */
.app-nav {
    border-right: 1px solid rgba(255, 255, 255, 0.1);
}
.panel-bg,
.modal-card,
.actions-menu,
.nav-btn .tooltip,
.draggable-timer, 
.sound-permission-bar,
.toast,
.topic-item,
.stat-card,
.hist-item,
.method-item {
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* --- 3. Tinh ch?nh vi?n cho c c theme S NG (Light/Pastel) --- */
[data-theme='light'] .app-nav,
[data-theme='light'] .panel-bg,
[data-theme='light'] .modal-card,
[data-theme='light'] .actions-menu,
[data-theme='light'] .nav-btn .tooltip,
[data-theme='light'] .draggable-timer,
[data-theme='light'] .sound-permission-bar,
[data-theme='light'] .toast,
[data-theme='light'] .topic-item,
[data-theme='light'] .stat-card,
[data-theme='light'] .hist-item,
[data-theme='light'] .method-item,
[data-theme='pastel'] .app-nav,
[data-theme='pastel'] .panel-bg,
[data-theme='pastel'] .modal-card,
[data-theme='pastel'] .actions-menu,
[data-theme='pastel'] .nav-btn .tooltip,
[data-theme='pastel'] .draggable-timer,
[data-theme='pastel'] .sound-permission-bar,
[data-theme='pastel'] .toast,
[data-theme='pastel'] .topic-item,
[data-theme='pastel'] .stat-card,
[data-theme='pastel'] .hist-item,
[data-theme='pastel'] .method-item {
    border-color: rgba(0, 0, 0, 0.1);
}

/* --- 4. S?a l?i hi?u ?ng fade-out c?a ghi ch  cho ph  h?p --- */
.note-content:not(.expanded)::after {
    background: linear-gradient(to top, rgba(var(--panel-rgb), 1) 20%, transparent);
}

/* --- C c quy t?c c n l?i gi? nguy n t? file g?c --- */
[data-theme='light'] .tab-nav,
[data-theme='pastel'] .tab-nav {
    border-bottom-color: rgba(0, 0, 0, 0.1);
}
.subtopic-btn {
    background-color: transparent;
}
.subtopic-btn:hover {
    background-color: transparent; /* Hover transparent to avoid blue background */
}
.method-item[open] summary {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}
    [data-theme='light'] .method-item[open] summary,
    [data-theme='pastel'] .method-item[open] summary {
        border-bottom-color: rgba(0, 0, 0, 0.1);
    }

    /* Editor container (single pane, Rich Text) */
    .editor-container { height: 350px; }
    .editable-content { height: 100%; border: 1px solid var(--muted); border-radius: 10px; padding: 10px; overflow-y: auto; background: var(--bg); }
    .editable-content:focus-within { border-color: var(--acc); outline: none; }
    .editable-content h4 { color: var(--acc-2); font-size: 1.1em; margin-top: 1.5em; margin-bottom: 0.5em; }
    .editable-content strong, .editable-content b { color: var(--acc); font-weight: 600; }
    .editable-content ol, .editable-content ul { padding-left: 20px; }

    /* Editor toolbar for Methods modal */
    .editor-toolbar { display: flex; gap: 6px; margin-bottom: 6px; padding: 4px; background: var(--muted); border-radius: 8px; }
    .editor-toolbar button { font-weight: bold; width: 32px; height: 32px; padding: 0; }
    .editor-toolbar .btn.ghost:hover { background-color: rgba(var(--acc-rgb, 108, 140, 255), 0.15); }
    .editor-toolbar .btn.ghost.active { background-color: rgba(var(--acc-rgb, 108, 140, 255), 0.25); }
    .color-picker-wrapper { position: relative; }
    .color-palette { position: absolute; bottom: 110%; left: 50%; transform: translateX(-50%); display: flex; gap: 6px; padding: 6px; border-radius: 8px; border: 1px solid var(--muted); background: var(--panel); box-shadow: var(--shadow); z-index: 10; }
    .color-swatch { width: 24px; height: 24px; border-radius: 50%; border: 2px solid rgba(255, 255, 255, 0.5); cursor: pointer; transition: transform 0.15s ease; }
    .color-swatch:hover { transform: scale(1.15); }

    /* Method actions inline with summary and show on hover */
    .method-item summary { display: flex; align-items: center; justify-content: space-between; }
    .method-item summary > span { flex: 1; }
    .method-item summary .topic-actions { margin-left: 8px; }
    .method-title { cursor: pointer; }
    .method-item:hover .topic-actions, .method-item:focus-within .topic-actions { opacity: 1; visibility: visible; }

    </style>
</head>
<body data-theme="default"> <div class="app" id="app">
    <nav class="app-nav">
        <button class="nav-btn active" id="navBtnTimer" data-view="timer" aria-label="ƒê·ªìng h·ªì">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
            <span class="tooltip">ƒê·ªìng h·ªì</span>
        </button>
        <button class="nav-btn" id="navBtnTopics" data-view="topics" aria-label="Ch·ªß ƒë·ªÅ">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"></path></svg>
            <span class="tooltip">Ch·ªß ƒë·ªÅ</span>
        </button>
        <button class="nav-btn" id="navBtnStats" data-view="stats" aria-label="Th·ªëng k√™">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3v18h18"></path><path d="m19 9-5 5-4-4-3 3"></path></svg>
            <span class="tooltip">Th·ªëng k√™</span>
        </button>
        <button class="nav-btn" id="navBtnMethods" data-view="methods" aria-label="Kho Tri Th·ª©c">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15.042 21.672L13.684 16.6s.408-1.947 1.25-3.25c.842-1.303 2.002-2.5 3.5-3.5s3.25-1.25 3.25-1.25l5.072 1.358c.27.072.358.42.128.628l-3.35 3.35a.499.499 0 0 1-.594.052l-2.07-1.486c-.44-.314-.82-.53-1.11-.665-.29-.135-.55-.22-.78-.245s-.45.045-.63.155c-.18.11-.3.29-.36.5-.06.21.02.48.18.78.16.3.385.68.665 1.11l1.486 2.07a.499.499 0 0 1-.052.594l-3.35 3.35c-.208.23-.556.142-.628-.128z"/><path d="M12 15l-3-3 3-3 3 3-3 3z"/><path d="M9.01 11.99l-3.005 3.004a.997.997 0 0 1-1.41-1.41l3.004-3.005-3.004-3.005a.997.997 0 0 1 1.41-1.41l3.005 3.004z"/><path d="M5.01 11.99l-3.005 3.004a.997.997 0 0 1-1.41-1.41l3.004-3.005-3.004-3.005a.997.997 0 0 1 1.41-1.41l3.005 3.004z"/></svg>
            <span class="tooltip">Kho Tri Th·ª©c</span>
        </button>
        <button class="nav-btn" id="btnSettings" style="margin-top: auto;" aria-label="C√†i ƒë·∫∑t">
             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path><circle cx="12" cy="12" r="3"></circle></svg>
            <span class="tooltip">C√†i ƒë·∫∑t</span>
        </button>
        <button class="nav-btn" id="navBtnGuide" data-view="guide" aria-label="H∆∞·ªõng d·∫´n">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 1 1 5.82 1c0 2-3 2-3 4"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
            <span class="tooltip">H∆∞·ªõng d·∫´n</span>
        </button>
    </nav>

    <main class="app-content">
      <header class="app-header panel-bg">
        <div class="row" style="gap:12px; align-items:center; flex:0 1 auto">
          <strong>üìö Pomodoro Study App</strong>
          <span class="badge" id="selectedContext">Ch∆∞a ch·ªçn Ch·ªß ƒë·ªÅ con</span>
        </div>
        <div class="actions">
          <button class="btn ghost small" id="btnDashboard" title="Dashboard T·ªïng quan">üìä T·ªïng Quan </button>
          <a href="https://forms.gle/EfFqBJFTbFtDo5H4A" target="_blank" rel="noopener noreferrer" class="btn ghost small" title="G·ª≠i ph·∫£n h·ªìi c·ªßa b·∫°n">üí¨ Ph·∫£n H·ªìi</a>
          <button class="btn ghost small" id="btnExport" title="Xu·∫•t JSON">‚¨áÔ∏è Xu·∫•t File</button>
          <label class="btn ghost small" for="importFile" title="Nh·∫≠p JSON">‚¨ÜÔ∏è Nh·∫≠p File</label>
          <input type="file" id="importFile" accept="application/json" style="display:none" />
          <button class="btn small" id="btnToggleBg" title="·∫®n/Hi·ªán giao di·ªán">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>
          </button>
          <button class="btn small" id="btnFullscreen" title="To√†n m√†n h√¨nh">‚ÜóÔ∏è</button>
        </div>
      </header>
      

      <div id="view-timer" class="view active">
        <section class="panel panel-bg">
          <div class="timer-header">
            <div id="welcomePanel" class="hidden panel-bg" style="text-align:center; padding: 20px; border-radius: var(--radius); width: 100%;">
                <h3>Ch√†o m·ª´ng ƒë·∫øn v·ªõi Pomodoro Study App!</h3>
                <p>H√£y b·∫Øt ƒë·∫ßu b·∫±ng c√°ch ch·ªçn m·ªôt <strong>Ch·ªß ƒë·ªÅ con</strong> ho·∫∑c t·∫°o Ch·ªß ƒë·ªÅ/Ch·ªß ƒë·ªÅ con m·ªõi.</p>
                <button class="btn acc" id="btnHelpCreateTopic">Ôºã T·∫°o Ch·ªß ƒë·ªÅ M·ªõi</button>
            </div>
            <div class="presets" role="group" aria-label="Ch·ªçn ch·∫ø ƒë·ªô preset">
                <button id="btnPresetA" class="btn small ghost" data-preset="A"></button>
                <button id="btnPresetB" class="btn small ghost" data-preset="B"></button>
                <button id="btnPresetC" class="btn small ghost" data-preset="C">üåä Flow</button>
            </div>
          </div>
          <hr />
          <div class="timer" aria-live="polite">
            <div class="badge" id="stateBadge">TR·∫†NG TH√ÅI</div>
            
            <div class="timer-circle-container">
              <svg class="timer-svg" viewBox="0 0 100 100">
                  <circle class="timer-circle-bg" cx="50" cy="50" r="45"></circle>
                  <circle class="timer-circle-progress" cx="50" cy="50" r="45"></circle>
              </svg>
              <div id="timeDisplay" class="big-time">00:00</div>
            </div>

            <div class="tiny" id="cycleInfo"></div>

            <div class="tiny" id="breakSuggestionDisplay" style="min-height: 1.5em; font-style: italic; opacity: 0.8; transition: opacity 0.3s ease;"></div>

            <div id="windDownChecklist" class="hidden" style="text-align: left; max-width: 300px; margin: 0 auto; padding: 0 10px;">
              <h4 style="margin: 8px 0 4px; color: var(--acc); text-align: center;">Checklist H·∫° nhi·ªát</h4>
              <ul style="list-style: '‚úì '; margin: 0; padding-left: 20px; color: var(--sub);">
                <li>L∆∞u c√¥ng vi·ªác ƒëang l√†m (Save/Commit).</li>
                <li>Ghi ch√∫ nhanh "Next step".</li>
                <li>D·ªçn d·∫πp kh√¥ng gian l√†m vi·ªác.</li>
              </ul>
            </div>
            
            <div class="controls">
              <button class="btn acc" id="btnStart" aria-label="B·∫Øt ƒë·∫ßu (Space)">‚ñ∂Ô∏è B·∫Øt ƒë·∫ßu</button>
              <button class="btn warn hidden" id="btnFinishFlow" aria-label="K·∫øt th√∫c phi√™n l√†m vi·ªác">üßò B·∫Øt ƒë·∫ßu ngh·ªâ</button>
              <button class="btn" id="btnPause" aria-label="T·∫°m d·ª´ng (Space)">‚è∏Ô∏è T·∫°m d·ª´ng</button>
              <button class="btn" id="btnResume" aria-label="Ti·∫øp t·ª•c (Space)">‚èµ Ti·∫øp t·ª•c</button>
              <button class="btn warn" id="btnSkip" aria-label="B·ªè qua (N)">‚è≠Ô∏è B·ªè qua</button>
              <button class="btn danger" id="btnReset">‚Ü∫ ƒê·∫∑t l·∫°i</button>
              <button class="btn acc small hidden" id="btnBreakEarly">üßò Ngh·ªâ s·ªõm</button>
            </div>
            <div class="tiny">Ph√≠m t·∫Øt: <strong>Space</strong> = B·∫Øt ƒë·∫ßu/T·∫°m d·ª´ng/Ti·∫øp t·ª•c, <strong>N</strong> = Ti·∫øp theo/B·ªè qua</div>
          </div>
        </section>

        <section class="panel panel-bg aux-panel">
            <nav class="tab-nav">
                <button class="tab-btn active" data-tab="tasks">Nhi·ªám v·ª•</button>
                <button class="tab-btn" data-tab="notes">Ghi ch√∫</button>
                <button class="tab-btn" data-tab="ai">Gemini AI</button>
            </nav>
            <div id="tasks" class="tab-content active">
                <h4 style="margin: 0 0 8px; color: var(--sub);">To-do cho ch·ªß ƒë·ªÅ con n√†y:</h4>
                <ul id="subtopicTasksList" class="subtopic-todo-list"></ul>
                <div class="row" style="gap:8px; margin-top: 8px;">
                    <input type="text" id="newSubtopicTaskInput" placeholder="Th√™m m·ªôt task m·ªõi..." />
                    <button id="btnAddSubtopicTask" class="btn small" style="flex: 0 1 auto;">Th√™m</button>
                </div>
            </div>
            <div id="notes" class="tab-content">
                <div id="generalNotesList" class="notes-list"></div>
                <div class="add-note-area" style="margin-top: 12px;">
                    <textarea id="newGeneralNoteText" placeholder="Th√™m ghi ch√∫ m·ªõi..."></textarea>
                    <div style="text-align: right; margin-top: 8px;">
                        <button class="btn acc small" id="btnAddGeneralNote">Ôºã Th√™m ghi ch√∫</button>
                    </div>
                </div>
            </div>
            <div id="ai" class="tab-content">
                <div class="panel-header" style="margin-bottom: 8px; padding: 0;">
                    <h4 style="margin:0;">Gemini cho: <span id="currentSubtopicNameChat">(ch∆∞a ch·ªçn)</span></h4>
                    <div class="actions">
                        <button id="btnClearChat" class="btn small danger" title="X√≥a l·ªãch s·ª≠">üóëÔ∏è</button>
                    </div>
                </div>
                <div id="chatMessages" class="chat-messages"></div>
                <div id="aiPromptSuggestions" style="display: flex; gap: 6px; margin: 8px 0; flex-wrap: wrap;">
                  <button class="btn small ghost" data-prompt="Gi·∫£i th√≠ch kh√°i ni·ªám ch√≠nh c·ªßa ch·ªß ƒë·ªÅ n√†y">Gi·∫£i th√≠ch kh√°i ni·ªám</button>
                  <button class="btn small ghost" data-prompt="T·∫°o m·ªôt d√†n √Ω chi ti·∫øt cho ch·ªß ƒë·ªÅ n√†y">T·∫°o d√†n √Ω</button>
                  <button class="btn small ghost" data-prompt="Li·ªát k√™ 5 c√¢u h·ªèi √¥n t·∫≠p quan tr·ªçng v·ªÅ ch·ªß ƒë·ªÅ n√†y">T·∫°o c√¢u h·ªèi √¥n t·∫≠p</button>
                </div>
                <div class="chat-input-area">
                  <input type="text" id="chatInput" placeholder="H·ªèi Gemini ƒëi·ªÅu g√¨ ƒë√≥..." />
                  <button id="btnSendMessage" class="btn acc">G·ª≠i</button>
                </div>
            </div>
        </section>
      </div>

      <div id="view-topics" class="view">
        <div class="panel panel-bg">
            <div class="row" style="gap:8px; align-items: center; margin-bottom: 12px;">
                <h3 style="margin: 0;">Qu·∫£n l√Ω Ch·ªß ƒë·ªÅ</h3>
                <button class="btn small acc" id="btnAddTopic" style="margin-left: auto;">Ôºã Th√™m Ch·ªß ƒë·ªÅ</button>
            </div>
            <div id="topicsList"></div>
            <div class="footer-note">Nh·∫•p m≈©i t√™n ƒë·ªÉ m·ªü/ƒë√≥ng danh s√°ch ch·ªß ƒë·ªÅ con.</div>
        </div>
      </div>
      
      <div id="view-stats" class="view">
        <section class="panel panel-bg">
            <h3 style="margin:0 0 12px 0;">Th·ªëng k√™ & L·ªãch s·ª≠ ‚Äî <span id="currentSubtopicName">(ch∆∞a ch·ªçn)</span></h3>
            <div class="stats-grid">
              <div class="stat-card"><h4>T·ªïng th·ªùi gian</h4><div class="stat-value" id="statTotal">0 ph√∫t</div></div>
              <div class="stat-card"><h4>Phi√™n</h4><div class="stat-value" id="statSessions">0</div></div>
              <div class="stat-card"><h4>Nhi·ªám v·ª• Ho√†n th√†nh</h4><div class="stat-value" id="statTasks">0</div></div>
            </div>
            <div style="margin-top:12px">
              <h4 style="margin:4px 0 8px; color:var(--sub)">L·ªãch s·ª≠ (L√ÄM VI·ªÜC)</h4>
              <div class="history" id="historyList"></div>
            </div>
        </section>
      </div>
      
      <div id="view-methods" class="view">
        <div class="panel panel-bg">
            <div class="row" style="gap:8px; align-items: center; margin-bottom: 12px;">
                <h3 style="margin:0;">üí° Kho Tri Th·ª©c C√° Nh√¢n H√≥a</h3>
                <button class="btn small acc" id="btnAddMethod" style="margin-left: auto;">Ôºã Th√™m tri th·ª©c</button>
            </div>
            <p class="tiny" style="margin-top: -8px; margin-bottom: 20px;">Nh·∫•p v√†o t·ª´ng m·ª•c ƒë·ªÉ xem chi ti·∫øt.</p>
            <div class="methods-container"></div>
        </div>
      </div>

      <div id="view-guide" class="view">
          <div class="panel panel-bg">
              <h3 style="margin-top: 0;">üìñ Kh√°m Ph√° Pomodoro Study App</h3>
              <p>
                  Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi kh√¥ng gian h·ªçc t·∫≠p ƒë∆∞·ª£c thi·∫øt k·∫ø d√†nh ri√™ng cho s·ª± t·∫≠p trung v√† hi·ªáu qu·∫£. H√£y c√πng kh√°m ph√° nh·ªØng t√≠nh nƒÉng s·∫Ω ƒë·ªìng h√†nh c√πng b·∫°n tr√™n h√†nh tr√¨nh chinh ph·ª•c tri th·ª©c.
              </p>

              <h4>üöÄ Kh·ªüi ƒê·∫ßu Nhanh Ch·ªâ Trong 4 B∆∞·ªõc</h4>
              <p>ƒê·ªÉ h√†nh tr√¨nh c·ªßa b·∫°n lu√¥n m·∫°ch l·∫°c, m·ªçi th·ª© trong ·ª©ng d·ª•ng ƒë∆∞·ª£c s·∫Øp x·∫øp theo c·∫•u tr√∫c <strong>Ch·ªß ƒë·ªÅ L·ªõn ‚Üí Ch·ªß ƒë·ªÅ con</strong>.</p>
              <ol>
                  <li>M·ªü m·ª•c <strong>üìö Ch·ªß ƒë·ªÅ</strong> t·ª´ thanh ƒëi·ªÅu h∆∞·ªõng b√™n c·∫°nh.</li>
                  <li>Nh·∫•n <strong>Ôºã Th√™m Ch·ªß ƒë·ªÅ</strong> ƒë·ªÉ t·∫°o m·ªôt lƒ©nh v·ª±c l·ªõn (v√≠ d·ª•: "Ti·∫øng Anh Giao Ti·∫øp").</li>
                  <li>B√™n c·∫°nh ch·ªß ƒë·ªÅ v·ª´a t·∫°o, nh·∫•n <strong>Ôºã Th√™m</strong> ƒë·ªÉ t·∫°o m·ªôt ch·ªß ƒë·ªÅ con, chi ti·∫øt h∆°n (v√≠ d·ª•: "B√†i 1: Luy·ªán ph√°t √¢m IPA").</li>
                  <li>Ch·ªçn ch·ªß ƒë·ªÅ con ƒë√≥. Gi·ªù ƒë√¢y, b·∫°n ƒë√£ s·∫µn s√†ng ƒë·ªÉ b·∫Øt ƒë·∫ßu phi√™n h·ªçc ƒë·∫ßu ti√™n c·ªßa m√¨nh!</li>
              </ol>

              <hr />
              <h4>‚ú® Nh·ªØng T√≠nh NƒÉng ƒê√°ng Ch√∫ √ù</h4>

              <h4>C√°c Ch·∫ø ƒê·ªô ƒê·ªìng H·ªì Linh Ho·∫°t ‚è±Ô∏è</h4>
              <p>·ª®ng d·ª•ng kh√¥ng ch·ªâ c√≥ Pomodoro. H√£y ch·ªçn ph∆∞∆°ng ph√°p ph√π h·ª£p v·ªõi c√¥ng vi·ªác c·ªßa b·∫°n:</p>
              <ul>
                  <li><strong>Pomodoro C·ªï ƒêi·ªÉn (Ki·ªÉu A/B):</strong> L√†m vi·ªác t·∫≠p trung trong c√°c phi√™n ƒë·ªãnh s·∫µn (v√≠ d·ª•: 25 ph√∫t l√†m, 5 ph√∫t ngh·ªâ) ƒë·ªÉ x√¢y d·ª±ng k·ª∑ lu·∫≠t v√† nh·ªãp ƒë·ªô.</li>
                  <li><strong>Ch·∫ø ƒë·ªô Flowtime (Ki·ªÉu üåä Flow):</strong> D√†nh cho c√¥ng vi·ªác c·∫ßn d√≤ng ch·∫£y s√¢u. ƒê·ªìng h·ªì s·∫Ω ƒë·∫øm l√™n, cho ph√©p b·∫°n l√†m vi·ªác ƒë·∫øn khi t·ª± c·∫£m th·∫•y c·∫ßn ngh·ªâ. Th·ªùi gian ngh·ªâ s·∫Ω ƒë∆∞·ª£c ƒë·ªÅ xu·∫•t d·ª±a tr√™n th·ªùi gian b·∫°n ƒë√£ l√†m vi·ªác.</li>
                  <li><strong>ƒê·ªám "H·∫° nhi·ªát" (Wind-down):</strong> M·ªôt kho·∫£ng ƒë·ªám t√πy ch·ªânh gi·ªØa l√∫c l√†m v√† l√∫c ngh·ªâ, gi√∫p b·∫°n k·∫øt th√∫c c√¥ng vi·ªác ƒëang d·ªü, ghi ch√∫ l·∫°i "b∆∞·ªõc ti·∫øp theo" v√† chuy·ªÉn tr·∫°ng th√°i m·ªôt c√°ch m∆∞·ª£t m√†, kh√¥ng b·ªã c·∫Øt ngang ƒë·ªôt ng·ªôt.</li>
              </ul> 
              <h4>Kho Tri Th·ª©c Theo T·ª´ng Ch·ªß ƒê·ªÅ Con üí°</h4>
<p>
    M·ªói m·ªôt <strong>Ch·ªß ƒë·ªÅ con</strong> gi·ªù ƒë√¢y s·∫Ω c√≥ m·ªôt "Kho Tri Th·ª©c" ho√†n to√†n ri√™ng bi·ªát. T√≠nh nƒÉng n√†y cho ph√©p b·∫°n x√¢y d·ª±ng m·ªôt th∆∞ vi·ªán ki·∫øn th·ª©c chuy√™n s√¢u, ch·ªâ li√™n quan ƒë·∫øn lƒ©nh v·ª±c b·∫°n ƒëang h·ªçc.
</p>
<p>
    V√≠ d·ª•, c√°c ghi ch√∫ v√† ph∆∞∆°ng ph√°p h·ªçc "Ti·∫øng Anh Giao Ti·∫øp" s·∫Ω ch·ªâ xu·∫•t hi·ªán khi b·∫°n ch·ªçn ch·ªß ƒë·ªÅ con ƒë√≥, v√† s·∫Ω kh√¥ng b·ªã l·∫´n v·ªõi c√°c c√¥ng th·ª©c trong ch·ªß ƒë·ªÅ con "Gi·∫£i t√≠ch To√°n h·ªçc".
</p>
<p>
    V·ªõi tr√¨nh so·∫°n th·∫£o m·∫°nh m·∫Ω, b·∫°n v·∫´n c√≥ th·ªÉ d·ªÖ d√†ng ƒë·ªãnh d·∫°ng ti√™u ƒë·ªÅ, in ƒë·∫≠m, t·∫°o danh s√°ch v√† l√†m n·ªïi b·∫≠t nh·ªØng th√¥ng tin quan tr·ªçng nh·∫•t cho t·ª´ng m√¥n h·ªçc c·ªßa m√¨nh.
</p>

              <h4>Qu·∫£n L√Ω Ch·ªß ƒê·ªÅ Tr·ª±c Quan</h4>
              <p>D·ªÖ d√†ng s·∫Øp x·∫øp c√°c m·ª•c ti√™u h·ªçc t·∫≠p c·ªßa b·∫°n. S·ª≠ d·ª•ng thao t√°c <strong>k√©o v√† th·∫£</strong> ƒë·ªÉ s·∫Øp x·∫øp l·∫°i th·ª© t·ª± c√°c Ch·ªß ƒë·ªÅ ho·∫∑c di chuy·ªÉn m·ªôt Ch·ªß ƒë·ªÅ con sang m·ªôt lƒ©nh v·ª±c kh√°c m·ªôt c√°ch tr·ª±c quan.</p>

              <h4>Nhi·ªám V·ª• & Ghi Ch√∫ T√≠ch H·ª£p üìù</h4>
              <p>Ngay trong m√†n h√¨nh ƒë·ªìng h·ªì, b·∫°n c√≥ th·ªÉ t·∫°o danh s√°ch vi·ªác c·∫ßn l√†m (to-do) cho t·ª´ng ch·ªß ƒë·ªÅ con ho·∫∑c ghi l·∫°i nh·ªØng √Ω t∆∞·ªüng ch·ª£t n·∫£y ra m√† kh√¥ng l√†m gi√°n ƒëo·∫°n d√≤ng ch·∫£y c√¥ng vi·ªác.</p>

              <h4>Ch·∫ø ƒê·ªô Zen üßò</h4>
              <p>Khi c·∫ßn t·∫≠p trung tuy·ªát ƒë·ªëi, h√£y nh·∫•n v√†o bi·ªÉu t∆∞·ª£ng con m·∫Øt (üëÅÔ∏è). Giao di·ªán s·∫Ω ·∫©n ƒëi, ch·ªâ ƒë·ªÉ l·∫°i h√¨nh n·ªÅn v√† chi·∫øc ƒë·ªìng h·ªì. Trong ch·∫ø ƒë·ªô n√†y, b·∫°n c√≥ th·ªÉ <strong>k√©o th·∫£ ƒë·ªìng h·ªì</strong> ƒë·∫øn b·∫•t k·ª≥ v·ªã tr√≠ n√†o tr√™n m√†n h√¨nh ƒë·ªÉ c√≥ m·ªôt kh√¥ng gian l√†m vi·ªác g·ªçn g√†ng nh·∫•t.</p>

              <h4>Th·ªëng K√™ & C·ªôt M·ªëc üèÜ</h4>
              <p>Theo d√µi h√†nh tr√¨nh c·ªßa b·∫°n qua nh·ªØng con s·ªë bi·∫øt n√≥i. ·ª®ng d·ª•ng s·∫Ω t·ª± ƒë·ªông ghi nh·∫≠n v√† ch√∫c m·ª´ng khi b·∫°n ƒë·∫°t ƒë∆∞·ª£c nh·ªØng c·ªôt m·ªëc quan tr·ªçng v·ªÅ th·ªùi gian t·∫≠p trung, bi·∫øn m·ªói n·ªó l·ª±c th√†nh m·ªôt th√†nh t·ª±u ƒë√°ng t·ª± h√†o.</p>

              <hr />
              <h4>‚å®Ô∏è Ph√≠m T·∫Øt Th√¥ng Minh</h4>
              <ul>
                  <li><kbd>Space</kbd>: B·∫Øt ƒë·∫ßu / T·∫°m d·ª´ng / Ti·∫øp t·ª•c phi√™n h·ªçc.</li>
                  <li><kbd>N</kbd>: B·ªè qua phi√™n l√†m vi·ªác ho·∫∑c ngh·ªâ hi·ªán t·∫°i.</li>
                  <li><kbd>Esc</kbd>: ƒê√≥ng c√°c c·ª≠a s·ªï ƒëang m·ªü (nh∆∞ C√†i ƒë·∫∑t).</li>
              </ul>

              <hr />
              <h4>üõ†Ô∏è C√†i ƒê·∫∑t N√¢ng Cao & T√≠ch H·ª£p</h4>

              <h4>Tr·ª£ L√Ω Gemini AI üß†</h4>
              <p>Bi·∫øn ·ª©ng d·ª•ng th√†nh m·ªôt ng∆∞·ªùi b·∫°n ƒë·ªìng h√†nh th√¥ng minh. Ngo√†i vi·ªác h·ªèi ƒë√°p, b·∫°n c√≤n c√≥ th·ªÉ:</p>
              <ul>
                  <li><strong>T·ª± ƒë·ªông ƒê·ªãnh d·∫°ng Th√¥ng minh:</strong> Khi so·∫°n th·∫£o trong m·ª•c "Ph∆∞∆°ng ph√°p", h√£y ƒë·ªÉ AI t·ª± ƒë·ªông ph√¢n t√≠ch v√† ƒë·ªãnh d·∫°ng vƒÉn b·∫£n th√¥ c·ªßa b·∫°n‚Äît·ª± nh·∫≠n di·ªán ti√™u ƒë·ªÅ, c√°c √Ω ch√≠nh c·∫ßn in ƒë·∫≠m v√† danh s√°ch.</li>
                  <li><strong>Thi·∫øt l·∫≠p:</strong> Truy c·∫≠p Google AI Studio ƒë·ªÉ t·∫°o API Key mi·ªÖn ph√≠ v√† d√°n v√†o √¥ "Gemini API Key" trong C√†i ƒë·∫∑t c·ªßa ·ª©ng d·ª•ng.</li>
              </ul>

              <h4>T√πy Bi·∫øn Giao Di·ªán & √Çm Thanh üé®</h4>
              <p>Bi·∫øn kh√¥ng gian h·ªçc t·∫≠p th√†nh c·ªßa ri√™ng b·∫°n:</p>
              <ul>
                  <li><strong>Nhi·ªÅu Theme & H√¨nh n·ªÅn:</strong> L·ª±a ch·ªçn gi·ªØa c√°c theme c√≥ s·∫µn (S√°ng, T·ªëi, Pastel...) ho·∫∑c <strong>t·∫£i l√™n h√¨nh n·ªÅn c·ªßa ri√™ng b·∫°n</strong> ƒë·ªÉ t·∫°o c·∫£m h·ª©ng.</li>
                  <li><strong>√Çm b√°o T√πy ch·ªânh:</strong> B·∫°n c√≥ th·ªÉ <strong>t·∫£i l√™n c√°c file √¢m thanh (.mp3, .wav...) c·ªßa ri√™ng m√¨nh</strong> ƒë·ªÉ s·ª≠ d·ª•ng l√†m chu√¥ng b√°o cho c√°c phi√™n l√†m vi·ªác v√† ngh·ªâ ng∆°i.</li>
              </ul>

              <h4>Nh·∫°c N·ªÅn YouTube üé∂</h4>
              <p>T·∫°o kh√¥ng gian h·ªçc t·∫≠p ho√†n h·∫£o b·∫±ng c√°ch ph√°t m·ªôt video ho·∫∑c danh s√°ch ph√°t YouTube l√†m nh·∫°c n·ªÅn. D√°n ƒë∆∞·ªùng d·∫´n (URL) v√†o √¥ "Nh·∫°c n·ªÅn YouTube" trong C√†i ƒë·∫∑t.</p>

              <h4>An To√†n D·ªØ Li·ªáu: Sao L∆∞u & Ph·ª•c H·ªìi üõ°Ô∏è</h4>
              <p>·ª®ng d·ª•ng t·ª± ƒë·ªông sao l∆∞u ti·∫øn tr√¨nh c·ªßa b·∫°n m·ªói ng√†y. B·∫°n c√≥ th·ªÉ t√πy ch·ªânh s·ªë ng√†y l∆∞u gi·ªØ b·∫£n sao l∆∞u v√† ph·ª•c h·ªìi d·ªØ li·ªáu t·ª´ m·ªôt ng√†y trong qu√° kh·ª© n·∫øu c·∫ßn. ‚ö†Ô∏è <strong>C·∫£nh b√°o:</strong> Ph·ª•c h·ªìi s·∫Ω ghi ƒë√® to√†n b·ªô d·ªØ li·ªáu hi·ªán t·∫°i.</p>
          </div>
      </div>
    </main>
  </div>

  <div class="modal" id="modalMilestone" role="dialog" aria-modal="true" aria-labelledby="milestoneTitle">
    <div class="modal-card" style="width: min(600px, 94vw);">
        <h3 id="milestoneTitle">üéâ Ch√∫c m·ª´ng B·∫°n!</h3>
        <p id="milestoneMessage" style="white-space: pre-wrap; line-height: 1.6;"></p>
        <div class="row" style="justify-content:flex-end; margin-top:12px">
            <button class="btn acc" id="btnMilestoneClose">Ti·∫øp t·ª•c h√†nh tr√¨nh!</button>
        </div>
    </div>
  </div>
  <div class="modal" id="modalSettings" role="dialog" aria-modal="true" aria-labelledby="settingsTitle">
      <div class="modal-card">
          <h3 id="settingsTitle">‚öôÔ∏è C√†i ƒë·∫∑t</h3>
          <nav class="tab-nav">
              <button class="tab-btn active" data-tab="settings-timer">ƒê·ªìng h·ªì</button>
              <button class="tab-btn" data-tab="settings-ui">Giao di·ªán & √Çm thanh</button>
              <button class="tab-btn" data-tab="settings-integrations">T√≠ch h·ª£p</button>
          </nav>
          <div class="settings-content">
              <div id="settings-timer" class="tab-content active" style="flex-direction:column; gap:20px;">
                  <div class="row" id="timerPresetSelector" style="margin-bottom:16px;">
                      <button class="btn acc" data-preset-target="A"> Ki·ªÉu A </button>
                      <button class="btn ghost" data-preset-target="B"> Ki·ªÉu B </button>
                      <button class="btn ghost" data-preset-target="C"> Ki·ªÉu C (Flow) </button>
                  </div>
                  <div id="settings-pomodoro">
                      <h4>Th·ªùi l∆∞·ª£ng Pomodoro</h4>
                      <div class="row">
                          <label>L√ÄM VI·ªÜC (ph√∫t)<input type="number" id="set_work" min="1" /></label>
                          <label>H·∫† NHI·ªÜT (ph√∫t)<input type="number" id="set_winddown" min="0" /></label>
                          <label>NGH·ªà NG·∫ÆN (ph√∫t)<input type="number" id="set_short" min="1" /></label>
                          <label>NGH·ªà D√ÄI (ph√∫t)<input type="number" id="set_long" min="1" /></label>
                      </div>
                      <div class="row">
                          <label>Chu k·ª≥ Pomodoro<input type="number" id="set_cycles" min="1" /></label>
                          <label>Chu k·ª≥ ngh·ªâ d√†i<input type="number" id="set_interval" min="2" /></label>
                      </div>
                  </div>
                  <div id="settings-flowtime" class="hidden">
                      <h4>Flowtime</h4>
                      <div class="row">
                          <label>T·ª∑ l·ªá ngh·ªâ (L√†m vi·ªác / X)
                              <input type="number" id="set_flowRatio" min="1" max="20" />
                          </label>
                      </div>
                      <p class="tiny" style="margin-top: 4px;">G·ª£i √Ω: Th·ªùi gian ngh·ªâ = t·ªïng th·ªùi gian l√†m vi·ªác / X. M·∫∑c ƒë·ªãnh l√† 5.</p>
                  </div>
                  <div class="settings-row-toggle">
                          <label for="set_autoStartNext">T·ª± ƒë·ªông b·∫Øt ƒë·∫ßu phi√™n ti·∫øp theo</label>
                          <label class="toggle-switch">
                              <input type="checkbox" id="set_autoStartNext">
                              <span class="slider"></span>
                          </label>
                      </div>
                  <div class="settings-row-toggle">
                          <label for="set_enableWinddown">B·∫≠t H·∫° nhi·ªát sau phi√™n l√†m</label>
                          <label class="toggle-switch">
                              <input type="checkbox" id="set_enableWinddown">
                              <span class="slider"></span>
                          </label>
                      </div>
                  <div class="settings-row-toggle">
                          <label for="set_enableSessionNotes">Nh·∫Øc ghi ch√∫ sau m·ªói phi√™n</label>
                          <label class="toggle-switch">
                              <input type="checkbox" id="set_enableSessionNotes">
                              <span class="slider"></span>
                          </label>
                      </div>
              </div>
              <div id="settings-ui" class="tab-content" style="flex-direction: column; gap: 20px;">
                  <div>
                      <h4>Giao di·ªán</h4>
                      <div class="row">
                          <label>Theme Giao Di·ªán
                                <select id="set_theme_color">
                                    <option value="default">M·∫∑c ƒë·ªãnh (Dark Blue)</option>
                                    <option value="light">Light - Tr√† S·ªØa</option>
                                    <option value="pastel">Pastel - D·ªÖ th∆∞∆°ng</option>
                                    <option value="lofi">Lofi Study Room</option>
                                    <option value="space">Space Station</option>
                                </select>
                          </label>
                      </div>
                      <div class="row" style="margin-top: 12px;">
                          <label>Ch·∫ø ƒë·ªô hi·ªÉn th·ªã n·ªÅn
                              <select id="set_backgroundMode">
                                  <option value="cover">L·∫•p ƒë·∫ßy (M·∫∑c ƒë·ªãnh)</option>
                                  <option value="contain">V·ª´a v·∫∑n (S·∫Øc n√©t)</option>
                                  <option value="auto">K√≠ch th∆∞·ªõc g·ªëc (L·∫∑p l·∫°i)</option>
                              </select>
                          </label>
                      </div>
                      <div class="row">
                          <label>H√¨nh n·ªÅn
                              <label class="btn small ghost" for="uploadBg">T·∫£i ·∫£nh m·ªõi</label>
                              <input type="file" id="uploadBg" accept="image/*" class="hidden" />
                          </label>
                          <button class="btn small danger" id="btnClearBg">X√≥a n·ªÅn</button>
                      </div>
                      <div class="row">
                          <label style="flex: 1;">ƒê·ªô trong su·ªët c·ªßa n·ªÅn</label>
                          <input type="range" id="set_panelOpacity" min="0.1" max="1" step="0.05" style="flex: 2;">
                      </div>
                      
                      
                   </div>
                  
                   <div>
                      <h4>√Çm thanh</h4>
                      <div class="row">
                          <label>√Çm l∆∞·ª£ng (0‚Äì1)<input type="number" id="set_volume" step="0.05" min="0" max="1"/></label>
                          <label>Ki·ªÉu √¢m b√°o
                              <select id="set_theme">
                                  <option value="beep">Beep</option>
                                  <option value="chime">Chime</option>
                              </select>
                          </label>
                           <button class="btn" id="btnTestSound" style="flex: 0 1 auto; align-self: center;">Test</button>
                      </div>
                      <div style="text-align: right; margin-top: 12px;">
                          <button class="btn ghost small" id="btnToggleCustomSounds">T√πy ch·ªânh √¢m b√°o</button>
                      </div>

                      <div id="customSoundsContainer" class="hidden" style="margin-top: 8px;">
                      <div class="row" style="display: flex; gap: 8px; justify-content: flex-end;">
                          <div>
                              <small>√Çm b√°o h·∫øt L√ÄM VI·ªÜC</small>
                              <label title="√Çm b√°o h·∫øt L√ÄM VI·ªÜC" class="btn small ghost" for="uploadSoundWork">L√ÄM VI·ªÜC</label>
                              <input type="file" id="uploadSoundWork" accept="audio/*" class="hidden" />
                          </div>
                          <div>
                              <small>√Çm b√°o h·∫øt NGH·ªà NG·∫ÆN</small>
                              <label title="√Çm b√°o h·∫øt NGH·ªà NG·∫ÆN" class="btn small ghost" for="uploadSoundBreak">NGH·ªà NG·∫ÆN</label>
                              <input type="file" id="uploadSoundBreak" accept="audio/*" class="hidden" />
                          </div>
                          <div>
                              <small>√Çm b√°o h·∫øt NGH·ªà D√ÄI</small>
                              <label title="√Çm b√°o h·∫øt NGH·ªà D√ÄI" class="btn small ghost" for="uploadSoundLong">NGH·ªà D√ÄI</label>
                              <input type="file" id="uploadSoundLong" accept="audio/*" class="hidden" />
                          </div>
                      </div>
                      </div>
                      
                  </div>
              </div>
              <div id="settings-integrations" class="tab-content" style="flex-direction: column; gap: 20px;">
                  <div>
                      <h4>T√≠ch h·ª£p AI</h4>
                      <label>Gemini API Key
                          <input type="password" id="set_apiKey" placeholder="D√°n API Key c·ªßa b·∫°n v√†o ƒë√¢y..." />
                      </label>
                      <div class="tiny">C·∫ßn c√≥ ƒë·ªÉ s·ª≠ d·ª•ng c√°c t√≠nh nƒÉng AI. L·∫•y key mi·ªÖn ph√≠ t·∫°i <a href="https://aistudio.google.com/app/apikey" target="_blank" rel="noopener noreferrer">Google AI Studio</a>.</div>
                  </div>
                  <div>
                      <h4>üéµ Nh·∫°c n·ªÅn YouTube</h4>
                      <div class="row" style="gap:8px; align-items:center;">
                          <input type="text" id="set_youtubeUrl" placeholder="D√°n link YouTube v√†o ƒë√¢y..." style="flex:1;">
                          </div>
                      <div id="ytUrlFeedback" class="tiny" style="min-height: 1.2em; padding: 4px 0;"></div>
                      <div class="row" style="margin-top: 4px;">
                          <label style="flex: 0 1 auto; display: flex; align-items: center; gap: 8px; font-size: 14px;">
                              <input type="checkbox" id="set_ytThumbAsBg">
                              <span>D√πng ·∫£nh b√¨a video l√†m n·ªÅn</span>
                          </label>
                      </div>
                      <div class="row" style="margin-top: 8px;">
                          <button id="btnToggleYtSound" class="btn small" style="flex:0 1 auto;" title="D·ª´ng s·∫Ω kh√¥ng t·ª± ph√°t l·∫°i cho ƒë·∫øn khi b·∫°n b·∫•m ‚ñ∂Ô∏è">‚ñ∂Ô∏è</button>
                          <input type="range" id="ytSoundVolume" min="0" max="100" step="1" value="80" style="flex:1;">
                      </div>
                      <div class="tiny" style="text-align:center; margin-top:4px;">√Çm l∆∞·ª£ng</div>
                  </div>
                  <div>
                      <h4>üõ°Ô∏è C√†i ƒë·∫∑t sao l∆∞u</h4>
                      <div class="row">
                          <label>S·ªë ng√†y sao l∆∞u c·∫ßn gi·ªØ l·∫°i
                               <input type="number" id="set_backupDays" min="1" max="30" />
                          </label>
                      </div>
                  </div>
                  <div>
                      <h4>üõ°Ô∏è Ph·ª•c h·ªìi d·ªØ li·ªáu</h4>
                      <p class="tiny">Ph·ª•c h·ªìi d·ªØ li·ªáu t·ª´ m·ªôt b·∫£n sao l∆∞u t·ª± ƒë·ªông h√†ng ng√†y. H√†nh ƒë·ªông n√†y s·∫Ω ghi ƒë√® l√™n d·ªØ li·ªáu hi·ªán t·∫°i c·ªßa b·∫°n.</p>
                      <div class="row">
                          <select id="backupList" style="flex: 3;"></select>
                          <button id="btnRestoreBackup" class="btn warn small" style="flex: 1;">Ph·ª•c h·ªìi</button>
                      </div>
                  </div>
              </div>
          </div>
          <div class="row" style="margin-top:16px; justify-content:flex-end">
              <button class="btn ghost" id="btnDefaults">M·∫∑c ƒë·ªãnh</button>
              <button class="btn acc" id="btnSaveSettings">L∆∞u</button>
              <button class="btn" id="btnCloseSettings">ƒê√≥ng</button>
          </div>
      </div>
  </div>

  <div class="modal" id="modalNote" role="dialog" aria-modal="true" aria-labelledby="noteTitle">
    <div class="modal-card">
      <h3 id="noteTitle">üìù Ghi ch√∫ cho phi√™n v·ª´a ho√†n th√†nh</h3>
      <div class="row"><textarea id="noteText" placeholder="B·∫°n h·ªçc ƒë∆∞·ª£c g√¨? Kh√≥ khƒÉn? Next steps?"></textarea></div>
      <div class="row" style="justify-content:flex-end; margin-top:8px; gap: 12px;">
        <button class="btn" id="btnSummarizeNote">‚ú® T√≥m t·∫Øt & G·ª£i √Ω</button>
        <button class="btn" id="btnSkipNote">B·ªè qua</button>
        <button class="btn acc" id="btnSaveNote">L∆∞u ghi ch√∫</button>
      </div>
    </div>
  </div>

  <div class="modal" id="modalGeneric" role="dialog" aria-modal="true" aria-labelledby="genericTitle">
      <div class="modal-card" style="width: min(450px, 94vw);">
          <h3 id="genericTitle">Ti√™u ƒë·ªÅ</h3>
          <p id="genericMessage" class="hidden"></p>
          <input type="text" id="genericInput" class="hidden" />
          <div class="row" style="justify-content:flex-end; margin-top:12px">
              <button class="btn" id="btnGenericCancel">H·ªßy</button>
              <button class="btn acc" id="btnGenericOk">OK</button>
          </div>
      </div>
  </div>
  
  <div class="modal" id="modalDashboard" role="dialog" aria-modal="true" aria-labelledby="dashboardTitle">
    <div class="modal-card" style="width: min(800px, 95vw);">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <h3 id="dashboardTitle">üìä T·ªïng quan</h3>
            <button class="btn ghost small" id="btnCloseDashboard">ƒê√≥ng</button>
        </div>
        <p class="tiny">T·ªïng h·ª£p th·ªùi gian v√† s·ªë phi√™n ƒë√£ ho√†n th√†nh tr√™n t·∫•t c·∫£ c√°c ch·ªß ƒë·ªÅ.</p>
        <div id="dashboardContent" style="max-height: 60vh; overflow-y: auto;"></div>
    </div>
  </div>

  <div class="modal" id="modalMethodEditor" role="dialog" aria-modal="true">
    <div class="modal-card" style="width: min(800px, 95vw);">
      <h3 id="methodEditorTitle">Ch·ªânh-s·ª≠a Ph∆∞∆°ng-ph√°p</h3>
      
      <div style="display: flex; flex-direction: column; gap: 12px; margin-top: 12px;">
        <input type="hidden" id="methodEditorId">
        <label>Ti√™u-ƒë·ªÅ<input type="text" id="methodEditorTitleInput"></label>
        
        <label>N·ªôi-dung</label>
        <div class="editor-toolbar">
          <button id="toolH4" class="btn small ghost" title="Ti√™u-ƒë·ªÅ nh·ªè">H</button>
          <button id="toolBold" class="btn small ghost" title="In ƒë·∫≠m">B</button>
          <button id="toolItalic" class="btn small ghost" title="In nghi√™ng">I</button>
          <button id="toolList" class="btn small ghost" title="Danh-s√°ch">1.</button>
          <button id="toolBullet" class="btn small ghost" title="Danh s√°ch ch·∫•m tr√≤n">‚Ä¢</button>

          <div class="color-picker-wrapper">
            <button id="toolColor" class="btn small ghost" title="M√†u ch·ªØ">A</button>
            <div class="color-palette hidden">
              <button class="color-swatch" style="background-color: var(--text);" data-color="var(--text)" title="M√†u ch·ªØ m·∫∑c ƒë·ªãnh"></button>
              <button class="color-swatch" style="background-color: var(--acc);" data-color="var(--acc)" title="M√†u nh·∫•n m·∫°nh"></button>
              <button class="color-swatch" style="background-color: var(--acc-2);" data-color="var(--acc-2)" title="M√†u t√≠ch c·ª±c"></button>
              <button class="color-swatch" style="background-color: var(--warn);" data-color="var(--warn)" title="M√†u c·∫£nh b√°o"></button>
              <button class="color-swatch" style="background-color: var(--danger);" data-color="var(--danger)" title="M√†u nguy hi·ªÉm"></button>
              <button class="color-swatch" style="background-color: var(--purple);" data-color="var(--purple)" title="M√†u t√≠m"></button>
            </div>
          </div>
        </div>

        <div class="editor-container">
            <div id="methodEditorContentInput" class="editable-content" contenteditable="true"></div>
        </div>

      </div>

      <div class="row" style="justify-content:space-between; margin-top:16px">
        <button id="btnAutoFormat" class="btn small" disabled title="T√≠nh nƒÉng n√†y y√™u c·∫ßu Gemini API Key">‚ú® T·ª± ƒë·ªông ƒë·ªãnh d·∫°ng</button>
        <div>
          <button class="btn" id="btnCancelMethodEditor">H·ªßy</button>
          <button class="btn acc" id="btnSaveMethod">L∆∞u</button>
        </div>
      </div>
    </div>
  </div>

  <div class="toasts" id="toasts"></div>
  <audio id="audioWorkEnd"></audio>
  <audio id="audioBreakEnd"></audio>
  <audio id="audioLongEnd"></audio>
  <div id="youtube-player-container"></div>

  <div id="draggableTimer" class="draggable-timer">00:00</div>

  <div id="soundPermissionBar" class="sound-permission-bar" role="alert" aria-live="polite">
    <span class="msg">Nh·∫•n "B·∫≠t √¢m thanh" ƒë·ªÉ cho ph√©p ph√°t nh·∫°c n·ªÅn.</span>
    <button id="btnEnableSound" class="btn small acc">B·∫≠t √¢m thanh</button>
  </div>
<!-- YouTube Iframe API is loaded dynamically when needed -->
<!-- === START: Inline Minimal Sortable (Offline-Safe) === -->
<script>
// Minimal Sortable shim for offline single-file usage.
// Supports: draggable selector, cross-list via same group, onEnd callback.
(function(){
  if (window.Sortable) return; // Respect existing if loaded
  const DND = { src: null, from: null, selector: null, group: null };
  function makeDraggable(container, selector){
    Array.from(container.querySelectorAll(selector)).forEach(el => {
      try { el.setAttribute('draggable','true'); } catch(_) {}
    });
  }
  function closestItem(e, selector){
    const t = e.target && e.target.closest ? e.target.closest(selector) : null;
    return t || null;
  }
  function Sortable(container, opts){
    this.el = container;
    this.options = opts || {};
    const selector = this.options.draggable || '*';
    const group = this.options.group || null;
    makeDraggable(container, selector);
    const handleDragStart = (e) => {
      const item = closestItem(e, selector);
      if (!item) return;
      DND.src = item; DND.from = container; DND.selector = selector; DND.group = group;
      e.dataTransfer.effectAllowed = 'move';
      try { e.dataTransfer.setData('text/plain', ''); } catch(_) {}
    };
    const handleDragOver = (e) => {
      if (!DND.src) return;
      // Only allow drop if same selector and group matches (or no group)
      const sameGroup = (!group && !DND.group) || (group && DND.group && group === DND.group);
      if (!sameGroup) return;
      const target = closestItem(e, selector);
      if (!target) return;
      e.preventDefault();
    };
    const handleDrop = (e) => {
      if (!DND.src) return;
      const sameGroup = (!group && !DND.group) || (group && DND.group && group === DND.group);
      if (!sameGroup) return;
      const target = closestItem(e, selector);
      if (!target) return;
      e.preventDefault();
      const from = DND.from;
      const to = container;
      const children = Array.from(from.querySelectorAll(DND.selector));
      const oldIndex = children.indexOf(DND.src);
      if (target && DND.src && target !== DND.src) {
        to.insertBefore(DND.src, target);
      }
      const newChildren = Array.from(to.querySelectorAll(DND.selector));
      const newIndex = newChildren.indexOf(DND.src);
      if (typeof this.options.onEnd === 'function') {
        try { this.options.onEnd({ oldIndex, newIndex, from, to, item: DND.src }); } catch(_) {}
      }
      DND.src = null; DND.from = null; DND.selector = null; DND.group = null;
    };
    this._listeners = { handleDragStart, handleDragOver, handleDrop };
    container.addEventListener('dragstart', handleDragStart);
    container.addEventListener('dragover', handleDragOver);
    container.addEventListener('drop', handleDrop);
    this.destroy = () => {
      container.removeEventListener('dragstart', handleDragStart);
      container.removeEventListener('dragover', handleDragOver);
      container.removeEventListener('drop', handleDrop);
    };
  }
  window.Sortable = Sortable;
})();
</script>
<!-- === END: Inline Minimal Sortable === -->
  <script>
    const _0x2d92ab=_0x50e5;(function(_0x1c1d41,_0x23a03e){const _0x4a794e=_0x50e5,_0x3b1ab0=_0x1c1d41();while(!![]){try{const _0xde8c7f=-parseInt(_0x4a794e(0x2ea))/0x1*(-parseInt(_0x4a794e(0x259))/0x2)+parseInt(_0x4a794e(0x393))/0x3+parseInt(_0x4a794e(0x2f1))/0x4+-parseInt(_0x4a794e(0x1cb))/0x5+-parseInt(_0x4a794e(0x313))/0x6*(-parseInt(_0x4a794e(0x2b1))/0x7)+parseInt(_0x4a794e(0x1ef))/0x8+-parseInt(_0x4a794e(0x356))/0x9;if(_0xde8c7f===_0x23a03e)break;else _0x3b1ab0['push'](_0x3b1ab0['shift']());}catch(_0x5c8de5){_0x3b1ab0['push'](_0x3b1ab0['shift']());}}}(_0x5325,0x702fd),window[_0x2d92ab(0x22e)]('load',()=>{try{updateFullscreenButton();}catch(_0x40dc3f){}}));const IS_FILE_PROTOCOL=window[_0x2d92ab(0x429)][_0x2d92ab(0x419)]==='file:';function startYtApiWatchdog(){const _0x26bb28=_0x2d92ab,_0x5273c6=document[_0x26bb28(0x26a)](_0x26bb28(0x405));if(!_0x5273c6)return;const _0x464f76=setTimeout(()=>{const _0x19d459=_0x26bb28;try{(!window['YT']||!window['YT'][_0x19d459(0x1f0)])&&(_0x5273c6['textContent']=_0x19d459(0x225),_0x5273c6[_0x19d459(0x34c)][_0x19d459(0x2c0)]=_0x19d459(0x452));}catch(_0x542ae1){}},0x5dc),_0x272085=setTimeout(()=>{const _0x26ef01=_0x26bb28;try{(!window['YT']||!window['YT'][_0x26ef01(0x1f0)])&&(_0x5273c6['textContent']=_0x26ef01(0x217),_0x5273c6['style']['color']='var(--danger)');}catch(_0x16f2b2){}},0x1b58);window[_0x26bb28(0x357)]={'cancel'(){clearTimeout(_0x464f76),clearTimeout(_0x272085);}};}(function(){const _0x153222=_0x2d92ab,_0x37cc12={'timer.cycleInfo':({current:current=0x0,target:target=0x0}={})=>_0x153222(0x3d6)+current+'/'+target,'timer.selectSubtopicPrompt':'Vui\x20l√≤ng\x20ch·ªçn\x20m·ªôt\x20Ch·ªß\x20ƒë·ªÅ\x20con\x20tr∆∞·ªõc\x20khi\x20th·ª±c\x20hi·ªán\x20thao\x20t√°c.'};window['t']=function _0x2e0798(_0x132514,_0x1e69da){const _0x1ca1a6=_0x153222;try{const _0x24c180=_0x37cc12[_0x132514];if(typeof _0x24c180===_0x1ca1a6(0x44f))return _0x24c180(_0x1e69da||{});if(typeof _0x24c180===_0x1ca1a6(0x2ba))return _0x24c180;}catch(_0x220360){}return _0x132514;},window[_0x153222(0x39a)]=function _0x4ed2c8(_0x48e700){const _0x21c783=_0x153222;try{localStorage[_0x21c783(0x1b0)](_0x21c783(0x448),_0x48e700||'vi');}catch(_0x4eb758){}return Promise['resolve']();};}());function ensureYouTubeAPI(){const _0x110450=_0x2d92ab;if(IS_FILE_PROTOCOL)return Promise[_0x110450(0x2a8)](![]);try{if(window['YT']&&window['YT']['Player'])return Promise[_0x110450(0x2a8)](!![]);}catch(_0x48843d){}if(window[_0x110450(0x40f)])return window[_0x110450(0x40f)];return startYtApiWatchdog(),window[_0x110450(0x40f)]=new Promise((_0x2ea26e,_0x4f3f70)=>{const _0xc0cae2=_0x110450;try{const _0x3d1acc=document[_0xc0cae2(0x2e2)](_0xc0cae2(0x3fd));_0x3d1acc[_0xc0cae2(0x1eb)]='https://www.youtube.com/iframe_api',_0x3d1acc[_0xc0cae2(0x2a0)]=!![],_0x3d1acc[_0xc0cae2(0x2ae)]=!![],_0x3d1acc[_0xc0cae2(0x2e9)]=()=>_0x2ea26e(!![]),_0x3d1acc[_0xc0cae2(0x47e)]=()=>_0x4f3f70(new Error(_0xc0cae2(0x43c))),document[_0xc0cae2(0x463)][_0xc0cae2(0x499)](_0x3d1acc);}catch(_0x51693d){_0x4f3f70(_0x51693d);}}),window[_0x110450(0x40f)];}const storageManager={'DB_NAME':_0x2d92ab(0x47c),'DB_VERSION':0x1,'db':null,async 'initDB'(){return new Promise((_0x473900,_0x5ebaee)=>{const _0x227724=_0x50e5;if(this['db'])return _0x473900(this['db']);const _0xef3bf9=indexedDB[_0x227724(0x23d)](this[_0x227724(0x210)],this['DB_VERSION']);_0xef3bf9[_0x227724(0x41b)]=_0x1dc633=>{const _0x58c00c=_0x227724,_0x4f4ba2=_0x1dc633['target'][_0x58c00c(0x263)];!_0x4f4ba2[_0x58c00c(0x1c1)][_0x58c00c(0x2de)](_0x58c00c(0x3cc))&&_0x4f4ba2[_0x58c00c(0x2a6)](_0x58c00c(0x3cc));!_0x4f4ba2[_0x58c00c(0x1c1)][_0x58c00c(0x2de)](_0x58c00c(0x268))&&_0x4f4ba2[_0x58c00c(0x2a6)](_0x58c00c(0x268),{'keyPath':'id'});if(!_0x4f4ba2[_0x58c00c(0x1c1)]['contains'](_0x58c00c(0x25e))){const _0x5b8649=_0x4f4ba2[_0x58c00c(0x2a6)](_0x58c00c(0x25e),{'keyPath':'id'});_0x5b8649['createIndex'](_0x58c00c(0x294),_0x58c00c(0x3af));}!_0x4f4ba2[_0x58c00c(0x1c1)][_0x58c00c(0x2de)]('backups')&&_0x4f4ba2[_0x58c00c(0x2a6)](_0x58c00c(0x48f),{'keyPath':'date'});},_0xef3bf9[_0x227724(0x2fe)]=_0x21fe91=>{const _0x6a0223=_0x227724;this['db']=_0x21fe91['target'][_0x6a0223(0x263)],console[_0x6a0223(0x2c3)]('IndexedDB\x20initialized\x20successfully.'),_0x473900(this['db']);},_0xef3bf9[_0x227724(0x47e)]=_0x3a1c5f=>{const _0x14daba=_0x227724;console[_0x14daba(0x29a)](_0x14daba(0x187),_0x3a1c5f[_0x14daba(0x26b)]['errorCode']),_0x5ebaee(_0x3a1c5f[_0x14daba(0x26b)][_0x14daba(0x29a)]);};});},async '_getStore'(_0x2b1437,_0x155386=_0x2d92ab(0x358)){await this['initDB']();const _0x33c89f=this['db']['transaction']([_0x2b1437],_0x155386);return _0x33c89f['objectStore'](_0x2b1437);},async 'getSettings'(){const _0x177f37=_0x2d92ab,_0x305efa=await this['_getStore'](_0x177f37(0x3cc));return new Promise((_0x26f22e,_0x423d01)=>{const _0x1756c2=_0x177f37,_0x5676eb=_0x305efa[_0x1756c2(0x370)](_0x1756c2(0x40b));_0x5676eb[_0x1756c2(0x2fe)]=()=>_0x26f22e(_0x5676eb[_0x1756c2(0x263)]),_0x5676eb[_0x1756c2(0x47e)]=()=>_0x423d01(_0x5676eb[_0x1756c2(0x29a)]);});},async 'updateSettings'(_0x2ca542){const _0x2346b8=_0x2d92ab,_0xcdd4a5=await this[_0x2346b8(0x3c0)](_0x2346b8(0x3cc),_0x2346b8(0x227));return new Promise((_0xbd033d,_0x3a8a89)=>{const _0x460c71=_0x2346b8,_0x20aa99=_0xcdd4a5[_0x460c71(0x299)](_0x2ca542,_0x460c71(0x40b));_0x20aa99[_0x460c71(0x2fe)]=()=>_0xbd033d(_0x20aa99[_0x460c71(0x263)]),_0x20aa99[_0x460c71(0x47e)]=()=>_0x3a8a89(_0x20aa99[_0x460c71(0x29a)]);});},async 'getAll'(_0x1afeb6){const _0x37ff7b=_0x2d92ab,_0xe98a1d=await this[_0x37ff7b(0x3c0)](_0x1afeb6);return new Promise((_0x59f593,_0x3f2d39)=>{const _0x58d793=_0x37ff7b,_0x11b1a6=_0xe98a1d[_0x58d793(0x37d)]();_0x11b1a6['onsuccess']=()=>_0x59f593(_0x11b1a6[_0x58d793(0x263)]),_0x11b1a6['onerror']=()=>_0x3f2d39(_0x11b1a6[_0x58d793(0x29a)]);});},async 'update'(_0x53cba0,_0x548358){const _0x6711d4=await this['_getStore'](_0x53cba0,'readwrite');return new Promise((_0x51248c,_0x3763bb)=>{const _0x5d6797=_0x50e5,_0x30ac02=_0x6711d4['put'](_0x548358);_0x30ac02[_0x5d6797(0x2fe)]=()=>_0x51248c(_0x30ac02[_0x5d6797(0x263)]),_0x30ac02[_0x5d6797(0x47e)]=()=>_0x3763bb(_0x30ac02[_0x5d6797(0x29a)]);});},async 'add'(_0x27bba9,_0x1a710d){const _0x59932d=_0x2d92ab,_0x35ec6e=await this[_0x59932d(0x3c0)](_0x27bba9,_0x59932d(0x227));return new Promise((_0x438d0f,_0x35e30d)=>{const _0x28b3ab=_0x59932d,_0x12401a=_0x35ec6e[_0x28b3ab(0x31c)](_0x1a710d);_0x12401a[_0x28b3ab(0x2fe)]=()=>_0x438d0f(_0x12401a[_0x28b3ab(0x263)]),_0x12401a[_0x28b3ab(0x47e)]=()=>_0x35e30d(_0x12401a[_0x28b3ab(0x29a)]);});},async 'delete'(_0x3fa182,_0x171a31){const _0x527e42=_0x2d92ab,_0x407e66=await this[_0x527e42(0x3c0)](_0x3fa182,'readwrite');return new Promise((_0x457403,_0xc737f1)=>{const _0x1cf13a=_0x527e42,_0x32fa16=_0x407e66[_0x1cf13a(0x439)](_0x171a31);_0x32fa16['onsuccess']=()=>_0x457403(_0x32fa16[_0x1cf13a(0x263)]),_0x32fa16[_0x1cf13a(0x47e)]=()=>_0xc737f1(_0x32fa16[_0x1cf13a(0x29a)]);});},async 'save'(_0xe946e0){const _0x2add04=_0x2d92ab;return await this[_0x2add04(0x3a4)](),new Promise((_0x315e3e,_0x7d0f9a)=>{const _0x47fa13=_0x2add04,_0x112bc2=this['db']['transaction']([_0x47fa13(0x3cc),_0x47fa13(0x268),_0x47fa13(0x25e)],_0x47fa13(0x227)),_0xc4c629=_0x112bc2[_0x47fa13(0x1a4)](_0x47fa13(0x3cc)),_0x197442=_0x112bc2[_0x47fa13(0x1a4)](_0x47fa13(0x268)),_0x53a4f2=_0x112bc2[_0x47fa13(0x1a4)](_0x47fa13(0x25e));_0xc4c629[_0x47fa13(0x299)](_0xe946e0[_0x47fa13(0x3cc)],'main_settings'),_0x197442[_0x47fa13(0x2db)](),_0x53a4f2[_0x47fa13(0x2db)](),_0xe946e0[_0x47fa13(0x268)][_0x47fa13(0x467)](_0x59eb95=>{const _0x4074ce=_0x47fa13,{subtopics:_0x155217,..._0x381e91}=_0x59eb95;_0x197442['put'](_0x381e91),(_0x155217||[])['forEach'](_0x34a5fc=>_0x53a4f2[_0x4074ce(0x299)](_0x34a5fc));}),_0x112bc2[_0x47fa13(0x1e6)]=()=>_0x315e3e(),_0x112bc2[_0x47fa13(0x47e)]=_0x11ca05=>_0x7d0f9a(_0x11ca05[_0x47fa13(0x26b)][_0x47fa13(0x29a)]);});},async 'autoBackup'(_0x200d30){const _0x5125f2=_0x2d92ab;await this['initDB']();const _0x1188d=new Date()[_0x5125f2(0x350)]()[_0x5125f2(0x33c)](0x0,0xa),_0x14e2f3=localStorage[_0x5125f2(0x2e8)](_0x5125f2(0x255));if(_0x1188d!==_0x14e2f3){console[_0x5125f2(0x2c3)](_0x5125f2(0x412)+_0x1188d+_0x5125f2(0x39e));const _0x473978={'date':_0x1188d,'data':JSON[_0x5125f2(0x1f2)](JSON[_0x5125f2(0x49b)](_0x200d30))},_0x5ea44c=this['db'][_0x5125f2(0x3eb)](['backups'],'readwrite'),_0xca061e=_0x5ea44c[_0x5125f2(0x1a4)](_0x5125f2(0x48f)),_0x3badf9=_0xca061e[_0x5125f2(0x299)](_0x473978);_0x3badf9[_0x5125f2(0x2fe)]=()=>{const _0x3b3949=_0x5125f2;localStorage[_0x3b3949(0x1b0)](_0x3b3949(0x255),_0x1188d),console['log'](_0x3b3949(0x1f4)),this['cleanupOldBackups'](_0x200d30?.['settings']?.[_0x3b3949(0x395)]||0x7);},_0x3badf9[_0x5125f2(0x47e)]=_0x398282=>{const _0x274790=_0x5125f2;console[_0x274790(0x29a)]('Backup\x20failed:',_0x398282[_0x274790(0x26b)][_0x274790(0x29a)]);};}},async 'cleanupOldBackups'(_0x1f9f95){const _0x6e6408=_0x2d92ab;await this[_0x6e6408(0x3a4)]();const _0x1ff266=this['db'][_0x6e6408(0x3eb)]([_0x6e6408(0x48f)],_0x6e6408(0x227)),_0x1f6069=_0x1ff266[_0x6e6408(0x1a4)](_0x6e6408(0x48f)),_0x484bbe=_0x1f6069[_0x6e6408(0x1d1)]();_0x484bbe[_0x6e6408(0x2fe)]=()=>{const _0x53c9ad=_0x6e6408,_0x5bc9f1=_0x484bbe[_0x53c9ad(0x263)]['sort']()['reverse']();if(_0x5bc9f1[_0x53c9ad(0x1ae)]>_0x1f9f95){const _0x2189b5=_0x5bc9f1[_0x53c9ad(0x33c)](_0x1f9f95);_0x2189b5[_0x53c9ad(0x467)](_0x4eada9=>{const _0x12c77e=_0x53c9ad;_0x1f6069[_0x12c77e(0x439)](_0x4eada9),console[_0x12c77e(0x2c3)](_0x12c77e(0x208)+_0x4eada9);});}};},async 'getBackupList'(){const _0x580e77=_0x2d92ab;return await this[_0x580e77(0x3a4)](),new Promise((_0x593ac5,_0x7a78aa)=>{const _0x24ee9d=_0x580e77,_0x1b47ec=this['db'][_0x24ee9d(0x3eb)]([_0x24ee9d(0x48f)],_0x24ee9d(0x358)),_0x574e85=_0x1b47ec['objectStore'](_0x24ee9d(0x48f)),_0x2436b7=_0x574e85[_0x24ee9d(0x37d)]();_0x2436b7['onsuccess']=()=>_0x593ac5(_0x2436b7['result'][_0x24ee9d(0x459)]((_0xf5be70,_0x132ffd)=>_0x132ffd[_0x24ee9d(0x375)][_0x24ee9d(0x1fc)](_0xf5be70[_0x24ee9d(0x375)]))),_0x2436b7[_0x24ee9d(0x47e)]=_0x4367cc=>_0x7a78aa(_0x4367cc[_0x24ee9d(0x26b)][_0x24ee9d(0x29a)]);});},async 'restoreBackup'(_0x296f06){const _0x3572e0=_0x2d92ab;return await this[_0x3572e0(0x3a4)](),new Promise((_0x445aa6,_0x159135)=>{const _0x3d14d2=_0x3572e0,_0x100ae3=this['db'][_0x3d14d2(0x3eb)]([_0x3d14d2(0x48f)],_0x3d14d2(0x358)),_0x21611d=_0x100ae3[_0x3d14d2(0x1a4)](_0x3d14d2(0x48f)),_0x52ccba=_0x21611d[_0x3d14d2(0x370)](_0x296f06);_0x52ccba[_0x3d14d2(0x2fe)]=()=>{const _0x5e2fb0=_0x3d14d2;_0x52ccba[_0x5e2fb0(0x263)]&&_0x52ccba[_0x5e2fb0(0x263)]['data']?(localStorage[_0x5e2fb0(0x1b0)]('pomodoroData_v11',JSON[_0x5e2fb0(0x49b)](_0x52ccba['result'][_0x5e2fb0(0x3f8)])),_0x445aa6(_0x52ccba[_0x5e2fb0(0x263)][_0x5e2fb0(0x3f8)])):_0x159135(new Error(_0x5e2fb0(0x18d)));},_0x52ccba[_0x3d14d2(0x47e)]=_0x3c8ab8=>_0x159135(_0x3c8ab8[_0x3d14d2(0x26b)]['error']);});},'exportData'(_0x30bb69){const _0x21b11b=_0x2d92ab;let _0x50d133={};try{_0x50d133=JSON[_0x21b11b(0x1f2)](JSON[_0x21b11b(0x49b)](_0x30bb69||{}));}catch(_0x37aefd){_0x50d133=_0x30bb69;}try{if(_0x50d133&&_0x50d133[_0x21b11b(0x3cc)])_0x50d133['settings'][_0x21b11b(0x240)]='';}catch(_0x36ed54){}const _0x13dd60=new Blob([JSON[_0x21b11b(0x49b)](_0x50d133,null,0x2)],{'type':_0x21b11b(0x1de)}),_0x2d8841=document[_0x21b11b(0x2e2)]('a'),_0x280c54=new Date(),_0xb24474=_0x9f59cd=>(''+_0x9f59cd)[_0x21b11b(0x320)](0x2,'0');_0x2d8841['href']=URL[_0x21b11b(0x334)](_0x13dd60),_0x2d8841[_0x21b11b(0x296)]='pomodoro_backup_'+_0x280c54[_0x21b11b(0x264)]()+_0xb24474(_0x280c54[_0x21b11b(0x1d4)]()+0x1)+_0xb24474(_0x280c54['getDate']())+_0x21b11b(0x426),_0x2d8841[_0x21b11b(0x30e)](),URL[_0x21b11b(0x465)](_0x2d8841[_0x21b11b(0x19c)]);},async 'importData'(_0x2f01e4){const _0x2cb988=_0x2d92ab,_0x4dfc08=await _0x2f01e4['text'](),_0x2d8271=JSON[_0x2cb988(0x1f2)](_0x4dfc08);if(!_0x2d8271[_0x2cb988(0x1cf)]||!_0x2d8271[_0x2cb988(0x3cc)]||!Array[_0x2cb988(0x1ac)](_0x2d8271[_0x2cb988(0x268)]))throw new Error(_0x2cb988(0x2c8));try{const _0x48b442=window[_0x2cb988(0x3f8)]&&window[_0x2cb988(0x3f8)][_0x2cb988(0x3cc)]&&window['data']['settings'][_0x2cb988(0x240)]||'';(!(_0x2cb988(0x240)in _0x2d8271[_0x2cb988(0x3cc)])||_0x2d8271['settings'][_0x2cb988(0x240)]==='')&&(_0x2d8271[_0x2cb988(0x3cc)][_0x2cb988(0x240)]=_0x48b442);}catch(_0x420c38){}return localStorage[_0x2cb988(0x1b0)](_0x2cb988(0x29f),JSON[_0x2cb988(0x49b)](_0x2d8271)),_0x2d8271;}},$=(_0x20df7f,_0x59f7b3=document)=>_0x59f7b3[_0x2d92ab(0x35a)](_0x20df7f),breakSuggestions=[_0x2d92ab(0x1e8),_0x2d92ab(0x372),'Nh√¨n\x20ra\x20xa\x20qua\x20c·ª≠a\x20s·ªï\x20trong\x2020\x20gi√¢y.','ƒêi\x20d·∫°o\x20m·ªôt\x20v√≤ng\x20ng·∫Øn\x20quanh\x20ph√≤ng.',_0x2d92ab(0x2f6),'S·∫Øp\x20x·∫øp\x20l·∫°i\x20kh√¥ng\x20gian\x20l√†m\x20vi·ªác\x20c·ªßa\x20b·∫°n.',_0x2d92ab(0x1a3),_0x2d92ab(0x3ec),_0x2d92ab(0x353),'Th·∫£\x20l·ªèng\x20to√†n\x20th√¢n,\x20c·∫£m\x20nh·∫≠n\x20h∆°i\x20th·ªü.',_0x2d92ab(0x41d),_0x2d92ab(0x23f),_0x2d92ab(0x3ac),_0x2d92ab(0x354),'ƒê·∫øm\x20ng∆∞·ª£c\x20t·ª´\x2020\x20ƒë·∫øn\x200\x20th·∫≠t\x20ch·∫≠m\x20r√£i.',_0x2d92ab(0x403),_0x2d92ab(0x496),_0x2d92ab(0x2b4),_0x2d92ab(0x2f5),_0x2d92ab(0x2e6),'ƒê·∫øm\x20ch·∫≠m\x20t·ª´ng\x20nh·ªãp\x20th·ªü\x20ƒë·∫øn\x20s·ªë\x2010.',_0x2d92ab(0x272),_0x2d92ab(0x2e7),_0x2d92ab(0x2b8),_0x2d92ab(0x1ee),'Ch·ªõp\x20m·∫Øt\x20li√™n\x20t·ª•c\x2010\x20l·∫ßn\x20ƒë·ªÉ\x20tr√°nh\x20kh√¥\x20m·∫Øt.',_0x2d92ab(0x34a),_0x2d92ab(0x44b),_0x2d92ab(0x192),_0x2d92ab(0x36e),'Ki·ªÉm\x20tra\x20nh·ªãp\x20th·ªü\x20‚Äì\x20n·∫øu\x20g·∫•p\x20g√°p,\x20h√£y\x20l√†m\x20ch·∫≠m\x20l·∫°i.',_0x2d92ab(0x36c)],$$=(_0x32528d,_0x28f23b=document)=>Array[_0x2d92ab(0x43d)](_0x28f23b[_0x2d92ab(0x260)](_0x32528d));function on(_0x22c63a,_0x49f24a,_0x11369e){const _0x70317=_0x2d92ab;if(!_0x22c63a){console[_0x70317(0x3e3)](_0x70317(0x3f2),_0x49f24a);return;}_0x22c63a['addEventListener'](_0x49f24a,_0x11369e);}const formatMMSS=_0x8cc45f=>{const _0x2045f5=_0x2d92ab,_0x1724d4=Math[_0x2045f5(0x25c)](_0x8cc45f/0x3c)[_0x2045f5(0x235)]()[_0x2045f5(0x320)](0x2,'0'),_0x1551cb=Math['floor'](_0x8cc45f%0x3c)[_0x2045f5(0x235)]()[_0x2045f5(0x320)](0x2,'0');return _0x1724d4+':'+_0x1551cb;},uid=(_0x4f73dd='id')=>_0x4f73dd+'_'+Date[_0x2d92ab(0x340)]()+'_'+Math[_0x2d92ab(0x3cf)]()[_0x2d92ab(0x235)](0x24)[_0x2d92ab(0x33c)](0x2,0x9);let __releaseFocusTrap=null;function trapFocus(_0x871c88){const _0x191b54=_0x2d92ab;try{const _0x4654c3=_0x871c88[_0x191b54(0x260)](_0x191b54(0x2df));if(!_0x4654c3[_0x191b54(0x1ae)])return;const _0x249c76=_0x4654c3[0x0],_0x200352=_0x4654c3[_0x4654c3[_0x191b54(0x1ae)]-0x1],_0x30b223=_0x214e0e=>{const _0x9702b7=_0x191b54;if(_0x214e0e[_0x9702b7(0x3b5)]===_0x9702b7(0x382)){if(_0x214e0e[_0x9702b7(0x24b)]&&document['activeElement']===_0x249c76)_0x214e0e[_0x9702b7(0x359)](),_0x200352[_0x9702b7(0x2af)]();else!_0x214e0e[_0x9702b7(0x24b)]&&document[_0x9702b7(0x1b2)]===_0x200352&&(_0x214e0e[_0x9702b7(0x359)](),_0x249c76['focus']());}};_0x871c88[_0x191b54(0x22e)](_0x191b54(0x32a),_0x30b223),_0x249c76['focus'](),__releaseFocusTrap=()=>{const _0x279b76=_0x191b54;try{_0x871c88[_0x279b76(0x23c)](_0x279b76(0x32a),_0x30b223);}catch(_0x205ce4){}};}catch(_0x5e0fb2){}}function releaseFocus(){if(__releaseFocusTrap){try{__releaseFocusTrap();}catch(_0x2d68c0){}__releaseFocusTrap=null;}}const todayISO=()=>new Date()[_0x2d92ab(0x350)]();function toast(_0x20ccab,_0xd151b8=0xa28){const _0x247090=_0x2d92ab,_0x3eaf39=$(_0x247090(0x30d)),_0x5c763a=document['createElement'](_0x247090(0x206));_0x5c763a[_0x247090(0x45f)]=_0x247090(0x2b2),_0x5c763a[_0x247090(0x3ef)]=_0x20ccab,_0x3eaf39[_0x247090(0x499)](_0x5c763a),setTimeout(()=>{const _0x131104=_0x247090;_0x5c763a[_0x131104(0x34c)][_0x131104(0x3ea)]='0';},_0xd151b8-0x12c),setTimeout(()=>_0x3eaf39[_0x247090(0x47d)](_0x5c763a),_0xd151b8);}function escapeHTML(_0x5d3692){const _0x502911=_0x2d92ab;return _0x5d3692[_0x502911(0x3c4)](/[&<>"']/g,_0x5ec3c3=>({'&':_0x502911(0x1cd),'<':_0x502911(0x22f),'>':_0x502911(0x484),'\x22':_0x502911(0x213),'\x27':'&#39;'}[_0x5ec3c3]));}function formatDaysHoursMinutes(_0x43026d){const _0x386f4d=_0x2d92ab;if(!_0x43026d||_0x43026d<0x1)return _0x386f4d(0x2b3);const _0x27ff33=Math['floor'](_0x43026d/0x3c),_0x192059=_0x43026d%0x3c,_0x5ac574=_0x192059['toString']()['padStart'](0x2,'0');return _0x27ff33+_0x386f4d(0x308)+_0x5ac574+_0x386f4d(0x408);}function formatGeminiResponse(_0x251fe5){const _0x3fc105=_0x2d92ab;return _0x251fe5[_0x3fc105(0x3c4)](/(\*\*|__|\*|_|#+\s*)/g,'');}function parseSimpleMarkdown(_0x244b19){const _0x11d0dd=_0x2d92ab,_0x11072b=(_0x244b19||'')[_0x11d0dd(0x194)]('\x0a');let _0x226ad5='',_0x441504=null;const _0x37d7f0=()=>{const _0x13699a=_0x11d0dd;_0x441504&&(_0x226ad5+=_0x441504==='ol'?'</ol>':_0x13699a(0x23b),_0x441504=null);};for(let _0xea85f6 of _0x11072b){let _0x2838a3=(_0xea85f6||'')[_0x11d0dd(0x265)]();if(!_0x2838a3){_0x37d7f0();continue;}if(_0x2838a3[_0x11d0dd(0x1ce)]('####\x20'))_0x37d7f0(),_0x226ad5+='<h4>'+escapeHTML(_0x2838a3[_0x11d0dd(0x494)](0x5))+_0x11d0dd(0x349);else{if(/^\d+\.\s/[_0x11d0dd(0x425)](_0x2838a3)){_0x441504!=='ol'&&(_0x37d7f0(),_0x226ad5+=_0x11d0dd(0x184),_0x441504='ol');const _0x3ea2e3=_0x2838a3[_0x11d0dd(0x494)](_0x2838a3[_0x11d0dd(0x339)]('\x20')+0x1);_0x226ad5+=_0x11d0dd(0x2cc)+escapeHTML(_0x3ea2e3)+_0x11d0dd(0x2d8);}else _0x2838a3[_0x11d0dd(0x1ce)]('-\x20')?(_0x441504!=='ul'&&(_0x37d7f0(),_0x226ad5+=_0x11d0dd(0x38a),_0x441504='ul'),_0x226ad5+='<li>'+escapeHTML(_0x2838a3[_0x11d0dd(0x494)](0x2))+_0x11d0dd(0x2d8)):(_0x37d7f0(),_0x2838a3=escapeHTML(_0x2838a3)[_0x11d0dd(0x3c4)](/\*\*(.*?)\*\*/g,_0x11d0dd(0x33f))[_0x11d0dd(0x3c4)](/_(.*?)_/g,_0x11d0dd(0x1dd)),_0x226ad5+='<p>'+_0x2838a3+_0x11d0dd(0x291));}}return _0x37d7f0(),_0x226ad5;}function wrapTextInMarkdown(_0x6d523f,_0x18a84a,_0x136f9c=''){const _0x4ea553=_0x2d92ab;if(!_0x6d523f)return;const _0x160658=_0x6d523f[_0x4ea553(0x438)]||0x0,_0x4dac7f=_0x6d523f[_0x4ea553(0x215)]||0x0,_0x3a5fef=_0x6d523f[_0x4ea553(0x1bb)][_0x4ea553(0x494)](_0x160658,_0x4dac7f),_0x1b7105=_0x18a84a+_0x3a5fef+(_0x136f9c||_0x18a84a);_0x6d523f[_0x4ea553(0x23e)](_0x1b7105,_0x160658,_0x4dac7f,_0x4ea553(0x43a)),_0x6d523f['focus']();}function updateEditorPreview(){const _0x2288ac=_0x2d92ab,_0x29f2fa=$(_0x2288ac(0x46e)),_0x8a3311=$(_0x2288ac(0x3ad));if(!_0x29f2fa||!_0x8a3311)return;const _0x1dbf8f=_0x29f2fa[_0x2288ac(0x1bb)]||'';_0x8a3311[_0x2288ac(0x200)]=parseSimpleMarkdown(_0x1dbf8f);}function normalizeDataStructure(_0x338281){const _0x37edb7=_0x2d92ab;if(!_0x338281||typeof _0x338281!==_0x37edb7(0x1ca))return;const _0x591400=_0x338281[_0x37edb7(0x3cc)]||{},_0x4fbcbb={...defaults[_0x37edb7(0x3cc)],..._0x591400,'durations':{...defaults[_0x37edb7(0x3cc)][_0x37edb7(0x1d7)],..._0x591400[_0x37edb7(0x1d7)]||{}}};if(!Array[_0x37edb7(0x1ac)](_0x4fbcbb['achievedMilestones']))_0x4fbcbb['achievedMilestones']=[];_0x338281[_0x37edb7(0x3cc)]=_0x4fbcbb,_0x338281[_0x37edb7(0x268)]=Array[_0x37edb7(0x1ac)](_0x338281['topics'])?_0x338281[_0x37edb7(0x268)]:[],_0x338281[_0x37edb7(0x268)][_0x37edb7(0x467)](_0x2e623d=>{const _0x277798=_0x37edb7;_0x2e623d['subtopics']=Array[_0x277798(0x1ac)](_0x2e623d['subtopics'])?_0x2e623d['subtopics']:[],_0x2e623d[_0x277798(0x25e)]['forEach'](_0x5018ac=>{const _0x28a46b=_0x277798;_0x5018ac[_0x28a46b(0x3c2)]=_0x5018ac[_0x28a46b(0x3c2)]||[],_0x5018ac[_0x28a46b(0x48e)]=_0x5018ac[_0x28a46b(0x48e)]||[],_0x5018ac[_0x28a46b(0x19a)]=_0x5018ac['summaries']||[],_0x5018ac[_0x28a46b(0x321)]=_0x5018ac['chatHistory']||[],_0x5018ac[_0x28a46b(0x2ef)]=Array[_0x28a46b(0x1ac)](_0x5018ac[_0x28a46b(0x2ef)])?_0x5018ac['methods']:[],_0x5018ac[_0x28a46b(0x1b8)]=_0x5018ac[_0x28a46b(0x1b8)]||{'totalMinutes':0x0,'sessionsCompleted':0x0,'tasksCompleted':0x0},_0x5018ac[_0x28a46b(0x479)]=_0x5018ac['sessions']||[],_0x5018ac[_0x28a46b(0x27b)]=_0x5018ac[_0x28a46b(0x27b)]||{'state':_0x28a46b(0x317),'prevState':null,'remaining':0x0,'segmentTotal':0x0,'cycleIndex':0x0};});});}function extractYouTubeID(_0x22a7c3){const _0x197309=_0x2d92ab;if(!_0x22a7c3)return null;const _0xf8180f=/^.*(?:youtu.be\/|shorts\/|live\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([A-Za-z0-9_-]{11}).*/,_0x24bb79=_0x22a7c3[_0x197309(0x1ec)](_0xf8180f);return _0x24bb79?_0x24bb79[0x1]:null;}let sessionYoutubeUrl='';function getActiveYoutubeUrl(){const _0x23e822=_0x2d92ab;try{if(sessionYoutubeUrl)return sessionYoutubeUrl;const _0x2221d6=document[_0x23e822(0x26a)](_0x23e822(0x3a6)),_0x109cb5=(_0x2221d6&&_0x2221d6['value']?_0x2221d6[_0x23e822(0x1bb)]:'')[_0x23e822(0x265)]();return _0x109cb5;}catch(_0x5877c2){return'';}}function getActiveVideoId(){return extractYouTubeID(getActiveYoutubeUrl());}function handleYoutubeUrlInput(){const _0x36f6d1=_0x2d92ab,_0x53ca61=$(_0x36f6d1(0x2e5)),_0x24797b=$('#ytUrlFeedback'),_0x54bff2=$('#btnToggleYtSound'),_0x15b0a7=_0x53ca61['value']['trim'](),_0x838244=extractYouTubeID(_0x15b0a7);if(_0x838244){_0x24797b[_0x36f6d1(0x3ef)]=_0x36f6d1(0x306),_0x24797b[_0x36f6d1(0x34c)][_0x36f6d1(0x2c0)]=_0x36f6d1(0x30a),_0x54bff2[_0x36f6d1(0x3f0)]=![],sessionYoutubeUrl=_0x15b0a7;try{ytUserPaused=![];}catch(_0x2413f7){}try{const _0x1a41af=_0x36f6d1(0x1ff)+_0x838244+_0x36f6d1(0x35b),_0x3c528c=new Image();_0x3c528c[_0x36f6d1(0x2e9)]=async()=>{const _0xf72325=_0x36f6d1;data[_0xf72325(0x3cc)]['customBg']=_0x1a41af;try{await saveData();}catch(_0x3d226e){}applyCustomBg();},_0x3c528c[_0x36f6d1(0x47e)]=async()=>{const _0x480cf0=_0x36f6d1,_0xdf0229=_0x480cf0(0x1ff)+_0x838244+_0x480cf0(0x2f7);data[_0x480cf0(0x3cc)][_0x480cf0(0x45e)]=_0xdf0229;try{await saveData();}catch(_0x3d75d3){}applyCustomBg();},_0x3c528c[_0x36f6d1(0x1eb)]=_0x1a41af;}catch(_0x441387){}try{if(IS_FILE_PROTOCOL){const _0x5bbc92=_ytUnlocked?0x0:0x1;fallbackLoadVideo(_0x838244,{'autoplay':0x1,'mute':_0x5bbc92});try{setTimeout(()=>{try{fallbackPostMessage('playVideo');}catch(_0x1d6756){}},0xfa);}catch(_0x56c447){}!_ytUnlocked&&showSoundPermission();try{setTimeout(()=>{const _0x396513=_0x36f6d1,_0x3e72bf=document[_0x396513(0x26a)](_0x396513(0x405));if(_0x3e72bf)_0x3e72bf['textContent']=_0x396513(0x1b6);},0x1f4);}catch(_0x4f6691){}}else ensureYouTubeAPI()[_0x36f6d1(0x186)](()=>{const _0x427a54=_0x36f6d1;updateYouTubePlayer();try{if(_ytUnlocked)ytFadeInPlay();else ytPlayer&&ytPlayer['mute']&&ytPlayer['playVideo']&&(ytPlayer[_0x427a54(0x3a3)](),ytPlayer[_0x427a54(0x1ea)](),_ytPrimed=!![],showSoundPermission());}catch(_0x1a4929){}})[_0x36f6d1(0x49f)](()=>{});}catch(_0x51ae1e){}}else{if(_0x15b0a7===''){_0x24797b[_0x36f6d1(0x3ef)]='',_0x54bff2['disabled']=!![];if(IS_FILE_PROTOCOL)try{fallbackStop();}catch(_0x1d9c87){}else ytPlayer&&ytPlayer[_0x36f6d1(0x1b9)]&&ytPlayer[_0x36f6d1(0x1b9)]();}else _0x24797b[_0x36f6d1(0x3ef)]=_0x36f6d1(0x3d4),_0x24797b[_0x36f6d1(0x34c)]['color']=_0x36f6d1(0x281),_0x54bff2[_0x36f6d1(0x3f0)]=!![];}}function applyTheme(_0x5a4876){const _0xb01d25=_0x2d92ab,_0x2acfe5=_0x5a4876||data[_0xb01d25(0x3cc)][_0xb01d25(0x46f)]||_0xb01d25(0x466);document['body'][_0xb01d25(0x336)][_0xb01d25(0x46f)]=_0x2acfe5;const _0x599a00=[_0xb01d25(0x245),'space'][_0xb01d25(0x3cb)](_0x2acfe5),_0x2c9a81=_0x2acfe5===_0xb01d25(0x2a1)||_0x2acfe5===_0xb01d25(0x1a7),_0x311bbb=data[_0xb01d25(0x3cc)][_0xb01d25(0x45e)],_0x2665b8=()=>{const _0x1df107=_0xb01d25;try{document[_0x1df107(0x3e7)][_0x1df107(0x34c)][_0x1df107(0x338)]='';}catch(_0x27940e){}};if(_0x311bbb&&!data[_0xb01d25(0x3cc)]['useYtThumbnailAsBg'])document['body']['style'][_0xb01d25(0x40e)](_0xb01d25(0x21e),_0xb01d25(0x3df)+_0x311bbb+')'),_0x2665b8();else{if(_0x311bbb&&data[_0xb01d25(0x3cc)][_0xb01d25(0x3c7)])document['body'][_0xb01d25(0x34c)][_0xb01d25(0x40e)]('--bg-image',_0xb01d25(0x3df)+_0x311bbb+')'),_0x2665b8();else{if(_0x599a00)document[_0xb01d25(0x3e7)][_0xb01d25(0x34c)]['removeProperty'](_0xb01d25(0x21e)),_0x2665b8();else _0x2c9a81?(document[_0xb01d25(0x3e7)]['style'][_0xb01d25(0x40e)](_0xb01d25(0x21e),_0xb01d25(0x35d)),_0x2665b8()):(document[_0xb01d25(0x3e7)][_0xb01d25(0x34c)]['setProperty'](_0xb01d25(0x21e),''),document['body'][_0xb01d25(0x34c)][_0xb01d25(0x338)]='radial-gradient(1200px\x20800px\x20at\x2010%\x20-10%,\x20#20285b\x200%,\x20#0f1222\x2050%,\x20#0b0e1a\x20100%)');}}}const defaults={'version':0x1,'settings':{'apiKey':'','currentView':_0x2d92ab(0x2ec),'preset':'A','autoStartNext':!![],'soundOn':!![],'volume':0.8,'soundTheme':_0x2d92ab(0x450),'theme':_0x2d92ab(0x466),'cyclesA':0x4,'longBreakIntervalA':0x4,'cyclesB':0x4,'longBreakIntervalB':0x4,'flowtimeBreakRatio':0x5,'enableWinddown':!![],'enableSessionNotes':!![],'durations':{'A_work':0x19,'A_short':0x5,'A_long':0xf,'A_winddown':0x2,'B_work':0x32,'B_short':0xa,'B_long':0x1e,'B_winddown':0x5},'selectedTopicId':'','selectedSubtopicId':'','collapsedTopics':{},'customBg':'','customSounds':{'work_end':'','break_end':'','long_end':''},'youtubeUrl':'','youtubeVolume':0x50,'useYtThumbnailAsBg':!![],'panelOpacity':0.85,'panelBlur':0xa,'backgroundMode':'cover','backupDaysToKeep':0x7,'achievedMilestones':[],'methods':[{'id':uid('m'),'title':_0x2d92ab(0x2a4),'content':_0x2d92ab(0x335)},{'id':uid('m'),'title':_0x2d92ab(0x1f6),'content':_0x2d92ab(0x487)},{'id':uid('m'),'title':_0x2d92ab(0x237),'content':_0x2d92ab(0x32b)},{'id':uid('m'),'title':_0x2d92ab(0x44a),'content':_0x2d92ab(0x1bd)},{'id':uid('m'),'title':_0x2d92ab(0x344),'content':_0x2d92ab(0x44d)}]},'topics':[]};let data,editingPreset='A',AUDIO_CTX=null;function ensureAudio(){const _0x41173e=_0x2d92ab;if(!AUDIO_CTX)AUDIO_CTX=new(window[(_0x41173e(0x47f))]||window[(_0x41173e(0x464))])();}function tone(_0x9614e6=0x370,_0x1bf541=0xc8,_0x41106f=0.2,_0x5cc700=_0x2d92ab(0x1df),_0x3db511=0x0){const _0x3595cd=_0x2d92ab;ensureAudio();const _0x426d02=AUDIO_CTX,_0x5eb54e=_0x426d02[_0x3595cd(0x25a)](),_0x583480=_0x426d02[_0x3595cd(0x48d)]();_0x5eb54e['type']=_0x5cc700,_0x5eb54e[_0x3595cd(0x416)]['value']=_0x9614e6,_0x5eb54e['connect'](_0x583480),_0x583480[_0x3595cd(0x1c2)](_0x426d02['destination']);const _0x41bda3=_0x426d02['currentTime']+_0x3db511;_0x583480[_0x3595cd(0x3e2)]['setValueAtTime'](0x0,_0x41bda3),_0x583480['gain'][_0x3595cd(0x453)](_0x41106f,_0x41bda3+0.01),_0x583480[_0x3595cd(0x3e2)][_0x3595cd(0x2c9)](0.0001,_0x41bda3+_0x1bf541/0x3e8),_0x5eb54e[_0x3595cd(0x406)](_0x41bda3),_0x5eb54e[_0x3595cd(0x431)](_0x41bda3+_0x1bf541/0x3e8+0.05);}function playSound(_0x4c75f3){const _0x323c00=_0x2d92ab;if(!data[_0x323c00(0x3cc)][_0x323c00(0x455)])return;const _0x3f0dc1=Math[_0x323c00(0x248)](0x0,Math[_0x323c00(0x28f)](0x1,data['settings'][_0x323c00(0x31f)]??0.8)),_0x4fd3a0=data['settings']['customSounds']?.[_0x4c75f3];let _0x4bee79;if(_0x4c75f3===_0x323c00(0x246))_0x4bee79=$('#audioWorkEnd');else{if(_0x4c75f3===_0x323c00(0x48b))_0x4bee79=$('#audioBreakEnd');else{if(_0x4c75f3===_0x323c00(0x1f3))_0x4bee79=$(_0x323c00(0x205));}}if(_0x4fd3a0&&_0x4bee79){_0x4fd3a0['startsWith'](_0x323c00(0x2dc))||_0x4fd3a0[_0x323c00(0x1ce)]('http')||_0x4fd3a0[_0x323c00(0x1ce)](_0x323c00(0x414))?(_0x4bee79[_0x323c00(0x1eb)]=_0x4fd3a0,_0x4bee79['volume']=_0x3f0dc1,_0x4bee79[_0x323c00(0x181)]()[_0x323c00(0x49f)](_0x356bf8=>console[_0x323c00(0x29a)](_0x323c00(0x2f8),_0x356bf8))):getStoredFileUrl(_0x4fd3a0)[_0x323c00(0x186)](_0x12965a=>{const _0x2477f3=_0x323c00;_0x12965a&&(_0x4bee79[_0x2477f3(0x1eb)]=_0x12965a,_0x4bee79[_0x2477f3(0x31f)]=_0x3f0dc1,_0x4bee79[_0x2477f3(0x181)]()[_0x2477f3(0x49f)](_0x3f5c7d=>console[_0x2477f3(0x29a)](_0x2477f3(0x2f8),_0x3f5c7d)));});return;}const _0x1a0dd3=data[_0x323c00(0x3cc)][_0x323c00(0x286)]||_0x323c00(0x450);if(_0x1a0dd3===_0x323c00(0x450)){if(_0x4c75f3===_0x323c00(0x246))tone(0x370,0xfa,_0x3f0dc1),tone(0x294,0xb4,_0x3f0dc1*0.8,_0x323c00(0x1df),0.22);else{if(_0x4c75f3===_0x323c00(0x48b))tone(0x294,0xdc,_0x3f0dc1*0.9);else _0x4c75f3===_0x323c00(0x1f3)&&(tone(0x208,0xc8,_0x3f0dc1),tone(0x30c,0xc8,_0x3f0dc1,_0x323c00(0x1df),0.22),tone(0x410,0xdc,_0x3f0dc1,_0x323c00(0x1df),0.44));}}else{if(_0x4c75f3===_0x323c00(0x246))tone(0x4b0,0xa0,_0x3f0dc1*0.9,_0x323c00(0x1e9)),tone(0x384,0xdc,_0x3f0dc1*0.8,_0x323c00(0x1e9),0.18);else{if(_0x4c75f3===_0x323c00(0x48b))tone(0x370,0xf0,_0x3f0dc1*0.8,_0x323c00(0x1e9));else _0x4c75f3===_0x323c00(0x1f3)&&(tone(0x258,0xdc,_0x3f0dc1*0.9,'triangle'),tone(0x3b6,0xf0,_0x3f0dc1*0.9,_0x323c00(0x1e9),0.22),tone(0x4b0,0xf0,_0x3f0dc1,_0x323c00(0x1e9),0.44));}}}async function saveData(){const _0x175e32=_0x2d92ab;try{await storageManager[_0x175e32(0x404)](data);}catch(_0x443e7e){console[_0x175e32(0x29a)](_0x175e32(0x1aa),_0x443e7e),toast(_0x175e32(0x3e6)+_0x443e7e[_0x175e32(0x27e)]);}}async function ensureValidSelection(){const _0x34c8ab=_0x2d92ab,_0x41beb9=data[_0x34c8ab(0x3cc)];if(!data[_0x34c8ab(0x268)]||data[_0x34c8ab(0x268)][_0x34c8ab(0x1ae)]===0x0){_0x41beb9[_0x34c8ab(0x1e5)]='',_0x41beb9[_0x34c8ab(0x274)]='',await saveData();return;}const _0x167c55=data['topics']['find'](_0x47d908=>_0x47d908['id']===_0x41beb9[_0x34c8ab(0x1e5)]),_0x397948=_0x167c55?.['subtopics'][_0x34c8ab(0x347)](_0x46e178=>_0x46e178['id']===_0x41beb9['selectedSubtopicId']);if(!_0x167c55||!_0x397948){const _0x7abe58=data['topics'][0x0],_0x5b970a=_0x7abe58?.[_0x34c8ab(0x25e)]?.[0x0];_0x41beb9['selectedTopicId']=_0x7abe58?.['id']||'',_0x41beb9[_0x34c8ab(0x274)]=_0x5b970a?.['id']||'',await saveData();}}function showInputModal(_0x532692,_0x240414,_0x269e2d=''){const _0x359748=_0x2d92ab;$(_0x359748(0x191))[_0x359748(0x3ef)]=_0x532692,$('#genericMessage')['classList'][_0x359748(0x31c)](_0x359748(0x31d));const _0x41897d=$(_0x359748(0x231));_0x41897d[_0x359748(0x1bb)]=_0x269e2d,_0x41897d[_0x359748(0x300)][_0x359748(0x21c)]('hidden'),$(_0x359748(0x1bc))['classList'][_0x359748(0x31c)](_0x359748(0x257));try{trapFocus($('#modalGeneric'));}catch(_0x270ac5){}_0x41897d[_0x359748(0x2af)](),_0x41897d[_0x359748(0x21f)]();const _0x46e1df=()=>{const _0x2de843=_0x359748;_0x240414(_0x41897d[_0x2de843(0x1bb)]),_0x445de3();},_0x4e0237=()=>_0x445de3(),_0x3f7bcb=_0x1d040c=>{const _0x3335ea=_0x359748;if(_0x1d040c[_0x3335ea(0x3b5)]===_0x3335ea(0x34b))_0x46e1df();if(_0x1d040c[_0x3335ea(0x3b5)]===_0x3335ea(0x3a8))_0x4e0237();};$(_0x359748(0x45b))[_0x359748(0x1be)]=_0x46e1df,$(_0x359748(0x379))['onclick']=_0x4e0237,_0x41897d['onkeydown']=_0x3f7bcb;function _0x445de3(){const _0x5a6df4=_0x359748;$(_0x5a6df4(0x1bc))[_0x5a6df4(0x300)]['remove']('show'),$('#btnGenericOk')[_0x5a6df4(0x1be)]=null,$(_0x5a6df4(0x379))[_0x5a6df4(0x1be)]=null,_0x41897d[_0x5a6df4(0x3f4)]=null;try{releaseFocus();}catch(_0x3f521a){}}}function _0x50e5(_0x500e48,_0x594050){const _0x532591=_0x5325();return _0x50e5=function(_0x50e5e0,_0x1bd12d){_0x50e5e0=_0x50e5e0-0x180;let _0xd00790=_0x532591[_0x50e5e0];return _0xd00790;},_0x50e5(_0x500e48,_0x594050);}function showConfirmModal(_0xc2ba55,_0x7ce400,_0x48e188){const _0x47f116=_0x2d92ab;$('#genericTitle')[_0x47f116(0x3ef)]=_0xc2ba55;const _0x4cae5d=$(_0x47f116(0x2b6));_0x4cae5d[_0x47f116(0x3ef)]=_0x7ce400,_0x4cae5d[_0x47f116(0x300)][_0x47f116(0x21c)]('hidden'),$(_0x47f116(0x231))[_0x47f116(0x300)][_0x47f116(0x31c)]('hidden'),$(_0x47f116(0x1bc))[_0x47f116(0x300)][_0x47f116(0x31c)](_0x47f116(0x257));try{trapFocus($(_0x47f116(0x1bc)));}catch(_0x4223d9){}const _0x215921=()=>{_0x48e188(!![]),_0x1c4353();},_0x353897=()=>{_0x48e188(![]),_0x1c4353();};$(_0x47f116(0x45b))['onclick']=_0x215921,$(_0x47f116(0x379))[_0x47f116(0x1be)]=_0x353897;function _0x1c4353(){const _0x13b3b2=_0x47f116;$(_0x13b3b2(0x1bc))[_0x13b3b2(0x300)][_0x13b3b2(0x21c)](_0x13b3b2(0x257)),$(_0x13b3b2(0x45b))[_0x13b3b2(0x1be)]=null,$(_0x13b3b2(0x379))[_0x13b3b2(0x1be)]=null;try{releaseFocus();}catch(_0x42acd1){}}}let pendingNoteSessionId=null;function openNoteModal(_0x374f49){const _0x166325=_0x2d92ab;pendingNoteSessionId=_0x374f49||null;const _0x45525f=$('#modalNote');if(!_0x45525f)return;const _0x2f5162=$(_0x166325(0x247));if(_0x2f5162)try{_0x2f5162[_0x166325(0x1bb)]='';}catch(_0x42a9a5){}_0x45525f[_0x166325(0x300)][_0x166325(0x31c)]('show');try{trapFocus(_0x45525f);}catch(_0x48bfa4){}}function closeNoteModal(){const _0x2c7567=_0x2d92ab,_0x3ffa1c=$(_0x2c7567(0x29b));if(!_0x3ffa1c)return;_0x3ffa1c[_0x2c7567(0x300)]['remove'](_0x2c7567(0x257)),pendingNoteSessionId=null;try{releaseFocus();}catch(_0x3008a8){}}async function switchView(_0x49db53){const _0x4de77a=_0x2d92ab;$$('.view')[_0x4de77a(0x467)](_0x23adf9=>_0x23adf9[_0x4de77a(0x300)][_0x4de77a(0x21c)](_0x4de77a(0x314))),$(_0x4de77a(0x2ad)+_0x49db53)[_0x4de77a(0x300)]['add'](_0x4de77a(0x314)),$$(_0x4de77a(0x1a9))['forEach'](_0x3c86fa=>_0x3c86fa['classList']['remove']('active'));const _0x304307=$(_0x4de77a(0x460)+_0x49db53+'\x22]');if(_0x304307)_0x304307[_0x4de77a(0x300)][_0x4de77a(0x31c)](_0x4de77a(0x314));data[_0x4de77a(0x3cc)][_0x4de77a(0x229)]=_0x49db53,await saveData(),_0x49db53==='stats'&&renderDashboard();}function closeAllMenus(){const _0x380a6f=_0x2d92ab;$$('.actions-menu.show')[_0x380a6f(0x467)](_0x4dffbd=>_0x4dffbd['classList'][_0x380a6f(0x21c)](_0x380a6f(0x257))),$$(_0x380a6f(0x26c))['forEach'](_0x5e52a1=>_0x5e52a1[_0x380a6f(0x300)][_0x380a6f(0x21c)](_0x380a6f(0x3bc)));}function renderTopics(){const _0x137148=_0x2d92ab,_0x53eac9=$(_0x137148(0x1ed));if(!_0x53eac9)return;_0x53eac9[_0x137148(0x200)]='';const _0x4702f6=data[_0x137148(0x3cc)][_0x137148(0x2a3)]||{};data[_0x137148(0x268)][_0x137148(0x467)](_0x3a22e6=>{const _0x45c606=_0x137148,_0x473dcb=document[_0x45c606(0x2e2)](_0x45c606(0x206));_0x473dcb[_0x45c606(0x45f)]='topic-item',_0x473dcb[_0x45c606(0x336)][_0x45c606(0x413)]=_0x3a22e6['id'];const _0x4fb634=document[_0x45c606(0x2e2)](_0x45c606(0x206));_0x4fb634[_0x45c606(0x45f)]=_0x45c606(0x2fd);const _0x3d34af=!!_0x4702f6[_0x3a22e6['id']],_0x550b0b=document[_0x45c606(0x2e2)](_0x45c606(0x34f));_0x550b0b[_0x45c606(0x45f)]='chev\x20btn\x20small\x20ghost',_0x550b0b[_0x45c606(0x319)](_0x45c606(0x2d2),String(!_0x3d34af)),_0x550b0b[_0x45c606(0x200)]='<span\x20class=\x22ico\x22>‚ñæ</span>';const _0x414e10=document['createElement'](_0x45c606(0x206));_0x414e10[_0x45c606(0x45f)]='topic-title',_0x414e10[_0x45c606(0x3ef)]=_0x3a22e6[_0x45c606(0x418)];const _0x285f8a=document[_0x45c606(0x2e2)](_0x45c606(0x206));_0x285f8a[_0x45c606(0x45f)]=_0x45c606(0x258);const _0x34c309=document[_0x45c606(0x2e2)](_0x45c606(0x34f));_0x34c309['className']='btn\x20small',_0x34c309[_0x45c606(0x200)]=_0x45c606(0x458),_0x34c309[_0x45c606(0x454)]=_0x45c606(0x397);const _0x4bb9c6=document[_0x45c606(0x2e2)](_0x45c606(0x206));_0x4bb9c6[_0x45c606(0x34c)][_0x45c606(0x427)]=_0x45c606(0x1e3);const _0x58562d=document[_0x45c606(0x2e2)]('button');_0x58562d[_0x45c606(0x45f)]='btn\x20small\x20ghost\x20actions-menu-btn',_0x58562d['innerHTML']=_0x45c606(0x39e),_0x58562d[_0x45c606(0x454)]=_0x45c606(0x497);const _0x57b636=document[_0x45c606(0x2e2)](_0x45c606(0x206));_0x57b636[_0x45c606(0x45f)]=_0x45c606(0x276);const _0x15ac66=document[_0x45c606(0x2e2)](_0x45c606(0x34f));_0x15ac66[_0x45c606(0x45f)]=_0x45c606(0x29c),_0x15ac66[_0x45c606(0x200)]='S·ª≠a\x20t√™n\x20Ch·ªß\x20ƒë·ªÅ';const _0x556c66=document[_0x45c606(0x2e2)]('button');_0x556c66['className']=_0x45c606(0x437),_0x556c66[_0x45c606(0x200)]='X√≥a\x20Ch·ªß\x20ƒë·ªÅ',_0x57b636[_0x45c606(0x2bf)](_0x15ac66,_0x556c66),_0x4bb9c6[_0x45c606(0x2bf)](_0x58562d,_0x57b636),_0x285f8a[_0x45c606(0x2bf)](_0x34c309,_0x4bb9c6),_0x4fb634['append'](_0x550b0b,_0x414e10,_0x285f8a),_0x550b0b['addEventListener'](_0x45c606(0x30e),async _0x382da1=>{const _0x12557a=_0x45c606;_0x382da1[_0x12557a(0x3e5)]();const _0x5418de=!!_0x4702f6[_0x3a22e6['id']];_0x5418de?delete _0x4702f6[_0x3a22e6['id']]:_0x4702f6[_0x3a22e6['id']]=!![],data['settings'][_0x12557a(0x2a3)]=_0x4702f6,await storageManager[_0x12557a(0x38b)](data[_0x12557a(0x3cc)]),renderTopics();});const _0x177be0=async()=>{const _0x351e6d=_0x45c606,_0x11ee3a=!!_0x4702f6[_0x3a22e6['id']];_0x11ee3a?delete _0x4702f6[_0x3a22e6['id']]:_0x4702f6[_0x3a22e6['id']]=!![],data[_0x351e6d(0x3cc)][_0x351e6d(0x2a3)]=_0x4702f6,await storageManager['updateSettings'](data[_0x351e6d(0x3cc)]),renderTopics();};_0x4fb634['addEventListener'](_0x45c606(0x30e),async _0xb0d4aa=>{const _0x46d439=_0x45c606,_0x55981a=_0xb0d4aa[_0x46d439(0x26b)];if(_0x55981a&&_0x55981a[_0x46d439(0x3f9)]){if(_0x55981a[_0x46d439(0x3f9)](_0x46d439(0x2d0))||_0x55981a[_0x46d439(0x3f9)]('.actions-menu-btn')||_0x55981a[_0x46d439(0x3f9)]('button')||_0x55981a[_0x46d439(0x3f9)](_0x46d439(0x451)))return;}_0xb0d4aa[_0x46d439(0x3e5)](),await _0x177be0();}),_0x414e10['addEventListener'](_0x45c606(0x30e),async _0x149ff7=>{_0x149ff7['stopPropagation'](),await _0x177be0();}),_0x473dcb['addEventListener'](_0x45c606(0x30e),async _0x2d4b88=>{const _0x25602a=_0x45c606,_0x2db6c4=_0x2d4b88[_0x25602a(0x26b)];if(_0x2db6c4&&_0x2db6c4['closest']){if(_0x2db6c4[_0x25602a(0x3f9)](_0x25602a(0x399)))return;if(_0x2db6c4[_0x25602a(0x3f9)](_0x25602a(0x2d0))||_0x2db6c4[_0x25602a(0x3f9)](_0x25602a(0x34e))||_0x2db6c4['closest'](_0x25602a(0x34f))||_0x2db6c4['closest'](_0x25602a(0x451)))return;}await _0x177be0();});const _0x165b16=document[_0x45c606(0x2e2)](_0x45c606(0x206));_0x165b16[_0x45c606(0x45f)]=_0x45c606(0x25e)+(_0x3d34af?_0x45c606(0x37c):''),_0x165b16[_0x45c606(0x336)][_0x45c606(0x413)]=_0x3a22e6['id'],_0x3a22e6['subtopics'][_0x45c606(0x467)](_0x48ecb8=>{const _0x49114e=_0x45c606,_0x2d2b1a=document[_0x49114e(0x2e2)](_0x49114e(0x206));_0x2d2b1a[_0x49114e(0x45f)]=_0x49114e(0x3c5),_0x2d2b1a[_0x49114e(0x336)][_0x49114e(0x2f4)]=_0x48ecb8['id'];const _0xd5054=document[_0x49114e(0x2e2)](_0x49114e(0x34f));_0xd5054['className']='btn\x20subtopic-btn',_0xd5054[_0x49114e(0x3ef)]='‚Ä¢\x20'+_0x48ecb8[_0x49114e(0x418)],_0xd5054[_0x49114e(0x336)][_0x49114e(0x2f4)]=_0x48ecb8['id'],_0xd5054['dataset'][_0x49114e(0x413)]=_0x3a22e6['id'];if(data[_0x49114e(0x3cc)][_0x49114e(0x274)]===_0x48ecb8['id'])_0xd5054[_0x49114e(0x300)][_0x49114e(0x31c)](_0x49114e(0x314));const _0x5bca99=document[_0x49114e(0x2e2)](_0x49114e(0x206));_0x5bca99[_0x49114e(0x45f)]=_0x49114e(0x241);const _0x2a2069=document[_0x49114e(0x2e2)](_0x49114e(0x206));_0x2a2069[_0x49114e(0x34c)][_0x49114e(0x427)]=_0x49114e(0x1e3);const _0x5dc093=document[_0x49114e(0x2e2)](_0x49114e(0x34f));_0x5dc093[_0x49114e(0x45f)]=_0x49114e(0x279),_0x5dc093['innerHTML']=_0x49114e(0x39e),_0x5dc093[_0x49114e(0x454)]=_0x49114e(0x497);const _0x36b395=document['createElement'](_0x49114e(0x206));_0x36b395[_0x49114e(0x45f)]=_0x49114e(0x276);const _0x2880c0=document[_0x49114e(0x2e2)]('button');_0x2880c0['className']='menu-item',_0x2880c0['innerHTML']=_0x49114e(0x390);const _0x3bf7a8=document['createElement']('button');_0x3bf7a8[_0x49114e(0x45f)]='menu-item\x20danger',_0x3bf7a8[_0x49114e(0x200)]='X√≥a\x20Ch·ªß\x20ƒë·ªÅ\x20con',_0x36b395[_0x49114e(0x2bf)](_0x2880c0,_0x3bf7a8),_0x2a2069[_0x49114e(0x2bf)](_0x5dc093,_0x36b395),_0x5bca99['append'](_0x2a2069),_0x2d2b1a[_0x49114e(0x2bf)](_0xd5054,_0x5bca99),_0x165b16[_0x49114e(0x499)](_0x2d2b1a),_0xd5054[_0x49114e(0x22e)](_0x49114e(0x30e),()=>selectSubtopic(_0x3a22e6['id'],_0x48ecb8['id'])),_0x5dc093['addEventListener'](_0x49114e(0x30e),_0x495246=>{const _0x542eef=_0x49114e;_0x495246[_0x542eef(0x3e5)]();const _0x27f9b3=_0x36b395[_0x542eef(0x300)]['contains'](_0x542eef(0x257));closeAllMenus(),_0x27f9b3?_0x473dcb[_0x542eef(0x300)][_0x542eef(0x21c)](_0x542eef(0x3bc)):(_0x36b395[_0x542eef(0x300)][_0x542eef(0x31c)](_0x542eef(0x257)),_0x473dcb[_0x542eef(0x300)][_0x542eef(0x31c)]('menu-active'));}),_0x2880c0[_0x49114e(0x22e)](_0x49114e(0x30e),()=>showInputModal(_0x49114e(0x1ab),async _0x366d1b=>{const _0x48dbc5=_0x49114e;if(!_0x366d1b)return;_0x48ecb8[_0x48dbc5(0x418)]=_0x366d1b,await storageManager['update'](_0x48dbc5(0x25e),_0x48ecb8),renderAll();},_0x48ecb8[_0x49114e(0x418)])),_0x3bf7a8['addEventListener'](_0x49114e(0x30e),()=>showConfirmModal(_0x49114e(0x351),_0x49114e(0x1cc)+_0x48ecb8[_0x49114e(0x418)]+'\x22?\x20M·ªçi\x20d·ªØ\x20li·ªáu\x20li√™n\x20quan\x20s·∫Ω\x20b·ªã\x20m·∫•t.',async _0x4f9ec3=>{const _0x48809d=_0x49114e;if(!_0x4f9ec3)return;_0x3a22e6[_0x48809d(0x25e)]=_0x3a22e6['subtopics'][_0x48809d(0x280)](_0xae853d=>_0xae853d['id']!==_0x48ecb8['id']);const _0x40732d=data[_0x48809d(0x3cc)];_0x40732d[_0x48809d(0x274)]===_0x48ecb8['id']&&(_0x40732d[_0x48809d(0x274)]='',_0x40732d[_0x48809d(0x1e5)]='',ensureValidSelection()),await storageManager[_0x48809d(0x439)](_0x48809d(0x25e),_0x48ecb8['id']),renderAll();}));}),_0x58562d[_0x45c606(0x22e)]('click',_0xd02293=>{const _0x577ede=_0x45c606;_0xd02293[_0x577ede(0x3e5)]();const _0x1d84e8=_0x57b636['classList'][_0x577ede(0x2de)](_0x577ede(0x257));closeAllMenus(),_0x1d84e8?_0x473dcb['classList'][_0x577ede(0x21c)](_0x577ede(0x3bc)):(_0x57b636[_0x577ede(0x300)][_0x577ede(0x31c)]('show'),_0x473dcb['classList'][_0x577ede(0x31c)](_0x577ede(0x3bc)));}),_0x34c309['addEventListener'](_0x45c606(0x30e),()=>showInputModal(_0x45c606(0x33d),async _0x5c0b40=>{const _0x3f1fe1=_0x45c606;if(!_0x5c0b40)return;const _0x1b3a40={'id':uid('s'),'topicId':_0x3a22e6['id'],'name':_0x5c0b40,'tasks':[],'generalNotes':[],'summaries':[],'chatHistory':[],'methods':[],'stats':{'totalMinutes':0x0,'sessionsCompleted':0x0,'tasksCompleted':0x0},'sessions':[],'timerState':{'state':_0x3f1fe1(0x317),'prevState':null,'remaining':0x0,'segmentTotal':0x0,'cycleIndex':0x0}};_0x3a22e6[_0x3f1fe1(0x25e)][_0x3f1fe1(0x369)](_0x1b3a40),await storageManager['add']('subtopics',_0x1b3a40),renderTopics();})),_0x15ac66[_0x45c606(0x22e)](_0x45c606(0x30e),()=>showInputModal(_0x45c606(0x435),async _0x516ee0=>{const _0x66e752=_0x45c606;if(!_0x516ee0)return;_0x3a22e6[_0x66e752(0x418)]=_0x516ee0,await storageManager[_0x66e752(0x1c9)]('topics',_0x3a22e6),renderTopics();},_0x3a22e6['name'])),_0x556c66[_0x45c606(0x22e)]('click',()=>showConfirmModal('X√°c\x20nh·∫≠n\x20x√≥a',_0x45c606(0x360)+_0x3a22e6['name']+'\x22?\x20M·ªçi\x20ch·ªß\x20ƒë·ªÅ\x20con\x20v√†\x20d·ªØ\x20li·ªáu\x20li√™n\x20quan\x20s·∫Ω\x20b·ªã\x20m·∫•t.',async _0x5a8b68=>{const _0x4c768b=_0x45c606;if(!_0x5a8b68)return;data[_0x4c768b(0x268)]=data[_0x4c768b(0x268)][_0x4c768b(0x280)](_0x2ee939=>_0x2ee939['id']!==_0x3a22e6['id']),delete _0x4702f6[_0x3a22e6['id']];data[_0x4c768b(0x3cc)]['selectedTopicId']===_0x3a22e6['id']&&(data['settings'][_0x4c768b(0x1e5)]='',data[_0x4c768b(0x3cc)]['selectedSubtopicId']='',ensureValidSelection());await storageManager['delete']('topics',_0x3a22e6['id']);for(const _0x5bca27 of _0x3a22e6[_0x4c768b(0x25e)]){await storageManager[_0x4c768b(0x439)](_0x4c768b(0x25e),_0x5bca27['id']);}renderAll();})),_0x34c309[_0x45c606(0x22e)](_0x45c606(0x30e),_0x8e04ae=>_0x8e04ae[_0x45c606(0x3e5)]()),_0x15ac66[_0x45c606(0x22e)](_0x45c606(0x30e),_0x26522d=>_0x26522d[_0x45c606(0x3e5)]()),_0x556c66[_0x45c606(0x22e)](_0x45c606(0x30e),_0x6e42b5=>_0x6e42b5[_0x45c606(0x3e5)]()),_0x473dcb[_0x45c606(0x2bf)](_0x4fb634,_0x165b16),_0x53eac9[_0x45c606(0x499)](_0x473dcb);});if(window[_0x137148(0x3e4)]){const _0xe09afb=document[_0x137148(0x26a)](_0x137148(0x3da));if(_0xe09afb){if(_0xe09afb[_0x137148(0x40c)])try{_0xe09afb[_0x137148(0x40c)][_0x137148(0x19e)]();}catch(_0x5cbeb3){}_0xe09afb['_sortable']=new Sortable(_0xe09afb,{'animation':0x96,'draggable':_0x137148(0x24d),'onEnd':async function(_0x3179ea){const _0x1e1c74=_0x137148;if(_0x3179ea[_0x1e1c74(0x23a)]===_0x3179ea[_0x1e1c74(0x2fc)])return;const _0x3fc4e9=data['topics'][_0x1e1c74(0x490)](_0x3179ea[_0x1e1c74(0x23a)],0x1)[0x0];data[_0x1e1c74(0x268)][_0x1e1c74(0x490)](_0x3179ea['newIndex'],0x0,_0x3fc4e9),await saveData(),renderTopics();}}),_0xe09afb['querySelectorAll'](_0x137148(0x399))[_0x137148(0x467)](_0x349edf=>{const _0x455ae7=_0x137148;new Sortable(_0x349edf,{'group':'subtopics-group','animation':0x96,'draggable':_0x455ae7(0x1c8),'onEnd':async function(_0x497d83){const _0x9713ac=_0x455ae7,_0xb0a0a4=_0x497d83['from']?.[_0x9713ac(0x336)]?.['tid']||_0x497d83[_0x9713ac(0x43d)]?.[_0x9713ac(0x3f9)](_0x9713ac(0x24d))?.[_0x9713ac(0x336)]?.['tid'],_0x236337=_0x497d83['to']?.['dataset']?.[_0x9713ac(0x413)]||_0x497d83['to']?.[_0x9713ac(0x3f9)](_0x9713ac(0x24d))?.['dataset']?.[_0x9713ac(0x413)],_0x1bd8d7=data['topics'][_0x9713ac(0x347)](_0x3c2638=>_0x3c2638['id']===_0xb0a0a4),_0x327774=data[_0x9713ac(0x268)][_0x9713ac(0x347)](_0x3aecc1=>_0x3aecc1['id']===_0x236337);if(!_0x1bd8d7||!_0x327774)return;let _0x52c5a0=null;const _0x47533f=_0x497d83[_0x9713ac(0x3e9)]?.[_0x9713ac(0x336)]?.[_0x9713ac(0x2f4)]||_0x497d83['item']?.[_0x9713ac(0x35a)](_0x9713ac(0x38f))?.[_0x9713ac(0x336)]?.[_0x9713ac(0x2f4)];if(_0x47533f){const _0x448563=_0x1bd8d7[_0x9713ac(0x25e)]['findIndex'](_0x261278=>_0x261278['id']===_0x47533f);if(_0x448563>=0x0)_0x52c5a0=_0x1bd8d7[_0x9713ac(0x25e)][_0x9713ac(0x490)](_0x448563,0x1)[0x0];}!_0x52c5a0&&(_0x52c5a0=_0x1bd8d7[_0x9713ac(0x25e)][_0x9713ac(0x490)](_0x497d83['oldIndex'],0x1)[0x0]);if(!_0x52c5a0)return;_0x52c5a0[_0x9713ac(0x3af)]=_0x327774['id'],_0x327774['subtopics'][_0x9713ac(0x490)](_0x497d83['newIndex'],0x0,_0x52c5a0),data[_0x9713ac(0x3cc)][_0x9713ac(0x274)]===_0x52c5a0['id']&&(data['settings'][_0x9713ac(0x1e5)]=_0x327774['id']),await saveData(),renderTopics();}});});}}}function selectSubtopic(_0x44d9ea,_0x170ade){const _0x43e59b=_0x2d92ab,_0xa121c9=$('.app-content'),_0x47eb5c=getCurrentSubtopic();_0x47eb5c&&timer[_0x43e59b(0x18e)]!=='idle'&&(_0x47eb5c[_0x43e59b(0x27b)]={'state':timer[_0x43e59b(0x18e)],'prevState':timer[_0x43e59b(0x3f3)],'remaining':timer[_0x43e59b(0x219)],'segmentTotal':timer[_0x43e59b(0x1a8)],'cycleIndex':timer[_0x43e59b(0x1d8)]}),_0xa121c9[_0x43e59b(0x300)][_0x43e59b(0x31c)]('reloading'),setTimeout(async()=>{const _0x4da552=_0x43e59b;data[_0x4da552(0x3cc)][_0x4da552(0x1e5)]=_0x44d9ea,data[_0x4da552(0x3cc)][_0x4da552(0x274)]=_0x170ade;const _0x524df6=getCurrentSubtopic();_0x524df6[_0x4da552(0x27b)]?(timer[_0x4da552(0x18e)]=_0x524df6['timerState'][_0x4da552(0x18e)],timer[_0x4da552(0x3f3)]=_0x524df6['timerState'][_0x4da552(0x3f3)]||null,timer[_0x4da552(0x219)]=_0x524df6['timerState']['remaining'],timer[_0x4da552(0x1a8)]=_0x524df6[_0x4da552(0x27b)][_0x4da552(0x1a8)],timer[_0x4da552(0x1d8)]=_0x524df6[_0x4da552(0x27b)]['cycleIndex']):timer[_0x4da552(0x2cf)](),await saveData(),timer[_0x4da552(0x278)](),renderAll(),switchView(_0x4da552(0x2ec)),_0xa121c9[_0x4da552(0x300)][_0x4da552(0x21c)]('reloading');},0xc8);}function getCurrentSubtopic(){const _0x2a8560=_0x2d92ab,_0xfac480=data['settings'][_0x2a8560(0x1e5)],_0x3e7fcd=data[_0x2a8560(0x3cc)]['selectedSubtopicId'];if(!_0xfac480||!_0x3e7fcd)return null;const _0x3ba7ed=data[_0x2a8560(0x268)][_0x2a8560(0x347)](_0x42d048=>_0x42d048['id']===_0xfac480);if(!_0x3ba7ed)return null;return _0x3ba7ed[_0x2a8560(0x25e)][_0x2a8560(0x347)](_0x3ee48c=>_0x3ee48c['id']===_0x3e7fcd)||null;}function renderContextBadge(){const _0x324bf8=_0x2d92ab,_0x54923b=getCurrentSubtopic(),_0x1b9cd1=_0x54923b?_0x54923b[_0x324bf8(0x418)]:_0x324bf8(0x330),_0x52357a=$(_0x324bf8(0x475)),_0x478bfd=$('#currentSubtopicName'),_0x4213dc=$(_0x324bf8(0x391));if(_0x52357a)_0x52357a[_0x324bf8(0x3ef)]=_0x54923b?'Ch·ªß\x20ƒë·ªÅ\x20con:\x20'+_0x54923b[_0x324bf8(0x418)]:_0x324bf8(0x3b9);if(_0x478bfd)_0x478bfd['textContent']=_0x1b9cd1;if(_0x4213dc)_0x4213dc[_0x324bf8(0x3ef)]=_0x1b9cd1;}function renderSubtopicTasks(){const _0x1e80be=_0x2d92ab,_0x1a9a5d=getCurrentSubtopic(),_0x36f62d=$(_0x1e80be(0x316)),_0x3b98d9=$(_0x1e80be(0x29e));if(!_0x36f62d||!_0x3b98d9)return;const _0x275e57=_0x3b98d9[_0x1e80be(0x250)];if(!_0x1a9a5d){_0x36f62d[_0x1e80be(0x200)]='<li\x20class=\x22tiny\x22\x20style=\x22opacity:\x200.7;\x22>Ch·ªçn\x20ch·ªß\x20ƒë·ªÅ\x20con\x20ƒë·ªÉ\x20xem\x20to-do\x20list.</li>',_0x275e57[_0x1e80be(0x300)][_0x1e80be(0x31c)](_0x1e80be(0x31d));return;}_0x275e57[_0x1e80be(0x300)][_0x1e80be(0x21c)](_0x1e80be(0x31d)),_0x36f62d[_0x1e80be(0x200)]='';const _0x1448ce=_0x1a9a5d[_0x1e80be(0x3c2)]?_0x1a9a5d['tasks'][_0x1e80be(0x280)](_0x4edb14=>!_0x4edb14[_0x1e80be(0x216)]):[];_0x1448ce[_0x1e80be(0x1ae)]===0x0&&(_0x36f62d[_0x1e80be(0x200)]=_0x1e80be(0x26e)),_0x1448ce[_0x1e80be(0x467)](_0x58161f=>{const _0xdac805=_0x1e80be,_0x47347e=document[_0xdac805(0x2e2)]('li');_0x47347e[_0xdac805(0x200)]='<input\x20type=\x22checkbox\x22\x20id=\x22'+_0x58161f['id']+_0xdac805(0x46c)+_0x58161f['id']+'\x22>'+escapeHTML(_0x58161f['text'])+_0xdac805(0x3aa),_0x47347e['querySelector'](_0xdac805(0x1bf))[_0xdac805(0x22e)]('change',_0xe09b5b=>toggleSubtopicTask(_0xe09b5b['target']['id'],_0x47347e)),_0x36f62d[_0xdac805(0x499)](_0x47347e);});}async function addSubtopicTask(){const _0x1c1b32=_0x2d92ab,_0x31e40f=getCurrentSubtopic();if(!_0x31e40f){toast(t('timer.selectSubtopicPrompt'));return;}const _0x5330e0=$(_0x1c1b32(0x29e)),_0xe8f701=_0x5330e0['value'][_0x1c1b32(0x265)]();if(_0xe8f701){if(!_0x31e40f[_0x1c1b32(0x3c2)])_0x31e40f[_0x1c1b32(0x3c2)]=[];_0x31e40f['tasks'][_0x1c1b32(0x369)]({'id':uid(_0x1c1b32(0x233)),'text':_0xe8f701,'isCompleted':![],'createdAt':todayISO()}),await saveData(),renderSubtopicTasks(),_0x5330e0['value']='';}_0x5330e0[_0x1c1b32(0x2af)]();}async function toggleSubtopicTask(_0x418443,_0x22dbff){const _0x220056=_0x2d92ab,_0x4915c7=getCurrentSubtopic();if(!_0x4915c7||!_0x4915c7['tasks'])return;const _0x5b88d3=_0x4915c7[_0x220056(0x3c2)][_0x220056(0x347)](_0x572010=>_0x572010['id']===_0x418443);_0x5b88d3&&(_0x5b88d3['isCompleted']=!![],_0x4915c7['stats'][_0x220056(0x180)]=(_0x4915c7['stats'][_0x220056(0x180)]||0x0)+0x1,await saveData(),_0x22dbff[_0x220056(0x300)]['add'](_0x220056(0x222)),setTimeout(()=>{renderSubtopicTasks(),renderStatsHistory();},0xc8));}const timer={'state':'idle','prevState':null,'tickHandle':null,'endAt':null,'remaining':0x0,'segmentTotal':0x0,'cyclesTarget':0x4,'cycleIndex':0x0,'mode':'A','persistInterval':0x3c*0x3e8,'lastPersist':0x0,async 'setPreset'(_0x5a71b8,{silent:silent=![]}={}){const _0x5f37b7=_0x2d92ab,_0x1a1edb=data[_0x5f37b7(0x3cc)];this[_0x5f37b7(0x442)]=_0x5a71b8,this['cyclesTarget']=_0x5a71b8==='A'?_0x1a1edb[_0x5f37b7(0x474)]:_0x5a71b8==='B'?_0x1a1edb[_0x5f37b7(0x2dd)]:0x0,_0x1a1edb[_0x5f37b7(0x1d0)]=_0x5a71b8,await saveData(),this['state']==='idle'&&this[_0x5f37b7(0x2cf)]();},'currentDurations'(){const _0x4711cc=_0x2d92ab,_0x2608f5=data[_0x4711cc(0x3cc)][_0x4711cc(0x1d7)];if(this[_0x4711cc(0x442)]==='A')return{'work':_0x2608f5[_0x4711cc(0x423)],'short':_0x2608f5['A_short'],'long':_0x2608f5[_0x4711cc(0x251)],'winddown':_0x2608f5[_0x4711cc(0x3c8)]??0x0};if(this[_0x4711cc(0x442)]==='B')return{'work':_0x2608f5[_0x4711cc(0x26f)],'short':_0x2608f5['B_short'],'long':_0x2608f5['B_long'],'winddown':_0x2608f5['B_winddown']??0x0};return{'work':0x0,'short':0x0,'long':0x0,'winddown':0x0};},'currentConfig'(){const _0x4e1169=_0x2d92ab,_0x58735a=data[_0x4e1169(0x3cc)];if(this[_0x4e1169(0x442)]==='A')return{'cycles':_0x58735a[_0x4e1169(0x474)],'interval':_0x58735a[_0x4e1169(0x310)]};if(this[_0x4e1169(0x442)]==='B')return{'cycles':_0x58735a[_0x4e1169(0x2dd)],'interval':_0x58735a[_0x4e1169(0x43b)]};return{'cycles':0x0,'interval':0x0};},'updateUI'(){const _0x3c07d6=_0x2d92ab,_0x3b9cfc=$(_0x3c07d6(0x39f)),_0x450268=$(_0x3c07d6(0x1f9)),_0x48105e=$(_0x3c07d6(0x417));if(!_0x3b9cfc||!_0x450268||!_0x48105e)return;const _0x4ffea3=this[_0x3c07d6(0x442)]==='C';$(_0x3c07d6(0x27f))[_0x3c07d6(0x300)][_0x3c07d6(0x38e)](_0x3c07d6(0x31d),this['state']!==_0x3c07d6(0x317)||_0x4ffea3&&this['state']===_0x3c07d6(0x36d)),$(_0x3c07d6(0x20d))[_0x3c07d6(0x300)][_0x3c07d6(0x38e)](_0x3c07d6(0x31d),!(_0x4ffea3&&this[_0x3c07d6(0x18e)]==='work')),$(_0x3c07d6(0x461))[_0x3c07d6(0x300)][_0x3c07d6(0x38e)](_0x3c07d6(0x31d),![_0x3c07d6(0x36d),_0x3c07d6(0x204),_0x3c07d6(0x49c)]['includes'](this[_0x3c07d6(0x18e)])),$(_0x3c07d6(0x373))[_0x3c07d6(0x300)][_0x3c07d6(0x38e)]('hidden',this['state']!==_0x3c07d6(0x433));let _0x3137be=_0x3c07d6(0x488);if(this[_0x3c07d6(0x18e)]===_0x3c07d6(0x36d))_0x3b9cfc[_0x3c07d6(0x3ef)]=_0x4ffea3?'L√ÄM\x20VI·ªÜC\x20(FLOW)':_0x3c07d6(0x266),_0x3b9cfc[_0x3c07d6(0x45f)]=_0x3c07d6(0x432),_0x3137be='var(--acc)';else{if(this[_0x3c07d6(0x18e)]===_0x3c07d6(0x204))_0x3b9cfc[_0x3c07d6(0x3ef)]=_0x3c07d6(0x2a7),_0x3b9cfc['className']=_0x3c07d6(0x3c1),_0x3137be=_0x3c07d6(0x273);else{if(this['state']===_0x3c07d6(0x49c))_0x3b9cfc[_0x3c07d6(0x3ef)]=_0x3c07d6(0x22d),_0x3b9cfc[_0x3c07d6(0x45f)]=_0x3c07d6(0x244),_0x3137be='var(--danger)';else{if(this[_0x3c07d6(0x18e)]==='wind_down'){_0x3b9cfc['textContent']=_0x3c07d6(0x27d),_0x3b9cfc['className']=_0x3c07d6(0x432),_0x3137be='var(--acc-2)';try{$(_0x3c07d6(0x18a))[_0x3c07d6(0x300)][_0x3c07d6(0x21c)](_0x3c07d6(0x31d)),$('#btnBreakEarly')[_0x3c07d6(0x300)][_0x3c07d6(0x21c)]('hidden');}catch(_0x2c916e){}}else this['state']===_0x3c07d6(0x433)?(_0x3b9cfc[_0x3c07d6(0x3ef)]=_0x3c07d6(0x387),_0x3b9cfc[_0x3c07d6(0x45f)]=_0x3c07d6(0x47b)):(_0x3b9cfc[_0x3c07d6(0x3ef)]='S·∫¥N\x20S√ÄNG',_0x3b9cfc['className']=_0x3c07d6(0x47b));}}}[_0x3c07d6(0x36d),_0x3c07d6(0x204),_0x3c07d6(0x49c),_0x3c07d6(0x283)][_0x3c07d6(0x3cb)](this[_0x3c07d6(0x18e)])?_0x48105e[_0x3c07d6(0x300)][_0x3c07d6(0x31c)](_0x3c07d6(0x1b1)):_0x48105e['classList']['remove'](_0x3c07d6(0x1b1));_0x450268[_0x3c07d6(0x34c)][_0x3c07d6(0x3dc)]=_0x3137be,_0x48105e[_0x3c07d6(0x300)][_0x3c07d6(0x21c)](_0x3c07d6(0x252));const _0x54c607=$(_0x3c07d6(0x44e));if(_0x54c607)_0x54c607[_0x3c07d6(0x3ef)]=formatMMSS(this[_0x3c07d6(0x219)]);const _0x3768af=_0x450268['r']['baseVal']['value'],_0x1178d1=0x2*Math['PI']*_0x3768af,_0x2da833=this[_0x3c07d6(0x1a8)]>0x0?_0x1178d1-this[_0x3c07d6(0x219)]/this[_0x3c07d6(0x1a8)]*_0x1178d1:_0x1178d1;_0x450268[_0x3c07d6(0x34c)][_0x3c07d6(0x201)]=_0x1178d1,_0x450268[_0x3c07d6(0x34c)]['strokeDashoffset']=isNaN(_0x2da833)?_0x1178d1:_0x2da833;const _0x2a56ad=$(_0x3c07d6(0x1e0));if(_0x2a56ad){const _0x2c3ea2=this[_0x3c07d6(0x28d)]();_0x2a56ad[_0x3c07d6(0x3ef)]=t(_0x3c07d6(0x32f),{'current':this['cycleIndex'],'target':_0x2c3ea2[_0x3c07d6(0x197)]}),_0x2a56ad[_0x3c07d6(0x300)][_0x3c07d6(0x38e)](_0x3c07d6(0x31d),_0x4ffea3);}const _0x4a5722=$('#breakSuggestionDisplay');_0x4a5722&&_0x4a5722[_0x3c07d6(0x300)][_0x3c07d6(0x38e)](_0x3c07d6(0x31d),_0x4ffea3&&this[_0x3c07d6(0x18e)]==='work');const _0x5f00f5=$(_0x3c07d6(0x1fd));if(_0x5f00f5)_0x5f00f5[_0x3c07d6(0x3ef)]=formatMMSS(this[_0x3c07d6(0x219)]);if(this['state']!=='wind_down')try{$('#windDownChecklist')[_0x3c07d6(0x300)][_0x3c07d6(0x31c)](_0x3c07d6(0x31d)),$(_0x3c07d6(0x25b))[_0x3c07d6(0x300)][_0x3c07d6(0x31c)](_0x3c07d6(0x31d));}catch(_0x4f5f51){}},'persistTimerState'(_0x376db9=![]){const _0x423aa1=_0x2d92ab;try{const _0x2b79be=getCurrentSubtopic();if(!_0x2b79be)return;const _0x181a0a={'state':this[_0x423aa1(0x18e)],'prevState':this[_0x423aa1(0x3f3)],'remaining':this[_0x423aa1(0x219)],'segmentTotal':this[_0x423aa1(0x1a8)],'cycleIndex':this[_0x423aa1(0x1d8)]};_0x2b79be[_0x423aa1(0x27b)]=_0x181a0a;try{localStorage['setItem'](_0x423aa1(0x31a)+_0x2b79be['id'],JSON[_0x423aa1(0x49b)](_0x181a0a));}catch(_0x188358){}this['lastPersist']=Date['now']();}catch(_0xad2af2){}},'_startTick'(){const _0x3e400c=_0x2d92ab;if(this['tickHandle'])clearInterval(this[_0x3e400c(0x41c)]);if(this[_0x3e400c(0x442)]==='C'&&this[_0x3e400c(0x18e)]===_0x3e400c(0x36d)){this[_0x3e400c(0x41c)]=setInterval(()=>{const _0x362e04=_0x3e400c;this['remaining']+=0x1,this[_0x362e04(0x278)](),this[_0x362e04(0x2d1)]();},0x3e8);return;}this[_0x3e400c(0x41c)]=setInterval(()=>{const _0x2f00b1=_0x3e400c;this[_0x2f00b1(0x219)]>0x0&&(this[_0x2f00b1(0x219)]-=0x1,this[_0x2f00b1(0x278)](),this[_0x2f00b1(0x2d1)]()),this[_0x2f00b1(0x219)]<=0x0&&(clearInterval(this['tickHandle']),this[_0x2f00b1(0x41c)]=null,this['_onFinishSegment']());},0x3e8);},'_onFinishSegment'(){const _0x39cf5f=_0x2d92ab;if(this[_0x39cf5f(0x18e)]===_0x39cf5f(0x36d)){const _0x4ef354=getCurrentSubtopic();if(_0x4ef354){const _0x1d393f=this[_0x39cf5f(0x303)]()[_0x39cf5f(0x36d)];_0x4ef354['stats'][_0x39cf5f(0x444)]=(_0x4ef354[_0x39cf5f(0x1b8)]['totalMinutes']||0x0)+_0x1d393f,_0x4ef354[_0x39cf5f(0x1b8)][_0x39cf5f(0x337)]=(_0x4ef354[_0x39cf5f(0x1b8)][_0x39cf5f(0x337)]||0x0)+0x1;const _0x99421c={'id':uid(_0x39cf5f(0x47a)),'dateISO':todayISO(),'durationMinutes':_0x1d393f,'mode':this['mode'],'note':''};if(!_0x4ef354[_0x39cf5f(0x479)])_0x4ef354[_0x39cf5f(0x479)]=[];_0x4ef354[_0x39cf5f(0x479)][_0x39cf5f(0x2eb)](_0x99421c);if(data?.[_0x39cf5f(0x3cc)]?.[_0x39cf5f(0x489)]!==![])try{openNoteModal(_0x99421c['id']);}catch(_0x51b108){}saveData(),renderStatsHistory(),checkAndShowMilestones();}this[_0x39cf5f(0x1d8)]++;}if(typeof data!==_0x39cf5f(0x493)&&data&&data['settings']&&data['settings'][_0x39cf5f(0x36a)]===![]&&this['state']==='work')playSound(_0x39cf5f(0x246));else(this[_0x39cf5f(0x18e)]==='wind_down'||this[_0x39cf5f(0x18e)]===_0x39cf5f(0x204)||this[_0x39cf5f(0x18e)]===_0x39cf5f(0x49c))&&playSound(_0x39cf5f(0x48b));const _0x415817=$(_0x39cf5f(0x417));if(_0x415817)_0x415817[_0x39cf5f(0x300)][_0x39cf5f(0x31c)](_0x39cf5f(0x252));if(data[_0x39cf5f(0x3cc)]['autoStartNext']){if(this[_0x39cf5f(0x18e)]===_0x39cf5f(0x36d))data[_0x39cf5f(0x3cc)][_0x39cf5f(0x36a)]===![]?this[_0x39cf5f(0x2da)]():this[_0x39cf5f(0x256)]();else this[_0x39cf5f(0x18e)]===_0x39cf5f(0x283)?this[_0x39cf5f(0x2da)]():this[_0x39cf5f(0x1db)]();}else this[_0x39cf5f(0x41c)]&&(clearInterval(this['tickHandle']),this[_0x39cf5f(0x41c)]=null),this[_0x39cf5f(0x18e)]=_0x39cf5f(0x317),this[_0x39cf5f(0x3f3)]=null,this[_0x39cf5f(0x278)](),toast(_0x39cf5f(0x221));},'beginWindDown'(){const _0x56565d=_0x2d92ab;if(data?.[_0x56565d(0x3cc)]?.['enableWinddown']===![]){this[_0x56565d(0x2da)]();return;}this[_0x56565d(0x3f3)]=this['state'],this[_0x56565d(0x18e)]=_0x56565d(0x283);const _0x20a119=(this[_0x56565d(0x303)]()['winddown']||0x0)*0x3c;if(_0x20a119<=0x0){this[_0x56565d(0x2da)]();return;}this[_0x56565d(0x1a8)]=_0x20a119,this[_0x56565d(0x219)]=_0x20a119;try{playSound(_0x56565d(0x48b));}catch(_0x25f0ac){}try{toast('ƒê·∫øn\x20gi·ªù\x20h·∫°\x20nhi·ªát.\x20H√£y\x20k·∫øt\x20th√∫c\x20c√¥ng\x20vi·ªác\x20v√†\x20chu·∫©n\x20b·ªã\x20ngh·ªâ\x20ng∆°i.');}catch(_0xed5d5e){}this[_0x56565d(0x2fa)](),this[_0x56565d(0x278)]();},'beginWork'(){const _0x16408a=_0x2d92ab;this[_0x16408a(0x3f3)]=this[_0x16408a(0x18e)],this[_0x16408a(0x18e)]=_0x16408a(0x36d);if(this['mode']==='C'){this['segmentTotal']=0x0;if(this[_0x16408a(0x3f3)]!==_0x16408a(0x433))this[_0x16408a(0x219)]=0x0;}else{const _0x2ed63d=this[_0x16408a(0x303)]()[_0x16408a(0x36d)]*0x3c;this[_0x16408a(0x1a8)]=_0x2ed63d;if(this[_0x16408a(0x3f3)]!=='paused')this['remaining']=_0x2ed63d;}const _0x45dca3=$(_0x16408a(0x3cd));_0x45dca3&&(_0x45dca3[_0x16408a(0x3ef)]=''),this[_0x16408a(0x2fa)](),this[_0x16408a(0x278)]();},'finishFlowSession'(){const _0x4c59a3=_0x2d92ab;if(this[_0x4c59a3(0x442)]!=='C'||this[_0x4c59a3(0x18e)]!==_0x4c59a3(0x36d))return;this[_0x4c59a3(0x41c)]&&(clearInterval(this['tickHandle']),this[_0x4c59a3(0x41c)]=null);const _0x1d01c4=Math[_0x4c59a3(0x248)](0x1,parseInt(data[_0x4c59a3(0x3cc)][_0x4c59a3(0x37e)]??0x5,0xa)),_0x57e28f=Math[_0x4c59a3(0x248)](0x0,this[_0x4c59a3(0x219)]|0x0),_0x36acd8=Math[_0x4c59a3(0x248)](0x3c,Math[_0x4c59a3(0x25c)](_0x57e28f/_0x1d01c4));try{const _0x51164d=getCurrentSubtopic();if(_0x51164d){const _0x5c697c=Math[_0x4c59a3(0x248)](0x1,Math[_0x4c59a3(0x410)](_0x57e28f/0x3c));_0x51164d[_0x4c59a3(0x1b8)][_0x4c59a3(0x444)]=(_0x51164d[_0x4c59a3(0x1b8)][_0x4c59a3(0x444)]||0x0)+_0x5c697c,_0x51164d[_0x4c59a3(0x1b8)]['sessionsCompleted']=(_0x51164d['stats'][_0x4c59a3(0x337)]||0x0)+0x1;const _0x3463c7={'id':uid(_0x4c59a3(0x47a)),'dateISO':todayISO(),'durationMinutes':_0x5c697c,'mode':this['mode'],'note':''};if(!_0x51164d[_0x4c59a3(0x479)])_0x51164d['sessions']=[];_0x51164d['sessions'][_0x4c59a3(0x2eb)](_0x3463c7),saveData(),renderStatsHistory(),data?.[_0x4c59a3(0x3cc)]?.[_0x4c59a3(0x489)]!==![]&&openNoteModal(_0x3463c7['id']);}}catch(_0x48bb6e){}this[_0x4c59a3(0x18e)]=_0x4c59a3(0x204),this['segmentTotal']=_0x36acd8,this[_0x4c59a3(0x219)]=_0x36acd8,this['_startTick'](),this[_0x4c59a3(0x278)](),this['persistTimerState'](!![]);try{toast('Ngh·ªâ\x20'+Math[_0x4c59a3(0x410)](_0x36acd8/0x3c)+_0x4c59a3(0x3bf)+_0x1d01c4+').');}catch(_0x41dbfd){}},'beginBreak'(){const _0x9b9f7b=_0x2d92ab;this[_0x9b9f7b(0x3f3)]=this[_0x9b9f7b(0x18e)];const _0x466f3e=this['currentConfig'](),_0x2a82b3=this[_0x9b9f7b(0x303)]();if(this[_0x9b9f7b(0x1d8)]>0x0&&this['cycleIndex']%_0x466f3e[_0x9b9f7b(0x312)]===0x0){this[_0x9b9f7b(0x18e)]=_0x9b9f7b(0x49c);const _0x5edc78=_0x2a82b3['long']*0x3c;this[_0x9b9f7b(0x1a8)]=_0x5edc78;if(this[_0x9b9f7b(0x3f3)]!=='paused')this['remaining']=_0x5edc78;toast('Tuy·ªát\x20v·ªùi!\x20ƒê√£\x20ƒë·∫øn\x20l√∫c\x20ngh·ªâ\x20d√†i.');}else{this[_0x9b9f7b(0x18e)]=_0x9b9f7b(0x204);const _0x372026=_0x2a82b3['short']*0x3c;this['segmentTotal']=_0x372026;if(this[_0x9b9f7b(0x3f3)]!==_0x9b9f7b(0x433))this['remaining']=_0x372026;}const _0x475c64=$(_0x9b9f7b(0x3cd));if(_0x475c64){const _0x3eabcf=Math[_0x9b9f7b(0x25c)](Math[_0x9b9f7b(0x3cf)]()*breakSuggestions[_0x9b9f7b(0x1ae)]);_0x475c64[_0x9b9f7b(0x3ef)]=_0x9b9f7b(0x45c)+breakSuggestions[_0x3eabcf];}this[_0x9b9f7b(0x2fa)](),this[_0x9b9f7b(0x278)]();},async 'start'(){const _0x54493a=_0x2d92ab;if(!getCurrentSubtopic()){toast('H√£y\x20ch·ªçn\x20m·ªôt\x20Ch·ªß\x20ƒë·ªÅ\x20con\x20tr∆∞·ªõc\x20khi\x20b·∫Øt\x20ƒë·∫ßu');return;}ensureAudio();if(this['mode']==='C'&&this['state']===_0x54493a(0x317))this[_0x54493a(0x18e)]=_0x54493a(0x36d),this['remaining']=0x0,this[_0x54493a(0x1a8)]=0x0,this[_0x54493a(0x1d8)]=0x0,this[_0x54493a(0x2fa)](),this[_0x54493a(0x278)]();else{if(this[_0x54493a(0x18e)]===_0x54493a(0x317))this[_0x54493a(0x1d8)]=this['cycleIndex']||0x0,this[_0x54493a(0x1db)]();else this['state']===_0x54493a(0x433)&&this[_0x54493a(0x20c)]();}await this[_0x54493a(0x2d1)](!![]);},async 'pause'(){const _0x24c618=_0x2d92ab;this['tickHandle']&&(clearInterval(this[_0x24c618(0x41c)]),this[_0x24c618(0x41c)]=null),this[_0x24c618(0x3f3)]=this[_0x24c618(0x18e)],this[_0x24c618(0x18e)]='paused',this[_0x24c618(0x278)](),await this[_0x24c618(0x2d1)](!![]);},async 'resume'(){const _0x225cc9=_0x2d92ab;if(this[_0x225cc9(0x18e)]!==_0x225cc9(0x433))return;this[_0x225cc9(0x18e)]=this[_0x225cc9(0x3f3)]||_0x225cc9(0x36d),this['_startTick'](),this[_0x225cc9(0x278)](),await this['persistTimerState'](!![]);},async 'skip'(){const _0x52036c=_0x2d92ab;if(this[_0x52036c(0x442)]==='C'&&this['state']==='work'){this[_0x52036c(0x1d9)](),await this[_0x52036c(0x2d1)](!![]);return;}this[_0x52036c(0x18e)]==='work'?(this['tickHandle']&&(clearInterval(this[_0x52036c(0x41c)]),this['tickHandle']=null),this[_0x52036c(0x219)]=0x0,this[_0x52036c(0x3db)]()):(this['remaining']=0x0,this[_0x52036c(0x41c)]&&(clearInterval(this[_0x52036c(0x41c)]),this['tickHandle']=null),this[_0x52036c(0x3db)]()),await this['persistTimerState'](!![]);},async 'reset'(){const _0x39ac53=_0x2d92ab;this[_0x39ac53(0x41c)]&&(clearInterval(this[_0x39ac53(0x41c)]),this[_0x39ac53(0x41c)]=null);this['state']=_0x39ac53(0x317),this[_0x39ac53(0x3f3)]=null,this['remaining']=0x0,this[_0x39ac53(0x1a8)]=0x0,this[_0x39ac53(0x1d8)]=0x0;const _0x5c9e51=$(_0x39ac53(0x3cd));_0x5c9e51&&(_0x5c9e51[_0x39ac53(0x3ef)]=''),this[_0x39ac53(0x278)](),await this[_0x39ac53(0x2d1)](!![]);}};async function deleteSummary(_0x3cf74c){const _0x438c20=_0x2d92ab;showConfirmModal(_0x438c20(0x351),_0x438c20(0x2bb),async _0x5ee899=>{const _0x3a2689=_0x438c20;if(!_0x5ee899)return;const _0x170a74=getCurrentSubtopic();if(!_0x170a74||!_0x170a74[_0x3a2689(0x19a)])return;const _0x2a62e1=[..._0x170a74[_0x3a2689(0x19a)]];_0x170a74[_0x3a2689(0x19a)]=_0x170a74[_0x3a2689(0x19a)][_0x3a2689(0x280)](_0xb3ffe=>_0xb3ffe['id']!==_0x3cf74c);try{await storageManager['update']('subtopics',_0x170a74),renderSummaries(),toast('ƒê√£\x20x√≥a\x20t√≥m\x20t·∫Øt.');}catch(_0x77dfd1){console[_0x3a2689(0x29a)]('Failed\x20to\x20delete\x20summary:',_0x77dfd1),_0x170a74[_0x3a2689(0x19a)]=_0x2a62e1,toast(_0x3a2689(0x476));}});}function exportSummary(_0x55f95b){const _0xd6ddc9=_0x2d92ab,_0x4cf595=new Blob([_0x55f95b[_0xd6ddc9(0x304)]],{'type':_0xd6ddc9(0x209)}),_0x34aadb=document[_0xd6ddc9(0x2e2)]('a'),_0x279e8d=new Date(_0x55f95b[_0xd6ddc9(0x3ae)]),_0x26cb9e=_0x13415a=>(''+_0x13415a)[_0xd6ddc9(0x320)](0x2,'0');_0x34aadb[_0xd6ddc9(0x19c)]=URL[_0xd6ddc9(0x334)](_0x4cf595),_0x34aadb[_0xd6ddc9(0x296)]='summary_'+_0x279e8d[_0xd6ddc9(0x264)]()+_0x26cb9e(_0x279e8d[_0xd6ddc9(0x1d4)]()+0x1)+_0x26cb9e(_0x279e8d[_0xd6ddc9(0x3d2)]())+'.txt',_0x34aadb[_0xd6ddc9(0x30e)](),URL[_0xd6ddc9(0x465)](_0x34aadb[_0xd6ddc9(0x19c)]);}function renderStatsHistory(){const _0x6c29c2=_0x2d92ab,_0x5c4ccf=getCurrentSubtopic(),_0x4c885d=$(_0x6c29c2(0x2bd)),_0xeb9a1=$(_0x6c29c2(0x41a)),_0x879cd4=$(_0x6c29c2(0x469)),_0x5a496d=$(_0x6c29c2(0x18c));if(!_0x4c885d||!_0xeb9a1||!_0x879cd4||!_0x5a496d)return;if(!_0x5c4ccf){_0x4c885d[_0x6c29c2(0x3ef)]='0\x20ph√∫t',_0xeb9a1['textContent']='0',_0x879cd4[_0x6c29c2(0x3ef)]='0',_0x5a496d[_0x6c29c2(0x200)]=_0x6c29c2(0x243);return;}const _0x29dc29=_0x5c4ccf[_0x6c29c2(0x1b8)]&&_0x5c4ccf[_0x6c29c2(0x1b8)][_0x6c29c2(0x444)]?_0x5c4ccf['stats'][_0x6c29c2(0x444)]:0x0,_0x18a1a6=_0x5c4ccf[_0x6c29c2(0x1b8)]&&_0x5c4ccf[_0x6c29c2(0x1b8)][_0x6c29c2(0x337)]?_0x5c4ccf['stats'][_0x6c29c2(0x337)]:0x0,_0x56a9d7=_0x5c4ccf[_0x6c29c2(0x3c2)]?_0x5c4ccf['tasks'][_0x6c29c2(0x280)](_0x2dec6e=>_0x2dec6e[_0x6c29c2(0x216)])['length']:0x0;_0x4c885d[_0x6c29c2(0x3ef)]=formatDaysHoursMinutes(_0x29dc29),_0xeb9a1['textContent']=String(_0x18a1a6),_0x879cd4[_0x6c29c2(0x3ef)]=String(_0x56a9d7),_0x5a496d[_0x6c29c2(0x200)]='';const _0x1eac92=Array[_0x6c29c2(0x1ac)](_0x5c4ccf[_0x6c29c2(0x479)])?_0x5c4ccf[_0x6c29c2(0x479)]:[];if(_0x1eac92[_0x6c29c2(0x1ae)]===0x0){_0x5a496d[_0x6c29c2(0x200)]=_0x6c29c2(0x2f3);return;}_0x1eac92[_0x6c29c2(0x467)](_0x5597b6=>{const _0x19fb5a=_0x6c29c2,_0x4b1d01=document[_0x19fb5a(0x2e2)](_0x19fb5a(0x206));_0x4b1d01[_0x19fb5a(0x45f)]=_0x19fb5a(0x468);const _0x2280ae=document[_0x19fb5a(0x2e2)](_0x19fb5a(0x206)),_0x1ca507=_0x5597b6['dateISO']?new Date(_0x5597b6['dateISO']):new Date(),_0x382776=_0x5597b6[_0x19fb5a(0x22c)]!=null?_0x5597b6[_0x19fb5a(0x22c)]:_0x5597b6[_0x19fb5a(0x3d3)]||0x0,_0x3b1cd8='<div\x20class=\x22hist-meta\x22>'+_0x1ca507[_0x19fb5a(0x421)]()+'\x20¬∑\x20'+_0x382776+'\x27\x20¬∑\x20Mode\x20'+(_0x5597b6[_0x19fb5a(0x442)]||'')+_0x19fb5a(0x2ed);let _0x19e09c='';if(_0x5597b6['note'])_0x19e09c=_0x19fb5a(0x326)+escapeHTML(_0x5597b6[_0x19fb5a(0x495)])+_0x19fb5a(0x2ed);else data?.['settings']?.[_0x19fb5a(0x489)]!==![]&&(_0x19e09c=_0x19fb5a(0x2b0));_0x2280ae[_0x19fb5a(0x200)]=_0x3b1cd8+_0x19e09c,_0x4b1d01[_0x19fb5a(0x499)](_0x2280ae),_0x5a496d[_0x19fb5a(0x499)](_0x4b1d01);});}function renderGeneralNotes(){const _0x4c0431=_0x2d92ab,_0x2788c5=$(_0x4c0431(0x3b4));if(!_0x2788c5)return;const _0x36e970=getCurrentSubtopic();if(!_0x36e970){_0x2788c5[_0x4c0431(0x200)]=_0x4c0431(0x189);return;}_0x36e970[_0x4c0431(0x48e)]=_0x36e970['generalNotes']||[];if(_0x36e970['generalNotes'][_0x4c0431(0x1ae)]===0x0){_0x2788c5[_0x4c0431(0x200)]=_0x4c0431(0x315);return;}_0x2788c5[_0x4c0431(0x200)]='',_0x36e970['generalNotes'][_0x4c0431(0x467)](_0xa41a02=>{const _0x3c8b65=_0x4c0431,_0x239a2e=document['createElement']('div');_0x239a2e[_0x3c8b65(0x45f)]=_0x3c8b65(0x471);const _0x51c49a=document[_0x3c8b65(0x2e2)](_0x3c8b65(0x206));_0x51c49a['className']=_0x3c8b65(0x46a),_0x51c49a[_0x3c8b65(0x3ef)]=typeof _0xa41a02===_0x3c8b65(0x2ba)?_0xa41a02:_0xa41a02[_0x3c8b65(0x3d1)]||'';const _0x1e0eff=document['createElement'](_0x3c8b65(0x206));_0x1e0eff['className']=_0x3c8b65(0x1e1),_0x1e0eff[_0x3c8b65(0x3ef)]=_0xa41a02[_0x3c8b65(0x3ae)]?new Date(_0xa41a02[_0x3c8b65(0x3ae)])[_0x3c8b65(0x421)]():'';const _0x196be2=document['createElement'](_0x3c8b65(0x206)),_0x69accf=document[_0x3c8b65(0x2e2)]('button');_0x69accf['className']='btn\x20small\x20danger',_0x69accf[_0x3c8b65(0x3ef)]=_0x3c8b65(0x46d),_0x69accf['onclick']=async _0xa9404d=>{const _0xafa085=_0x3c8b65;_0xa9404d[_0xafa085(0x3e5)]();const _0x9f9673=getCurrentSubtopic();if(!_0x9f9673)return;_0x9f9673[_0xafa085(0x48e)]=(_0x9f9673[_0xafa085(0x48e)]||[])[_0xafa085(0x280)](_0x3a2a43=>(_0x3a2a43['id']||_0x3a2a43)!==(_0xa41a02['id']||_0xa41a02)),await saveData(),renderGeneralNotes();},_0x196be2[_0x3c8b65(0x499)](_0x69accf);const _0x1694e3=document[_0x3c8b65(0x2e2)](_0x3c8b65(0x206));_0x1694e3['className']='note-content-wrapper',_0x1694e3['append'](_0x51c49a,_0x1e0eff),_0x239a2e[_0x3c8b65(0x2bf)](_0x1694e3,_0x196be2),_0x2788c5[_0x3c8b65(0x499)](_0x239a2e);});}function renderMethods(){const _0x421989=_0x2d92ab,_0x534000=document[_0x421989(0x35a)]('#view-methods\x20.methods-container');if(!_0x534000)return;_0x534000[_0x421989(0x200)]='';const _0x2c9e6b=getCurrentSubtopic();if(!_0x2c9e6b){_0x534000[_0x421989(0x200)]=_0x421989(0x298);return;}const _0x1e2bd0=Array['isArray'](_0x2c9e6b[_0x421989(0x2ef)])?_0x2c9e6b[_0x421989(0x2ef)]:[];if(_0x1e2bd0[_0x421989(0x1ae)]===0x0){_0x534000[_0x421989(0x200)]=_0x421989(0x1ad);return;}_0x1e2bd0[_0x421989(0x467)](_0x268d33=>{const _0x55a0a6=_0x421989,_0x3e801c=document['createElement'](_0x55a0a6(0x401));_0x3e801c[_0x55a0a6(0x45f)]=_0x55a0a6(0x318),_0x3e801c['dataset'][_0x55a0a6(0x48c)]=_0x268d33['id'];const _0x28f2bf=document[_0x55a0a6(0x2e2)](_0x55a0a6(0x2ab)),_0x2492d6=document[_0x55a0a6(0x2e2)](_0x55a0a6(0x20e));_0x2492d6['className']=_0x55a0a6(0x21d),_0x2492d6[_0x55a0a6(0x3ef)]=_0x268d33['title']||_0x55a0a6(0x352),_0x2492d6[_0x55a0a6(0x22e)](_0x55a0a6(0x30e),_0x59036c=>{const _0x2001bb=_0x55a0a6;_0x59036c['preventDefault'](),_0x59036c[_0x2001bb(0x3e5)](),_0x3e801c['open']=!_0x3e801c['open'];});const _0x1046d3=document['createElement'](_0x55a0a6(0x206));_0x1046d3[_0x55a0a6(0x45f)]=_0x55a0a6(0x258);const _0x1435a0=document[_0x55a0a6(0x2e2)](_0x55a0a6(0x34f));_0x1435a0[_0x55a0a6(0x45f)]=_0x55a0a6(0x1a2),_0x1435a0[_0x55a0a6(0x3ef)]=_0x55a0a6(0x483),_0x1435a0[_0x55a0a6(0x336)]['id']=_0x268d33['id'];const _0x1e2b6c=document[_0x55a0a6(0x2e2)]('button');_0x1e2b6c[_0x55a0a6(0x45f)]='btn\x20small\x20danger\x20method-delete',_0x1e2b6c[_0x55a0a6(0x3ef)]=_0x55a0a6(0x46d),_0x1e2b6c['dataset']['id']=_0x268d33['id'],_0x1046d3[_0x55a0a6(0x2bf)](_0x1435a0,_0x1e2b6c),_0x28f2bf[_0x55a0a6(0x2bf)](_0x2492d6,_0x1046d3);const _0x96af7f=document[_0x55a0a6(0x2e2)](_0x55a0a6(0x206));_0x96af7f[_0x55a0a6(0x45f)]=_0x55a0a6(0x42c),_0x96af7f[_0x55a0a6(0x200)]=_0x268d33['content']||'',_0x3e801c[_0x55a0a6(0x2bf)](_0x28f2bf,_0x96af7f),_0x534000[_0x55a0a6(0x499)](_0x3e801c),_0x3e801c['addEventListener'](_0x55a0a6(0x30e),_0x54f6fb=>{const _0x1d534a=_0x55a0a6,_0x2fe2b4=_0x54f6fb[_0x1d534a(0x26b)];if(!_0x2fe2b4)return;if(_0x2fe2b4[_0x1d534a(0x3f9)](_0x1d534a(0x34f))||_0x2fe2b4['closest']('a')||_0x2fe2b4['closest'](_0x1d534a(0x2c4))||_0x2fe2b4[_0x1d534a(0x3f9)](_0x1d534a(0x323)))return;if(!_0x3e801c[_0x1d534a(0x23d)])_0x3e801c[_0x1d534a(0x23d)]=!![];});});const _0x1cf3bf=_0x534000[_0x421989(0x260)](_0x421989(0x230));_0x1cf3bf[_0x421989(0x467)](_0x25810f=>{const _0x3843d5=_0x421989;_0x25810f[_0x3843d5(0x22e)]('toggle',()=>{const _0x2247a0=_0x3843d5;_0x25810f[_0x2247a0(0x23d)]&&_0x1cf3bf[_0x2247a0(0x467)](_0x31edb4=>{const _0x559093=_0x2247a0;if(_0x31edb4!==_0x25810f)_0x31edb4[_0x559093(0x23d)]=![];});});});}function addGeneralNote(){showInputModal('Th√™m\x20ghi\x20ch√∫',async _0x9512ac=>{const _0x28db24=_0x50e5;if(!_0x9512ac)return;const _0x1f13e2=getCurrentSubtopic();if(!_0x1f13e2){toast(_0x28db24(0x363));return;}_0x1f13e2[_0x28db24(0x48e)]=_0x1f13e2['generalNotes']||[],_0x1f13e2[_0x28db24(0x48e)][_0x28db24(0x2eb)]({'id':uid('gn'),'text':_0x9512ac,'createdAt':todayISO()}),await saveData(),renderGeneralNotes();},'');}async function summarizeNotes(){const _0x18106b=_0x2d92ab,_0x25b249=getCurrentSubtopic();if(!_0x25b249){toast(_0x18106b(0x1c0));return;}const _0x5cf08c=(_0x25b249[_0x18106b(0x48e)]||[])[_0x18106b(0x394)](_0x571d4d=>typeof _0x571d4d===_0x18106b(0x2ba)?_0x571d4d:_0x571d4d['text']||'')[_0x18106b(0x280)](Boolean);if(_0x5cf08c[_0x18106b(0x1ae)]===0x0){toast(_0x18106b(0x20b));return;}const _0x1b6911=$(_0x18106b(0x36f));_0x1b6911&&(_0x1b6911[_0x18106b(0x3f0)]=!![],_0x1b6911['innerHTML']=_0x18106b(0x27a));try{const _0x2c5446=_0x18106b(0x1c3)+_0x5cf08c[_0x18106b(0x400)]('\x0a-\x20'),_0x1424f6=await callGeminiAPI(_0x2c5446);if(!_0x25b249['summaries'])_0x25b249[_0x18106b(0x19a)]=[];_0x25b249[_0x18106b(0x19a)][_0x18106b(0x2eb)]({'id':uid(_0x18106b(0x2c7)),'content':_0x1424f6||_0x18106b(0x3c3),'createdAt':todayISO()}),await saveData(),renderSummaries();}catch(_0x27bc4c){console['error'](_0x27bc4c),toast(_0x18106b(0x2fb));}finally{_0x1b6911&&(_0x1b6911[_0x18106b(0x3f0)]=![],_0x1b6911['textContent']='T√≥m\x20t·∫Øt');}}function renderSummaries(){const _0x4d3077=_0x2d92ab,_0x1226c6=$(_0x4d3077(0x35c));if(!_0x1226c6)return;const _0x28946f=getCurrentSubtopic();if(!_0x28946f){_0x1226c6['innerHTML']=_0x4d3077(0x415);return;}_0x1226c6[_0x4d3077(0x200)]='';if(!_0x28946f[_0x4d3077(0x19a)]||_0x28946f[_0x4d3077(0x19a)]['length']===0x0){_0x1226c6[_0x4d3077(0x200)]=_0x4d3077(0x3b8);return;}_0x28946f['summaries'][_0x4d3077(0x467)](_0x56a5ca=>{const _0x3762b1=_0x4d3077,_0x34587b=document[_0x3762b1(0x2e2)]('div');_0x34587b[_0x3762b1(0x45f)]=_0x3762b1(0x471);const _0x1bbc72=document[_0x3762b1(0x2e2)](_0x3762b1(0x206));_0x1bbc72[_0x3762b1(0x45f)]=_0x3762b1(0x1a0);const _0x1b1959=document[_0x3762b1(0x2e2)](_0x3762b1(0x206));_0x1b1959['className']=_0x3762b1(0x46a),_0x1b1959[_0x3762b1(0x3ef)]=_0x56a5ca['content'];const _0x30f539=document['createElement'](_0x3762b1(0x206));_0x30f539[_0x3762b1(0x45f)]='note-meta',_0x30f539[_0x3762b1(0x3ef)]=new Date(_0x56a5ca[_0x3762b1(0x3ae)])[_0x3762b1(0x421)](),_0x1bbc72['append'](_0x1b1959,_0x30f539);const _0x1386a0=document[_0x3762b1(0x2e2)](_0x3762b1(0x206)),_0x297e29=document['createElement'](_0x3762b1(0x34f));_0x297e29['className']=_0x3762b1(0x411),_0x297e29[_0x3762b1(0x3ef)]=_0x3762b1(0x1d2),_0x297e29[_0x3762b1(0x1be)]=_0x1a2084=>{const _0x172c4c=_0x3762b1;_0x1a2084[_0x172c4c(0x3e5)](),exportSummary(_0x56a5ca);};const _0x4faea8=document[_0x3762b1(0x2e2)](_0x3762b1(0x34f));_0x4faea8[_0x3762b1(0x45f)]=_0x3762b1(0x362),_0x4faea8['textContent']=_0x3762b1(0x46d),_0x4faea8[_0x3762b1(0x1be)]=_0x2f8c31=>{const _0x5e5771=_0x3762b1;_0x2f8c31[_0x5e5771(0x3e5)](),deleteSummary(_0x56a5ca['id']);},_0x1386a0['append'](_0x297e29,_0x4faea8),_0x34587b[_0x3762b1(0x2bf)](_0x1bbc72,_0x1386a0),_0x34587b['addEventListener']('click',()=>_0x1b1959['classList'][_0x3762b1(0x38e)]('expanded')),_0x1226c6[_0x3762b1(0x499)](_0x34587b);});}function loadEditingPresetFields(){const _0xe26f03=_0x2d92ab,_0x3b4587=data['settings'],_0x4205fe=_0x3b4587[_0xe26f03(0x1d7)],_0x5f721a=$(_0xe26f03(0x28c)),_0x1946c9=$(_0xe26f03(0x19d));if(_0x5f721a&&_0x1946c9){const _0x49f1cb=editingPreset==='C';_0x5f721a['classList'][_0xe26f03(0x38e)](_0xe26f03(0x31d),_0x49f1cb),_0x1946c9[_0xe26f03(0x300)][_0xe26f03(0x38e)](_0xe26f03(0x31d),!_0x49f1cb);}if(editingPreset==='A'){$(_0xe26f03(0x1c6))[_0xe26f03(0x1bb)]=_0x4205fe[_0xe26f03(0x423)];if($(_0xe26f03(0x3e0)))$(_0xe26f03(0x3e0))[_0xe26f03(0x1bb)]=_0x4205fe[_0xe26f03(0x3c8)]??0x0;$(_0xe26f03(0x386))[_0xe26f03(0x1bb)]=_0x4205fe[_0xe26f03(0x19f)],$(_0xe26f03(0x402))[_0xe26f03(0x1bb)]=_0x4205fe['A_long'],$(_0xe26f03(0x2e4))[_0xe26f03(0x1bb)]=_0x3b4587[_0xe26f03(0x474)],$('#set_interval')[_0xe26f03(0x1bb)]=_0x3b4587[_0xe26f03(0x310)];}else{if(editingPreset==='B'){$(_0xe26f03(0x1c6))[_0xe26f03(0x1bb)]=_0x4205fe[_0xe26f03(0x26f)];if($(_0xe26f03(0x3e0)))$('#set_winddown')[_0xe26f03(0x1bb)]=_0x4205fe[_0xe26f03(0x269)]??0x0;$(_0xe26f03(0x386))[_0xe26f03(0x1bb)]=_0x4205fe[_0xe26f03(0x311)],$(_0xe26f03(0x402))[_0xe26f03(0x1bb)]=_0x4205fe[_0xe26f03(0x33e)],$('#set_cycles')[_0xe26f03(0x1bb)]=_0x3b4587[_0xe26f03(0x2dd)],$(_0xe26f03(0x430))[_0xe26f03(0x1bb)]=_0x3b4587['longBreakIntervalB'];}else{if(editingPreset==='C'){const _0x32f735=$(_0xe26f03(0x2c5));if(_0x32f735)_0x32f735[_0xe26f03(0x1bb)]=_0x3b4587[_0xe26f03(0x37e)]??0x5;}}}}function highlightPresetSelector(){const _0x53eb6a=_0x2d92ab;$$(_0x53eb6a(0x19b))['forEach'](_0x2e17d5=>{const _0x43e2bc=_0x53eb6a,_0xb2d4d0=_0x2e17d5['dataset']['presetTarget']===editingPreset;_0x2e17d5[_0x43e2bc(0x300)][_0x43e2bc(0x38e)]('acc',_0xb2d4d0),_0x2e17d5[_0x43e2bc(0x300)]['toggle'](_0x43e2bc(0x49a),!_0xb2d4d0);});}function openSettings(){const _0x5264e9=_0x2d92ab,_0x1fbbb7=data[_0x5264e9(0x3cc)];editingPreset=_0x1fbbb7[_0x5264e9(0x1d0)],$(_0x5264e9(0x3a9))[_0x5264e9(0x1bb)]=_0x1fbbb7[_0x5264e9(0x240)]||'',loadEditingPresetFields(),highlightPresetSelector(),$(_0x5264e9(0x301))[_0x5264e9(0x1bb)]=_0x1fbbb7[_0x5264e9(0x31f)]??0.8,$(_0x5264e9(0x2e0))[_0x5264e9(0x1bb)]=_0x1fbbb7[_0x5264e9(0x286)]||_0x5264e9(0x450),$(_0x5264e9(0x1a1))[_0x5264e9(0x1bb)]=_0x1fbbb7[_0x5264e9(0x46f)]||_0x5264e9(0x466);const _0x113b39=getActiveYoutubeUrl();$(_0x5264e9(0x2e5))['value']=_0x113b39||'';const _0x10c69c=extractYouTubeID(_0x113b39);$(_0x5264e9(0x376))[_0x5264e9(0x3f0)]=!_0x10c69c;$('#ytUrlFeedback')&&($(_0x5264e9(0x3a7))[_0x5264e9(0x3ef)]='');$(_0x5264e9(0x440))[_0x5264e9(0x1bb)]=_0x1fbbb7[_0x5264e9(0x287)]||0x50,$(_0x5264e9(0x24f))['checked']=!!_0x1fbbb7[_0x5264e9(0x3c7)],$(_0x5264e9(0x207))[_0x5264e9(0x1bb)]=_0x1fbbb7['panelOpacity']||0.85;$('#set_backgroundMode')&&($(_0x5264e9(0x345))[_0x5264e9(0x1bb)]=_0x1fbbb7['backgroundMode']||_0x5264e9(0x2cd));$('#set_autoStartNext')&&($(_0x5264e9(0x292))[_0x5264e9(0x3a5)]=!!_0x1fbbb7[_0x5264e9(0x1b3)]);$(_0x5264e9(0x20a))&&($(_0x5264e9(0x20a))[_0x5264e9(0x3a5)]=_0x1fbbb7[_0x5264e9(0x36a)]!==![]);$('#set_enableSessionNotes')&&($(_0x5264e9(0x198))[_0x5264e9(0x3a5)]=_0x1fbbb7['enableSessionNotes']!==![]);$(_0x5264e9(0x342))&&($(_0x5264e9(0x342))['value']=_0x1fbbb7[_0x5264e9(0x395)]||0x7);const _0x121c0c=$(_0x5264e9(0x226));_0x121c0c&&storageManager[_0x5264e9(0x3d5)]()[_0x5264e9(0x186)](_0x43ea91=>{const _0x3880eb=_0x5264e9;_0x121c0c[_0x3880eb(0x200)]=_0x3880eb(0x36b),_0x43ea91&&_0x43ea91[_0x3880eb(0x1ae)]>0x0?_0x43ea91[_0x3880eb(0x467)](_0x3f4094=>{const _0x306dd9=_0x3880eb,_0x10dc0f=document[_0x306dd9(0x2e2)](_0x306dd9(0x2f0));_0x10dc0f['value']=_0x3f4094[_0x306dd9(0x375)],_0x10dc0f[_0x306dd9(0x3ef)]=_0x306dd9(0x45a)+new Date(_0x3f4094[_0x306dd9(0x375)])[_0x306dd9(0x25d)]('vi-VN'),_0x121c0c[_0x306dd9(0x499)](_0x10dc0f);}):_0x121c0c[_0x3880eb(0x200)]=_0x3880eb(0x289);});$(_0x5264e9(0x470))[_0x5264e9(0x300)][_0x5264e9(0x31c)](_0x5264e9(0x257));try{trapFocus($('#modalSettings'));}catch(_0x6537ed){}}function closeSettings(){const _0x3c156f=_0x2d92ab;$('#modalSettings')['classList'][_0x3c156f(0x21c)](_0x3c156f(0x257));try{releaseFocus();}catch(_0x4bb2c1){}}async function setDefaults(){const _0x545194=_0x2d92ab;data['settings'][_0x545194(0x1d7)]={'A_work':0x19,'A_short':0x5,'A_long':0xf,'A_winddown':0x2,'B_work':0x32,'B_short':0xa,'B_long':0x1e,'B_winddown':0x5},data['settings'][_0x545194(0x474)]=0x4,data['settings'][_0x545194(0x310)]=0x4,data['settings']['cyclesB']=0x4,data[_0x545194(0x3cc)][_0x545194(0x43b)]=0x4,data[_0x545194(0x3cc)][_0x545194(0x37e)]=0x5,data[_0x545194(0x3cc)]['preset']='A',data[_0x545194(0x3cc)][_0x545194(0x31f)]=0.8,data[_0x545194(0x3cc)][_0x545194(0x286)]=_0x545194(0x450),await saveData(),openSettings(),toast('ƒê√£\x20kh√¥i\x20ph·ª•c\x20m·∫∑c\x20ƒë·ªãnh');}async function saveSettings(){const _0xd2ee61=_0x2d92ab,_0x18b1c9=data[_0xd2ee61(0x3cc)];_0x18b1c9[_0xd2ee61(0x240)]=$('#set_apiKey')[_0xd2ee61(0x1bb)]['trim']();const _0x159a2a=_0x18b1c9[_0xd2ee61(0x1d7)];if(editingPreset==='A')_0x159a2a[_0xd2ee61(0x423)]=clampInt($('#set_work')[_0xd2ee61(0x1bb)],0x1,0x3e7),_0x159a2a[_0xd2ee61(0x3c8)]=clampInt($(_0xd2ee61(0x3e0))[_0xd2ee61(0x1bb)],0x0,0x3e7),_0x159a2a[_0xd2ee61(0x19f)]=clampInt($('#set_short')['value'],0x1,0x3e7),_0x159a2a[_0xd2ee61(0x251)]=clampInt($(_0xd2ee61(0x402))[_0xd2ee61(0x1bb)],0x1,0x3e7),_0x18b1c9[_0xd2ee61(0x474)]=clampInt($(_0xd2ee61(0x2e4))[_0xd2ee61(0x1bb)],0x1,0xc),_0x18b1c9['longBreakIntervalA']=clampInt($('#set_interval')[_0xd2ee61(0x1bb)],0x2,0xc);else{if(editingPreset==='B')_0x159a2a[_0xd2ee61(0x26f)]=clampInt($(_0xd2ee61(0x1c6))['value'],0x1,0x3e7),_0x159a2a[_0xd2ee61(0x269)]=clampInt($('#set_winddown')[_0xd2ee61(0x1bb)],0x0,0x3e7),_0x159a2a['B_short']=clampInt($('#set_short')['value'],0x1,0x3e7),_0x159a2a[_0xd2ee61(0x33e)]=clampInt($(_0xd2ee61(0x402))[_0xd2ee61(0x1bb)],0x1,0x3e7),_0x18b1c9[_0xd2ee61(0x2dd)]=clampInt($(_0xd2ee61(0x2e4))[_0xd2ee61(0x1bb)],0x1,0xc),_0x18b1c9['longBreakIntervalB']=clampInt($('#set_interval')[_0xd2ee61(0x1bb)],0x2,0xc);else{if(editingPreset==='C'){const _0x2648c4=$(_0xd2ee61(0x2c5));if(_0x2648c4)_0x18b1c9[_0xd2ee61(0x37e)]=clampInt(_0x2648c4[_0xd2ee61(0x1bb)],0x1,0x14);}}}_0x18b1c9[_0xd2ee61(0x31f)]=clampFloat($(_0xd2ee61(0x301))[_0xd2ee61(0x1bb)],0x0,0x1,0.8),_0x18b1c9['soundTheme']=$(_0xd2ee61(0x2e0))[_0xd2ee61(0x1bb)]==='chime'?_0xd2ee61(0x3e1):'beep',_0x18b1c9['theme']=$(_0xd2ee61(0x1a1))[_0xd2ee61(0x1bb)],_0x18b1c9[_0xd2ee61(0x45d)]=parseFloat($(_0xd2ee61(0x207))[_0xd2ee61(0x1bb)])||0.85;$(_0xd2ee61(0x345))&&(_0x18b1c9['backgroundMode']=$(_0xd2ee61(0x345))[_0xd2ee61(0x1bb)]);_0x18b1c9[_0xd2ee61(0x1b3)]=!!($(_0xd2ee61(0x292))&&$(_0xd2ee61(0x292))[_0xd2ee61(0x3a5)]),_0x18b1c9['enableWinddown']=!!($('#set_enableWinddown')&&$(_0xd2ee61(0x20a))[_0xd2ee61(0x3a5)]),_0x18b1c9[_0xd2ee61(0x489)]=!!($(_0xd2ee61(0x198))&&$(_0xd2ee61(0x198))[_0xd2ee61(0x3a5)]);$('#set_backupDays')&&(_0x18b1c9[_0xd2ee61(0x395)]=clampInt($(_0xd2ee61(0x342))['value'],0x1,0x1e));_0x18b1c9[_0xd2ee61(0x46f)]===_0xd2ee61(0x2a1)||_0x18b1c9[_0xd2ee61(0x46f)]===_0xd2ee61(0x1a7)?(_0x18b1c9[_0xd2ee61(0x3c7)]=![],typeof _0x18b1c9[_0xd2ee61(0x45e)]===_0xd2ee61(0x2ba)&&_0x18b1c9[_0xd2ee61(0x45e)][_0xd2ee61(0x3cb)](_0xd2ee61(0x25f))&&(_0x18b1c9[_0xd2ee61(0x45e)]='')):_0x18b1c9[_0xd2ee61(0x3c7)]=!![];const _0x4da3cd=$(_0xd2ee61(0x2e5))[_0xd2ee61(0x1bb)][_0xd2ee61(0x265)]();_0x18b1c9['useYtThumbnailAsBg']=$('#set_ytThumbAsBg')['checked'],_0x18b1c9[_0xd2ee61(0x287)]=parseInt($(_0xd2ee61(0x440))[_0xd2ee61(0x1bb)],0xa),sessionYoutubeUrl=_0x4da3cd;try{if(!IS_FILE_PROTOCOL){if(ytPlayer&&ytPlayer['setVolume'])ytPlayer[_0xd2ee61(0x498)](_0x18b1c9['youtubeVolume']);}else try{fallbackPostMessage(_0xd2ee61(0x498),[_0x18b1c9['youtubeVolume']]);}catch(_0x13db50){}}catch(_0x19ab6c){}await saveData(),applyTheme(),applyCustomBg(),applyPanelOpacity(),updatePresetButtonsText(),timer[_0xd2ee61(0x34d)](_0x18b1c9[_0xd2ee61(0x1d0)],{'silent':!![]}),closeSettings(),toast(_0xd2ee61(0x190));}function clampInt(_0x2ec4f6,_0x37aaba,_0x1cc380){const _0x32b78c=_0x2d92ab;_0x2ec4f6=parseInt(_0x2ec4f6||0x0,0xa);if(isNaN(_0x2ec4f6))_0x2ec4f6=_0x37aaba;return Math[_0x32b78c(0x248)](_0x37aaba,Math[_0x32b78c(0x28f)](_0x1cc380,_0x2ec4f6));}function clampFloat(_0xbaa6c9,_0x244700,_0x1e0331,_0x31192b){const _0x3caeae=_0x2d92ab;_0xbaa6c9=parseFloat(_0xbaa6c9);if(Number[_0x3caeae(0x381)](_0xbaa6c9))_0xbaa6c9=_0x31192b;return Math[_0x3caeae(0x248)](_0x244700,Math[_0x3caeae(0x28f)](_0x1e0331,_0xbaa6c9));}const dbPromise=new Promise((_0x281b45,_0x35e6bc)=>{const _0x7ba8b0=_0x2d92ab,_0x20ce2a=indexedDB['open'](_0x7ba8b0(0x38c),0x1);_0x20ce2a[_0x7ba8b0(0x41b)]=_0x9bc9c=>_0x9bc9c[_0x7ba8b0(0x26b)][_0x7ba8b0(0x263)]['createObjectStore']('files'),_0x20ce2a['onsuccess']=_0x3787f0=>_0x281b45(_0x3787f0['target'][_0x7ba8b0(0x263)]),_0x20ce2a[_0x7ba8b0(0x47e)]=_0x2557ee=>_0x35e6bc(_0x2557ee);}),fileCache={};function handleFileUpload(_0x3c017f,_0x520c5e){if(!_0x3c017f)return;dbPromise['then'](_0x647a9d=>{const _0x2c4361=_0x50e5,_0x5c6c53=uid(_0x2c4361(0x2b7)),_0x18528d=_0x647a9d['transaction'](_0x2c4361(0x3b1),'readwrite');_0x18528d['objectStore'](_0x2c4361(0x3b1))[_0x2c4361(0x299)](_0x3c017f,_0x5c6c53),_0x18528d['oncomplete']=()=>_0x520c5e(_0x5c6c53),_0x18528d['onerror']=()=>toast('L·ªói\x20l∆∞u\x20file.');});}function getStoredFileUrl(_0x232b1f){const _0x35c27e=_0x2d92ab;if(!_0x232b1f)return Promise[_0x35c27e(0x2a8)]('');if(fileCache[_0x232b1f])return Promise[_0x35c27e(0x2a8)](fileCache[_0x232b1f]);return dbPromise[_0x35c27e(0x186)](_0x26cdb2=>new Promise(_0x2053fb=>{const _0x2d134f=_0x35c27e,_0x250475=_0x26cdb2['transaction'](_0x2d134f(0x3b1),'readonly'),_0x173055=_0x250475[_0x2d134f(0x1a4)](_0x2d134f(0x3b1))[_0x2d134f(0x370)](_0x232b1f);_0x173055['onsuccess']=_0x524d63=>{const _0x1e66d0=_0x2d134f,_0x23a324=_0x524d63[_0x1e66d0(0x26b)][_0x1e66d0(0x263)];if(_0x23a324){const _0x29b2e2=URL['createObjectURL'](_0x23a324);fileCache[_0x232b1f]=_0x29b2e2,_0x2053fb(_0x29b2e2);}else _0x2053fb('');},_0x173055[_0x2d134f(0x47e)]=()=>_0x2053fb('');}));}function applyCustomBg(){const _0x506983=_0x2d92ab,_0x3727d2=data['settings'],_0x220c5f=_0x3727d2['customBg'],_0x506b87=_0x3727d2[_0x506983(0x46f)],_0xbe49ad=[_0x506983(0x245),_0x506983(0x32c)]['includes'](_0x506b87),_0xebb919=_0x506b87===_0x506983(0x2a1)||_0x506b87===_0x506983(0x1a7),_0x1896c9=_0x3727d2[_0x506983(0x1f7)]||'cover';document[_0x506983(0x3e7)][_0x506983(0x34c)][_0x506983(0x1fe)]=_0x1896c9,document[_0x506983(0x3e7)][_0x506983(0x34c)][_0x506983(0x2ee)]=_0x1896c9==='auto'?_0x506983(0x41e):'no-repeat';const _0x1b1d71=()=>{const _0x3be11d=_0x506983;try{document[_0x3be11d(0x3e7)][_0x3be11d(0x34c)][_0x3be11d(0x338)]='';}catch(_0x4738b9){}};if(_0x220c5f){const _0x1eff9c=_0x220c5f[_0x506983(0x1ce)](_0x506983(0x2dc))||_0x220c5f[_0x506983(0x1ce)](_0x506983(0x377))||_0x220c5f[_0x506983(0x1ce)](_0x506983(0x414))?Promise['resolve'](_0x220c5f):getStoredFileUrl(_0x220c5f);_0x1eff9c[_0x506983(0x186)](_0x272ec5=>{const _0xbe279a=_0x506983;_0x272ec5?document[_0xbe279a(0x3e7)][_0xbe279a(0x34c)]['setProperty']('--bg-image',_0xbe279a(0x3df)+_0x272ec5+')'):document[_0xbe279a(0x3e7)]['style'][_0xbe279a(0x40e)](_0xbe279a(0x21e),_0xebb919?'none':''),_0x1b1d71();});}else!_0xbe49ad?_0xebb919?(document[_0x506983(0x3e7)]['style'][_0x506983(0x40e)](_0x506983(0x21e),_0x506983(0x35d)),_0x1b1d71()):document[_0x506983(0x3e7)]['style'][_0x506983(0x40e)](_0x506983(0x21e),_0x506983(0x1d5)):(document[_0x506983(0x3e7)]['style']['removeProperty']('--bg-image'),_0x1b1d71());}function applyPanelOpacity(){const _0x2db5d0=_0x2d92ab;document[_0x2db5d0(0x297)][_0x2db5d0(0x34c)][_0x2db5d0(0x40e)](_0x2db5d0(0x28e),data[_0x2db5d0(0x3cc)][_0x2db5d0(0x45d)]);}function renderDashboard(){const _0x57b839=_0x2d92ab,_0x405fda=data[_0x57b839(0x268)]['flatMap'](_0x5581cc=>_0x5581cc[_0x57b839(0x25e)][_0x57b839(0x394)](_0x3ca35e=>({'topic':_0x5581cc['name'],'subtopic':_0x3ca35e[_0x57b839(0x418)],'m':_0x3ca35e[_0x57b839(0x1b8)]['totalMinutes']||0x0,'c':_0x3ca35e['stats'][_0x57b839(0x337)]||0x0,'t':_0x3ca35e['stats'][_0x57b839(0x180)]||0x0}))),_0xa3d3ad=_0x405fda[_0x57b839(0x31b)]((_0x477219,_0x42068f)=>_0x477219+_0x42068f['m'],0x0),_0x3433bc=_0x405fda[_0x57b839(0x31b)]((_0x4ba439,_0x434385)=>_0x4ba439+_0x434385['c'],0x0),_0x1ac9e5=_0x405fda[_0x57b839(0x31b)]((_0xb0925c,_0x3e351d)=>_0xb0925c+_0x3e351d['t'],0x0);let _0x2b5a2e='<p\x20class=\x22tiny\x22><strong>T·ªïng\x20th·ªùi\x20gian:</strong>\x20'+formatDaysHoursMinutes(_0xa3d3ad)+_0x57b839(0x48a)+_0x3433bc+_0x57b839(0x422)+_0x1ac9e5+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22dashboard-table\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead><tr><th>Ch·ªß\x20ƒë·ªÅ</th><th>Ch·ªß\x20ƒë·ªÅ\x20con</th><th>Th·ªùi\x20gian</th><th>Phi√™n</th><th>Nhi·ªám\x20v·ª•</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>';_0x405fda[_0x57b839(0x467)](_0x50331c=>{const _0x21492f=_0x57b839;_0x2b5a2e+=_0x21492f(0x4a0)+escapeHTML(_0x50331c[_0x21492f(0x41f)])+_0x21492f(0x485)+escapeHTML(_0x50331c['subtopic'])+_0x21492f(0x485)+formatDaysHoursMinutes(_0x50331c['m'])+_0x21492f(0x485)+_0x50331c['c']+'</td><td>'+_0x50331c['t']+_0x21492f(0x3f7);}),_0x2b5a2e+=_0x57b839(0x477);const _0x39f5a3=$(_0x57b839(0x282));if(_0x39f5a3)_0x39f5a3['innerHTML']=_0x2b5a2e;}function getMilestones(){const _0x3a71e4=_0x2d92ab;return[{'hours':0x5,'title':'G·ª≠i\x20b·∫°n,\x205\x20gi·ªù\x20ƒë·∫ßu\x20ti√™n\x20(Kh·ªüi\x20ƒë·ªông)','message':_0x3a71e4(0x480)},{'hours':0x14,'title':_0x3a71e4(0x1d6),'message':_0x3a71e4(0x20f)},{'hours':0x32,'title':_0x3a71e4(0x43e),'message':_0x3a71e4(0x2a9)},{'hours':0x64,'title':_0x3a71e4(0x22a),'message':_0x3a71e4(0x202)},{'hours':0xfa,'title':'G·ª≠i\x20b·∫°n,\x20250\x20gi·ªù\x20(B·ªÅn\x20b·ªâ)','message':_0x3a71e4(0x1fb)},{'hours':0x1f4,'title':'G·ª≠i\x20b·∫°n,\x20500\x20gi·ªù\x20(Chuy√™n\x20t√¢m)','message':_0x3a71e4(0x346)},{'hours':0x3e8,'title':_0x3a71e4(0x2d9),'message':'Ch√†o\x20m·ª´ng\x20ƒë·∫øn\x20C√¢u\x20l·∫°c\x20b·ªô\x201000\x20gi·ªù.\x0a\x0aCon\x20s·ªë\x20n√†y\x20kh√¥ng\x20ch·ªâ\x20ƒëo\x20l∆∞·ªùng\x20th·ªùi\x20gian,\x20n√≥\x20ƒë·∫°i\x20di·ªán\x20cho\x20s·ª±\x20chuy·ªÉn\x20h√≥a.\x20S·ª±\x20t·∫≠p\x20trung\x20ƒë√£\x20tr·ªü\x20th√†nh\x20m·ªôt\x20ph·∫ßn\x20con\x20ng∆∞·ªùi\x20b·∫°n,\x20m·ªôt\x20\x27si√™u\x20nƒÉng\x20l·ª±c\x27\x20b·∫°n\x20c√≥\x20th·ªÉ\x20tri·ªáu\x20h·ªìi.\x20H√†nh\x20tr√¨nh\x20c·ªßa\x20b·∫°n\x20th·ª±c\x20s·ª±\x20truy·ªÅn\x20c·∫£m\x20h·ª©ng.'},{'hours':0x1388,'title':'G·ª≠i\x20b·∫°n,\x205.000+\x20gi·ªù\x20(Di\x20s·∫£n)','message':_0x3a71e4(0x22b)}]['sort']((_0x2708cf,_0x595fb6)=>_0x595fb6['hours']-_0x2708cf[_0x3a71e4(0x32e)]);}async function checkAndShowMilestones(){const _0x9c5888=_0x2d92ab;if(!data||!data[_0x9c5888(0x3cc)])return;if(!Array['isArray'](data[_0x9c5888(0x3cc)][_0x9c5888(0x385)]))data[_0x9c5888(0x3cc)]['achievedMilestones']=[];const _0xfd1647=data[_0x9c5888(0x268)][_0x9c5888(0x31b)]((_0x2f8a7e,_0x52b6ea)=>{const _0xc5478b=_0x9c5888;return _0x2f8a7e+_0x52b6ea[_0xc5478b(0x25e)][_0xc5478b(0x31b)]((_0xcf81f4,_0x7dac49)=>{const _0x23cdfe=_0xc5478b;return _0xcf81f4+(_0x7dac49['stats'][_0x23cdfe(0x444)]||0x0);},0x0);},0x0),_0xcfef8=_0xfd1647/0x3c,_0x3f6576=getMilestones(),_0x354d4c=Array[_0x9c5888(0x1ac)](data['settings']['achievedMilestones'])?data[_0x9c5888(0x3cc)][_0x9c5888(0x385)]:[],_0x305eed=_0x3f6576[_0x9c5888(0x280)](_0x17fed9=>_0xcfef8>=_0x17fed9[_0x9c5888(0x32e)]&&!_0x354d4c[_0x9c5888(0x3cb)](_0x17fed9['hours']));if(_0x305eed[_0x9c5888(0x1ae)]===0x0)return![];const _0x5aee70=_0x305eed[_0x9c5888(0x31b)]((_0x122558,_0x22f1bf)=>_0x122558&&_0x122558[_0x9c5888(0x32e)]>_0x22f1bf[_0x9c5888(0x32e)]?_0x122558:_0x22f1bf,null);if(!_0x5aee70)return![];$(_0x9c5888(0x2ce))['textContent']=_0x5aee70['title'],$('#milestoneMessage')[_0x9c5888(0x3ef)]=_0x5aee70[_0x9c5888(0x27e)],$(_0x9c5888(0x2b5))['classList'][_0x9c5888(0x31c)]('show');try{trapFocus($(_0x9c5888(0x2b5)));}catch(_0x42b69c){}return data[_0x9c5888(0x3cc)]['achievedMilestones'][_0x9c5888(0x369)](_0x5aee70[_0x9c5888(0x32e)]),await saveData(),!![];}async function seedAchievedMilestones(){const _0x5e78f8=_0x2d92ab;if(!data||!data[_0x5e78f8(0x3cc)])return;!Array[_0x5e78f8(0x1ac)](data[_0x5e78f8(0x3cc)][_0x5e78f8(0x385)])&&(data[_0x5e78f8(0x3cc)][_0x5e78f8(0x385)]=[],await saveData());}async function handleSendMessage(){const _0x274f14=_0x2d92ab,_0x88b928=$(_0x274f14(0x183)),_0x30ff33=$(_0x274f14(0x31e)),_0x3d6d34=_0x30ff33[_0x274f14(0x1bb)][_0x274f14(0x265)](),_0x1b2969=getCurrentSubtopic();if(!_0x3d6d34)return;if(!_0x1b2969){toast(t(_0x274f14(0x238)));return;}_0x30ff33[_0x274f14(0x1bb)]='',_0x88b928['disabled']=!![],_0x88b928[_0x274f14(0x200)]='<div\x20class=\x22spinner\x22></div>',_0x1b2969[_0x274f14(0x321)][_0x274f14(0x369)]({'role':_0x274f14(0x28b),'text':_0x3d6d34}),renderChat();const _0x12075b=await callGeminiAPI(_0x3d6d34);_0x12075b&&(_0x1b2969[_0x274f14(0x321)][_0x274f14(0x369)]({'role':_0x274f14(0x44c),'text':_0x12075b}),await saveData(),renderChat()),_0x88b928['disabled']=![],_0x88b928[_0x274f14(0x200)]=_0x274f14(0x42f);}function renderChat(){const _0x251b6b=_0x2d92ab,_0x508368=getCurrentSubtopic(),_0x45589b=$(_0x251b6b(0x288)),_0x18266a=$(_0x251b6b(0x31e)),_0x378bd8=$(_0x251b6b(0x183));if(!_0x45589b||!_0x18266a||!_0x378bd8)return;if(!_0x508368){_0x45589b[_0x251b6b(0x200)]=_0x251b6b(0x409),_0x18266a[_0x251b6b(0x3f0)]=!![],_0x378bd8[_0x251b6b(0x3f0)]=!![];return;}_0x18266a[_0x251b6b(0x3f0)]=![],_0x378bd8[_0x251b6b(0x3f0)]=![],_0x45589b['innerHTML']='';if(!_0x508368[_0x251b6b(0x321)]||_0x508368[_0x251b6b(0x321)][_0x251b6b(0x1ae)]===0x0){_0x45589b['innerHTML']='<div\x20class=\x22tiny\x22>Ch∆∞a\x20c√≥\x20tin\x20nh·∫Øn\x20n√†o.</div>';return;}_0x508368[_0x251b6b(0x321)]['forEach'](_0xe8babd=>{const _0x207d0b=_0x251b6b,_0x4ef605=document[_0x207d0b(0x2e2)]('div');_0x4ef605[_0x207d0b(0x45f)]=_0x207d0b(0x491)+_0xe8babd[_0x207d0b(0x2f2)],_0x4ef605[_0x207d0b(0x3ef)]=_0xe8babd[_0x207d0b(0x3d1)],_0x45589b[_0x207d0b(0x499)](_0x4ef605);}),_0x45589b[_0x251b6b(0x3de)]=_0x45589b[_0x251b6b(0x1c4)];}async function handleSummarizeNote(){const _0x250bf2=_0x2d92ab,_0x5e06b8=$(_0x250bf2(0x457)),_0x8cedd7=$(_0x250bf2(0x247)),_0x498773=_0x8cedd7[_0x250bf2(0x1bb)][_0x250bf2(0x265)](),_0x42492f=getCurrentSubtopic();if(!_0x498773){toast(_0x250bf2(0x199));return;}const _0x4e2b4f=_0x5e06b8[_0x250bf2(0x200)];_0x5e06b8[_0x250bf2(0x200)]=_0x250bf2(0x27a),_0x5e06b8[_0x250bf2(0x3f0)]=!![];const _0x500f39=_0x250bf2(0x436)+(_0x42492f?.['name']||_0x250bf2(0x30b))+'\x22\x0a-\x20Ghi\x20ch√∫\x20c·ªßa\x20ng∆∞·ªùi\x20d√πng\x20sau\x20m·ªôt\x20phi√™n\x20l√†m\x20vi·ªác:\x20\x22'+_0x498773+'\x22\x0a\x0aH√£y\x20t·∫°o\x20m·ªôt\x20b·∫£n\x20t√≥m\x20t·∫Øt\x20ng·∫Øn\x20g·ªçn\x20v·ªÅ\x20nh·ªØng\x20g√¨\x20ƒë√£\x20l√†m\x20v√†\x20ƒë·ªÅ\x20xu·∫•t\x20m·ªôt\x20b∆∞·ªõc\x20h·ª£p\x20l√Ω\x20ti·∫øp\x20theo.\x20ƒê·ªãnh\x20d·∫°ng\x20c√¢u\x20tr·∫£\x20l·ªùi\x20nh∆∞\x20sau:\x0a\x0a---\x0a**‚ú®\x20T√≥m\x20t·∫Øt\x20AI:**\x0a[T√≥m\x20t·∫Øt\x20·ªü\x20ƒë√¢y]\x0a\x0a**üöÄ\x20G·ª£i\x20√Ω\x20ti·∫øp\x20theo:**\x0a[G·ª£i\x20√Ω\x20·ªü\x20ƒë√¢y]',_0x7edf84=await callGeminiAPI(_0x500f39);_0x7edf84&&(_0x8cedd7[_0x250bf2(0x1bb)]+='\x0a\x0a'+_0x7edf84),_0x5e06b8[_0x250bf2(0x200)]=_0x4e2b4f,_0x5e06b8[_0x250bf2(0x3f0)]=![];}function clearChat(){const _0x1b4016=_0x2d92ab,_0x39d2b7=getCurrentSubtopic();if(!_0x39d2b7){toast(t(_0x1b4016(0x238)));return;}showConfirmModal(_0x1b4016(0x351),'B·∫°n\x20c√≥\x20ch·∫Øc\x20mu·ªën\x20x√≥a\x20to√†n\x20b·ªô\x20l·ªãch\x20s·ª≠\x20chat\x20c·ªßa\x20ch·ªß\x20ƒë·ªÅ\x20con\x20n√†y?',async _0xcba94c=>{const _0x2285ba=_0x1b4016;_0xcba94c&&(_0x39d2b7[_0x2285ba(0x321)]=[],await saveData(),renderChat(),toast(_0x2285ba(0x389)));});}let ytPlayer,ytUserPaused=![],ytFallbackFrame=null,ytFallbackIsPlaying=![];function buildFallbackSrc(_0x34da53,{autoplay:autoplay=0x1,mute:mute=0x1}={}){const _0x186fe2=_0x2d92ab,_0x5b57c9=new URLSearchParams({'autoplay':String(autoplay),'mute':String(mute),'controls':'0','playsinline':'1','loop':'1','playlist':_0x34da53,'enablejsapi':'1','origin':_0x186fe2(0x3ff)})['toString']();return _0x186fe2(0x462)+_0x34da53+'?'+_0x5b57c9;}function ensureFallbackFrame(){const _0x27556a=_0x2d92ab,_0x1c23ef=document['getElementById'](_0x27556a(0x2ac));if(!_0x1c23ef)return null;if(ytFallbackFrame&&ytFallbackFrame[_0x27556a(0x478)])return ytFallbackFrame;const _0x4250ed=document[_0x27556a(0x2e2)]('iframe');return _0x4250ed['id']=_0x27556a(0x366),_0x4250ed[_0x27556a(0x40a)]='1',_0x4250ed[_0x27556a(0x3f6)]='1',_0x4250ed[_0x27556a(0x34c)][_0x27556a(0x427)]='absolute',_0x4250ed[_0x27556a(0x34c)][_0x27556a(0x24a)]=_0x27556a(0x365),_0x4250ed[_0x27556a(0x34c)][_0x27556a(0x441)]=_0x27556a(0x365),_0x4250ed[_0x27556a(0x332)]=_0x27556a(0x33a),_0x1c23ef[_0x27556a(0x200)]='',_0x1c23ef['appendChild'](_0x4250ed),ytFallbackFrame=_0x4250ed,_0x4250ed;}function fallbackLoadVideo(_0x6cdc0d,{autoplay:autoplay=0x1,mute:mute=0x1}={}){const _0x584cf1=_0x2d92ab,_0x4a92ea=document[_0x584cf1(0x26a)](_0x584cf1(0x2ac));if(!_0x4a92ea)return;_0x4a92ea[_0x584cf1(0x200)]='';const _0xbfeafb=document[_0x584cf1(0x2e2)](_0x584cf1(0x398));_0xbfeafb['id']=_0x584cf1(0x366),_0xbfeafb[_0x584cf1(0x40a)]='1',_0xbfeafb['height']='1',_0xbfeafb['style'][_0x584cf1(0x427)]=_0x584cf1(0x3f1),_0xbfeafb['style'][_0x584cf1(0x24a)]=_0x584cf1(0x365),_0xbfeafb['style'][_0x584cf1(0x441)]='-9999px',_0xbfeafb[_0x584cf1(0x332)]=_0x584cf1(0x33a),_0xbfeafb[_0x584cf1(0x1eb)]=buildFallbackSrc(_0x6cdc0d,{'autoplay':autoplay,'mute':mute}),_0x4a92ea['appendChild'](_0xbfeafb),ytFallbackFrame=_0xbfeafb,ytFallbackIsPlaying=!!autoplay;try{const _0x54e111=document['getElementById'](_0x584cf1(0x1e7));if(_0x54e111)_0x54e111[_0x584cf1(0x3ef)]=ytFallbackIsPlaying?'‚è∏Ô∏è':'‚ñ∂Ô∏è';}catch(_0x1c9294){}}function fallbackPostMessage(_0x4502cb,_0x345efb=[]){const _0x5e35c7=_0x2d92ab;try{if(!ytFallbackFrame||!ytFallbackFrame[_0x5e35c7(0x262)])return;ytFallbackFrame[_0x5e35c7(0x262)][_0x5e35c7(0x1c7)](JSON['stringify']({'event':_0x5e35c7(0x2bc),'func':_0x4502cb,'args':_0x345efb}),'https://www.youtube.com');}catch(_0x2e31ac){}}function fallbackPlay(){const _0x32285a=_0x2d92ab;fallbackPostMessage(_0x32285a(0x1ea));}function fallbackStop(){const _0x3bc044=_0x2d92ab;try{ytFallbackFrame&&(ytFallbackFrame['src']=_0x3bc044(0x2c2),ytFallbackIsPlaying=![]);}catch(_0x5f3c4d){}}function fallbackPause(){fallbackStop();}function fallbackUnMute(){const _0x10862a=_0x2d92ab;fallbackPostMessage(_0x10862a(0x223));}function fallbackMute(){const _0x56516c=_0x2d92ab;fallbackPostMessage(_0x56516c(0x3a3));}window[_0x2d92ab(0x37b)]=function(){const _0x4e5d2b=_0x2d92ab;if(IS_FILE_PROTOCOL){try{window[_0x4e5d2b(0x357)]&&window['__ytApiWatchdog'][_0x4e5d2b(0x3ce)]();}catch(_0x113f9a){}return;}const _0x3e3b2c={'height':'1','width':'1','playerVars':{'autoplay':0x0,'controls':0x0,'playsinline':0x1},'events':{'onReady':onPlayerReady,'onStateChange':onPlayerStateChange},'host':_0x4e5d2b(0x3ff)};(window[_0x4e5d2b(0x429)][_0x4e5d2b(0x419)]===_0x4e5d2b(0x378)||window['location'][_0x4e5d2b(0x419)]==='https:')&&(_0x3e3b2c[_0x4e5d2b(0x447)]=window[_0x4e5d2b(0x429)][_0x4e5d2b(0x447)]);ytPlayer=new YT[(_0x4e5d2b(0x1f0))](_0x4e5d2b(0x2ac),_0x3e3b2c);try{window[_0x4e5d2b(0x357)]&&window[_0x4e5d2b(0x357)][_0x4e5d2b(0x3ce)]();const _0x5e1680=document[_0x4e5d2b(0x26a)](_0x4e5d2b(0x405));_0x5e1680&&(_0x5e1680['textContent']='');}catch(_0x4c439e){}};let _ytPrimed=![],_ytUnlocked=![];try{_ytUnlocked=localStorage['getItem'](_0x2d92ab(0x492))==='1';}catch(_0x5d34d2){}function showSoundPermission(){const _0x3ad9bb=_0x2d92ab,_0x3c6ddf=document['getElementById'](_0x3ad9bb(0x368));if(!_0x3c6ddf)return;if(_ytUnlocked){_0x3c6ddf[_0x3ad9bb(0x300)]['remove'](_0x3ad9bb(0x257));return;}_0x3c6ddf[_0x3ad9bb(0x300)][_0x3ad9bb(0x31c)](_0x3ad9bb(0x257));}function hideSoundPermission(){const _0x3c0863=_0x2d92ab,_0x6b470a=document[_0x3c0863(0x26a)]('soundPermissionBar');if(!_0x6b470a)return;_0x6b470a[_0x3c0863(0x300)]['remove'](_0x3c0863(0x257));}function unlockAudioChain(){const _0x3bad96=_0x2d92ab;try{if(AUDIO_CTX&&typeof AUDIO_CTX[_0x3bad96(0x20c)]===_0x3bad96(0x44f))AUDIO_CTX[_0x3bad96(0x20c)]();}catch(_0x356fab){}try{if(IS_FILE_PROTOCOL)fallbackUnMute(),fallbackPlay();else ytPlayer&&ytPlayer[_0x3bad96(0x223)]&&(ytPlayer[_0x3bad96(0x223)](),ytPlayer['playVideo']());}catch(_0x216a90){}_ytUnlocked=!![];try{localStorage[_0x3bad96(0x1b0)]('sound_unlocked','1');}catch(_0x18d357){}hideSoundPermission(),toast(_0x3bad96(0x396));}function onPlayerReady(_0x94bd97){const _0x951945=_0x2d92ab;try{const _0x2ec922=ytPlayer&&ytPlayer['getIframe']?ytPlayer[_0x951945(0x37f)]():null;_0x2ec922&&_0x2ec922['setAttribute']('allow',_0x951945(0x33a));}catch(_0x5a6bbb){}try{if(ytPlayer&&ytPlayer['setVolume'])ytPlayer[_0x951945(0x498)](data&&data['settings']&&data[_0x951945(0x3cc)][_0x951945(0x287)]||0x50);}catch(_0x35963b){}try{const _0x2049c2=getActiveVideoId&&getActiveVideoId();if(_0x2049c2&&ytPlayer&&ytPlayer[_0x951945(0x3a3)]&&ytPlayer[_0x951945(0x1ea)]){ytPlayer[_0x951945(0x3a3)](),ytPlayer[_0x951945(0x1ea)](),_ytPrimed=!![];const _0x273918=()=>{const _0x2be479=_0x951945;if(_ytUnlocked)return;try{unlockAudioChain();}catch(_0x4405d0){}window['removeEventListener']('pointerdown',_0x273918,!![]),window['removeEventListener'](_0x2be479(0x32a),_0x273918,!![]);};window[_0x951945(0x22e)](_0x951945(0x185),_0x273918,!![]),window[_0x951945(0x22e)]('keydown',_0x273918,!![]),showSoundPermission();}}catch(_0x361f42){}updateYouTubePlayer();}function onPlayerStateChange(_0x14b555){const _0x4d0b4e=_0x2d92ab,_0x52c7f1=$(_0x4d0b4e(0x376));_0x14b555[_0x4d0b4e(0x3f8)]==YT[_0x4d0b4e(0x380)][_0x4d0b4e(0x3fc)]?(_0x52c7f1[_0x4d0b4e(0x3ef)]='‚è∏Ô∏è',hideSoundPermission()):_0x52c7f1[_0x4d0b4e(0x3ef)]='‚ñ∂Ô∏è';if(_0x14b555[_0x4d0b4e(0x3f8)]===YT[_0x4d0b4e(0x380)][_0x4d0b4e(0x434)]){if(!ytUserPaused)ytPlayer[_0x4d0b4e(0x1ea)]();}}async function ytFadeTo(_0x160c20,_0x2e1eb4=0xfa){const _0x5a2bf1=_0x2d92ab;try{if(!ytPlayer||!ytPlayer[_0x5a2bf1(0x2c6)]||!ytPlayer['setVolume'])return;ytPlayer[_0x5a2bf1(0x223)]();const _0x1d94bf=ytPlayer[_0x5a2bf1(0x2c6)](),_0x199800=_0x160c20-_0x1d94bf;if(Math[_0x5a2bf1(0x2be)](_0x199800)<0x1||_0x2e1eb4<=0x0){ytPlayer[_0x5a2bf1(0x498)](_0x160c20);return;}const _0x39926c=performance[_0x5a2bf1(0x340)]();await new Promise(_0x5507f0=>{const _0x449fa9=_0x247e25=>{const _0x7c4f4=_0x50e5,_0x296efb=Math[_0x7c4f4(0x28f)](0x1,(_0x247e25-_0x39926c)/_0x2e1eb4),_0xda9e4a=Math['round'](_0x1d94bf+_0x199800*_0x296efb);ytPlayer['setVolume'](_0xda9e4a);if(_0x296efb<0x1)requestAnimationFrame(_0x449fa9);else _0x5507f0();};requestAnimationFrame(_0x449fa9);});}catch(_0x28d07f){}}async function ytFadeInPlay(_0x4cb11f=0xdc){const _0x48a9e8=_0x2d92ab;try{const _0x2603e9=Math[_0x48a9e8(0x248)](0x0,Math[_0x48a9e8(0x28f)](0x64,data&&data[_0x48a9e8(0x3cc)]&&data[_0x48a9e8(0x3cc)][_0x48a9e8(0x287)]||0x50));if(!IS_FILE_PROTOCOL){if(!ytPlayer)return;ytPlayer[_0x48a9e8(0x223)](),ytPlayer[_0x48a9e8(0x1ea)]();try{ytPlayer[_0x48a9e8(0x498)](0x0);}catch(_0x1fe0f4){}await ytFadeTo(_0x2603e9,_0x4cb11f);}else{const _0x1fab55=getActiveVideoId();_0x1fab55&&fallbackLoadVideo(_0x1fab55,{'autoplay':0x1,'mute':0x0});}}catch(_0x20c18d){}}async function ytFadeOutPause(_0x1131a7=0xb4){const _0x3411d5=_0x2d92ab;try{const _0x4ac3ad=Math[_0x3411d5(0x248)](0x0,Math[_0x3411d5(0x28f)](0x64,data&&data[_0x3411d5(0x3cc)]&&data[_0x3411d5(0x3cc)][_0x3411d5(0x287)]||0x50));if(!IS_FILE_PROTOCOL){if(!ytPlayer)return;await ytFadeTo(0x0,_0x1131a7);try{ytPlayer[_0x3411d5(0x295)](),ytPlayer[_0x3411d5(0x498)](_0x4ac3ad);}catch(_0xc4f0cf){}}else try{fallbackPause();}catch(_0x47fc9a){}}catch(_0x1e9cc6){}}async function updateYouTubePlayer(){const _0x5d753e=_0x2d92ab,_0x227597=getActiveVideoId();if(data[_0x5d753e(0x3cc)]['useYtThumbnailAsBg']&&_0x227597){const _0x3aa45e=_0x5d753e(0x1ff)+_0x227597+'/maxresdefault.jpg',_0x5dcd15=new Image();_0x5dcd15[_0x5d753e(0x2e9)]=async()=>{const _0x257429=_0x5d753e;data['settings'][_0x257429(0x45e)]=_0x3aa45e,await saveData(),applyCustomBg();},_0x5dcd15[_0x5d753e(0x47e)]=async()=>{const _0x24919f=_0x5d753e,_0x30ba2f=_0x24919f(0x1ff)+_0x227597+_0x24919f(0x2f7);data[_0x24919f(0x3cc)]['customBg']=_0x30ba2f,await saveData(),applyCustomBg();},_0x5dcd15[_0x5d753e(0x1eb)]=_0x3aa45e;}else!_0x227597&&(data['settings'][_0x5d753e(0x45e)]='',await saveData(),applyCustomBg());if(IS_FILE_PROTOCOL){if(!_0x227597){fallbackStop(),hideSoundPermission();return;}const _0x5747ca=_ytUnlocked?0x0:0x1;fallbackLoadVideo(_0x227597,{'autoplay':0x1,'mute':_0x5747ca});!_ytUnlocked&&showSoundPermission();return;}if(!ytPlayer||!ytPlayer['cueVideoById']){try{ensureYouTubeAPI();}catch(_0x262d86){}return;}if(!_0x227597){if(ytPlayer[_0x5d753e(0x1b9)])ytPlayer[_0x5d753e(0x1b9)]();hideSoundPermission();return;}ytPlayer[_0x5d753e(0x2ff)](_0x227597),ytPlayer[_0x5d753e(0x498)](data['settings']['youtubeVolume']);}function toggleYtSound(){const _0x3ec29b=_0x2d92ab;if(!_ytUnlocked){try{ensureAudio();}catch(_0x5f0b7a){}try{unlockAudioChain();}catch(_0x211f51){}return;}if(IS_FILE_PROTOCOL){const _0x534fa1=getActiveVideoId();if(!ytFallbackFrame||!ytFallbackFrame[_0x3ec29b(0x478)]){if(!_0x534fa1){toast(_0x3ec29b(0x307));return;}fallbackLoadVideo(_0x534fa1,{'autoplay':0x1,'mute':0x0}),ytFallbackIsPlaying=!![];try{const _0x5bbae2=document[_0x3ec29b(0x26a)](_0x3ec29b(0x1e7));if(_0x5bbae2)_0x5bbae2[_0x3ec29b(0x3ef)]='‚è∏Ô∏è';}catch(_0x41fd8a){}toast(_0x3ec29b(0x472));return;}if(ytFallbackIsPlaying)fallbackPostMessage(_0x3ec29b(0x295)),ytFallbackIsPlaying=![],toast(_0x3ec29b(0x443));else{if(!_0x534fa1){toast(_0x3ec29b(0x307));return;}fallbackPostMessage(_0x3ec29b(0x1ea)),ytFallbackIsPlaying=!![],toast(_0x3ec29b(0x472));}try{const _0x57f9d9=document[_0x3ec29b(0x26a)](_0x3ec29b(0x1e7));if(_0x57f9d9)_0x57f9d9[_0x3ec29b(0x3ef)]=ytFallbackIsPlaying?'‚è∏Ô∏è':'‚ñ∂Ô∏è';}catch(_0x2f991e){}return;}if(!ytPlayer||typeof ytPlayer['getPlayerState']!==_0x3ec29b(0x44f)){try{ensureYouTubeAPI();}catch(_0xf78d47){}return;}const _0x2e8187=ytPlayer[_0x3ec29b(0x242)]();_0x2e8187===YT['PlayerState']['PLAYING']||_0x2e8187===YT[_0x3ec29b(0x380)][_0x3ec29b(0x35f)]?(ytFadeOutPause(),ytUserPaused=!![],toast(_0x3ec29b(0x443))):(ytFadeInPlay(),ytUserPaused=![],toast('ƒêang\x20ph√°t\x20nh·∫°c\x20n·ªÅn...'));}function bindEvents(){const _0x44f7ae=_0x2d92ab;try{const _0x1d87f2=document[_0x44f7ae(0x35a)](_0x44f7ae(0x327));_0x1d87f2&&(_0x1d87f2[_0x44f7ae(0x200)]='H√£y\x20b·∫Øt\x20ƒë·∫ßu\x20b·∫±ng\x20c√°ch\x20ch·ªçn\x20m·ªôt\x20<strong>Ch·ªß\x20ƒë·ªÅ\x20con</strong>\x20ho·∫∑c\x20t·∫°o\x20Ch·ªß\x20ƒë·ªÅ.');}catch(_0x4aef40){}on($(_0x44f7ae(0x364)),_0x44f7ae(0x30e),toggleBackgroundView),on($('#btnMilestoneClose'),_0x44f7ae(0x30e),()=>{const _0x476e9b=_0x44f7ae;$(_0x476e9b(0x2b5))[_0x476e9b(0x300)]['remove']('show');try{releaseFocus();}catch(_0xb741af){}}),on($(_0x44f7ae(0x348)),_0x44f7ae(0x30e),()=>showInputModal('T√™n\x20Ch·ªß\x20ƒë·ªÅ\x20m·ªõi?',async _0x456b7c=>{const _0x5ddb26=_0x44f7ae;if(!_0x456b7c)return;data['topics'][_0x5ddb26(0x369)]({'id':uid('t'),'name':_0x456b7c,'subtopics':[]}),await saveData(),renderTopics();})),on($('#btnExport'),_0x44f7ae(0x30e),()=>storageManager[_0x44f7ae(0x333)](data)),on($('#importFile'),_0x44f7ae(0x1b4),_0xed6ce6=>{const _0x305d0c=_0x44f7ae,_0x585851=_0xed6ce6['target'][_0x305d0c(0x3b1)][0x0];if(!_0x585851)return;storageManager[_0x305d0c(0x42d)](_0x585851)[_0x305d0c(0x186)](async _0x41629d=>{const _0x4f3200=_0x305d0c;data=_0x41629d,normalizeDataStructure(data),await ensureValidSelection(),await seedAchievedMilestones(),toast(_0x4f3200(0x1a6)),renderAll();})['catch'](_0x137c50=>toast(_0x305d0c(0x486)+_0x137c50[_0x305d0c(0x27e)])),_0xed6ce6[_0x305d0c(0x26b)][_0x305d0c(0x1bb)]=null;}),on($(_0x44f7ae(0x2a5)),_0x44f7ae(0x30e),()=>{const _0x189971=_0x44f7ae,_0x505bdc=$(_0x189971(0x226)),_0x8232ea=_0x505bdc?_0x505bdc[_0x189971(0x1bb)]:'';if(!_0x8232ea){toast(_0x189971(0x388));return;}showConfirmModal('X√°c\x20nh·∫≠n\x20ph·ª•c\x20h·ªìi',_0x189971(0x239)+new Date(_0x8232ea)[_0x189971(0x25d)]()+_0x189971(0x420),_0x5ab8cd=>{const _0x8ab681=_0x189971;_0x5ab8cd&&storageManager[_0x8ab681(0x277)](_0x8232ea)[_0x8ab681(0x186)](_0x14e1a2=>{const _0x1833a3=_0x8ab681;data=_0x14e1a2,toast(_0x1833a3(0x3ee)),setTimeout(()=>window['location'][_0x1833a3(0x196)](),0x5dc);})[_0x8ab681(0x49f)](_0x388209=>{const _0x419149=_0x8ab681;toast(_0x419149(0x473)+_0x388209[_0x419149(0x27e)]);});});}),on($('#set_theme_color'),_0x44f7ae(0x1bf),_0x926fc5=>{const _0xcfbf10=_0x44f7ae,_0x47b841=_0x926fc5[_0xcfbf10(0x26b)][_0xcfbf10(0x1bb)];applyTheme(_0x47b841);if(_0x47b841===_0xcfbf10(0x2a1)||_0x47b841==='pastel'){const _0x3c8b52=$(_0xcfbf10(0x24f));_0x3c8b52&&(_0x3c8b52[_0xcfbf10(0x3a5)]=![],toast(_0xcfbf10(0x35e),0x7d0));try{document['body'][_0xcfbf10(0x34c)][_0xcfbf10(0x40e)](_0xcfbf10(0x21e),_0xcfbf10(0x35d));}catch(_0x4c5ae){}}else{const _0x1c5ab6=$(_0xcfbf10(0x24f));_0x1c5ab6&&(_0x1c5ab6[_0xcfbf10(0x3a5)]=!![]);try{updateYouTubePlayer();}catch(_0x20d8f2){}}}),on($('#btnSettings'),_0x44f7ae(0x30e),openSettings),on($(_0x44f7ae(0x236)),_0x44f7ae(0x30e),()=>{const _0x5e5ba4=_0x44f7ae;switchView(_0x5e5ba4(0x268)),$(_0x5e5ba4(0x348))[_0x5e5ba4(0x30e)]();}),on($(_0x44f7ae(0x1f1)),'click',()=>{const _0x3bd308=_0x44f7ae;renderDashboard(),$(_0x3bd308(0x293))[_0x3bd308(0x300)][_0x3bd308(0x31c)](_0x3bd308(0x257));}),on($(_0x44f7ae(0x361)),'click',()=>{const _0x1921c0=_0x44f7ae;$(_0x1921c0(0x293))[_0x1921c0(0x300)][_0x1921c0(0x21c)](_0x1921c0(0x257));}),on($(_0x44f7ae(0x322)),_0x44f7ae(0x30e),closeSettings),on($(_0x44f7ae(0x3b6)),'click',saveSettings),on($(_0x44f7ae(0x1da)),'click',setDefaults),on($(_0x44f7ae(0x3b3)),_0x44f7ae(0x30e),()=>{ensureAudio(),playSound('work_end');}),on($('#btnToggleCustomSounds'),_0x44f7ae(0x30e),_0x2d70ec=>{const _0x1f6dc0=_0x44f7ae;_0x2d70ec['preventDefault']();const _0x52578d=$(_0x1f6dc0(0x188));if(_0x52578d)_0x52578d[_0x1f6dc0(0x300)][_0x1f6dc0(0x38e)](_0x1f6dc0(0x31d));}),on($('#btnSaveNote'),_0x44f7ae(0x30e),async()=>{const _0x492143=_0x44f7ae,_0x558ba7=getCurrentSubtopic();if(!_0x558ba7)return;const _0x44c481=pendingNoteSessionId,_0xa955f5=_0x558ba7[_0x492143(0x479)]['find'](_0x40a69e=>_0x40a69e['id']===_0x44c481);_0xa955f5&&(_0xa955f5[_0x492143(0x495)]=$(_0x492143(0x247))[_0x492143(0x1bb)][_0x492143(0x265)](),await saveData(),renderStatsHistory(),toast(_0x492143(0x3c6))),closeNoteModal();}),on($('#btnSkipNote'),'click',()=>closeNoteModal()),on($(_0x44f7ae(0x3fb)),_0x44f7ae(0x30e),addGeneralNote),on($(_0x44f7ae(0x457)),_0x44f7ae(0x30e),handleSummarizeNote),on($(_0x44f7ae(0x183)),_0x44f7ae(0x30e),handleSendMessage),on($(_0x44f7ae(0x31e)),_0x44f7ae(0x32a),_0xf53919=>{const _0x2ff21f=_0x44f7ae;if(_0xf53919[_0x2ff21f(0x3b5)]==='Enter')handleSendMessage();}),$$(_0x44f7ae(0x234))[_0x44f7ae(0x467)](_0x1d2b7b=>{const _0x37136b=_0x44f7ae;on(_0x1d2b7b,_0x37136b(0x30e),()=>{const _0x960aa4=_0x37136b,_0x3ed8dd=_0x1d2b7b[_0x960aa4(0x336)][_0x960aa4(0x3fe)];$('#chatInput')[_0x960aa4(0x1bb)]=_0x3ed8dd,$(_0x960aa4(0x31e))[_0x960aa4(0x2af)]();});}),on($(_0x44f7ae(0x40d)),_0x44f7ae(0x30e),clearChat),on($('#btnAddSubtopicTask'),_0x44f7ae(0x30e),addSubtopicTask),on($(_0x44f7ae(0x29e)),'keydown',_0x21e1a5=>{if(_0x21e1a5['key']==='Enter')addSubtopicTask();}),on($(_0x44f7ae(0x376)),'click',toggleYtSound),on($('#btnEnableSound'),_0x44f7ae(0x30e),()=>{ensureAudio(),unlockAudioChain();}),on($(_0x44f7ae(0x440)),_0x44f7ae(0x1bf),_0x59e4b2=>{const _0x3ace64=_0x44f7ae,_0x4d51f0=parseInt(_0x59e4b2[_0x3ace64(0x26b)][_0x3ace64(0x1bb)],0xa);ytPlayer&&ytPlayer[_0x3ace64(0x498)]&&ytPlayer['setVolume'](_0x4d51f0);}),on($(_0x44f7ae(0x2e5)),_0x44f7ae(0x1bf),handleYoutubeUrlInput),$$(_0x44f7ae(0x1fa))[_0x44f7ae(0x467)](_0x393e6e=>{const _0x9a1513=_0x44f7ae;_0x393e6e[_0x9a1513(0x22e)](_0x9a1513(0x30e),()=>{const _0x14a243=_0x9a1513,_0x4af52e=_0x393e6e[_0x14a243(0x336)][_0x14a243(0x254)],_0x35bb6e=data?.[_0x14a243(0x3cc)]?.['currentView']||_0x14a243(0x2ec);if(_0x35bb6e===_0x4af52e&&_0x4af52e!==_0x14a243(0x2ec))switchView('timer');else switchView(_0x4af52e);});}),$$(_0x44f7ae(0x49e))[_0x44f7ae(0x467)](_0x36c575=>{const _0x57b7cc=_0x44f7ae;_0x36c575[_0x57b7cc(0x22e)](_0x57b7cc(0x30e),()=>{const _0x32bf3d=_0x57b7cc,_0x590fa9=_0x36c575[_0x32bf3d(0x336)][_0x32bf3d(0x424)],_0x2142e6=_0x36c575[_0x32bf3d(0x3f9)](_0x32bf3d(0x32d));if(!_0x2142e6)return;_0x2142e6[_0x32bf3d(0x260)](_0x32bf3d(0x49e))['forEach'](_0x26c5a5=>_0x26c5a5['classList'][_0x32bf3d(0x21c)](_0x32bf3d(0x314))),_0x36c575[_0x32bf3d(0x300)][_0x32bf3d(0x31c)](_0x32bf3d(0x314)),_0x2142e6[_0x32bf3d(0x260)](_0x32bf3d(0x383))[_0x32bf3d(0x467)](_0x107aa0=>{const _0x3ab61f=_0x32bf3d;_0x107aa0[_0x3ab61f(0x300)]['remove'](_0x3ab61f(0x314)),_0x107aa0[_0x3ab61f(0x34c)][_0x3ab61f(0x3ab)]=_0x3ab61f(0x35d);});const _0x51ebc2=_0x2142e6['querySelector']('#'+_0x590fa9);_0x51ebc2&&(_0x51ebc2['classList'][_0x32bf3d(0x31c)]('active'),_0x51ebc2['style']['display']=_0x32bf3d(0x195),_0x2142e6[_0x32bf3d(0x3f9)](_0x32bf3d(0x470))&&(_0x51ebc2[_0x32bf3d(0x34c)][_0x32bf3d(0x3ab)]=_0x32bf3d(0x3e8)));});});const _0x13ebe3=$(_0x44f7ae(0x46e));function _0x2ab207(_0x3e04e2,_0xe30e46=null){const _0x6b2fad=_0x44f7ae;try{document[_0x6b2fad(0x2d4)](_0x6b2fad(0x428),![],!![]);}catch(_0x59fdb1){}try{document[_0x6b2fad(0x2d4)](_0x3e04e2,![],_0xe30e46);}catch(_0x571023){}if(_0x13ebe3)_0x13ebe3[_0x6b2fad(0x2af)]();}on($(_0x44f7ae(0x481)),'click',()=>_0x2ab207('bold')),on($(_0x44f7ae(0x324)),_0x44f7ae(0x30e),()=>_0x2ab207(_0x44f7ae(0x367))),on($(_0x44f7ae(0x1af)),'click',()=>_0x2ab207(_0x44f7ae(0x341),_0x44f7ae(0x2d6))),on($(_0x44f7ae(0x253)),_0x44f7ae(0x30e),()=>_0x2ab207('insertOrderedList')),on($(_0x44f7ae(0x2f9)),_0x44f7ae(0x30e),()=>_0x2ab207(_0x44f7ae(0x1ba)));const _0x5e9ef9=$('.color-picker-wrapper'),_0x4ba14f=$(_0x44f7ae(0x323));on($(_0x44f7ae(0x232)),_0x44f7ae(0x30e),_0x52053c=>{const _0x564f30=_0x44f7ae;if(!_0x4ba14f)return;_0x52053c[_0x564f30(0x3e5)](),_0x4ba14f[_0x564f30(0x300)]['toggle']('hidden');}),$$(_0x44f7ae(0x24c))[_0x44f7ae(0x467)](_0x15218d=>{on(_0x15218d,'click',_0x17f6d0=>{const _0x26f729=_0x50e5;_0x17f6d0[_0x26f729(0x359)]();const _0x283b40=_0x15218d[_0x26f729(0x336)][_0x26f729(0x2c0)]||'';let _0x41d486=_0x283b40;try{const _0x59434b=_0x283b40[_0x26f729(0x1ec)](/--[a-zA-Z0-9_-]+/);if(_0x59434b)_0x41d486=getComputedStyle(document[_0x26f729(0x3e7)])[_0x26f729(0x211)](_0x59434b[0x0])['trim']();}catch(_0x1d80f2){}_0x2ab207('foreColor',_0x41d486);if(_0x4ba14f)_0x4ba14f['classList']['add'](_0x26f729(0x31d));});}),on(document,'click',_0x42dff9=>{const _0x6200b4=_0x44f7ae;if(!_0x5e9ef9||!_0x4ba14f)return;!_0x5e9ef9[_0x6200b4(0x2de)](_0x42dff9[_0x6200b4(0x26b)])&&!_0x4ba14f[_0x6200b4(0x300)][_0x6200b4(0x2de)](_0x6200b4(0x31d))&&_0x4ba14f[_0x6200b4(0x300)]['add'](_0x6200b4(0x31d));});function _0x34fc4a(_0x35642d){const _0x4393e7=_0x44f7ae,_0x3cdb5e=getCurrentSubtopic();if(!_0x3cdb5e){toast(_0x4393e7(0x193));return;}_0x3cdb5e['methods']=Array[_0x4393e7(0x1ac)](_0x3cdb5e[_0x4393e7(0x2ef)])?_0x3cdb5e[_0x4393e7(0x2ef)]:[];const _0x1ef9a2=_0x3cdb5e[_0x4393e7(0x2ef)],_0x131041=_0x35642d?_0x1ef9a2[_0x4393e7(0x347)](_0x3565e0=>_0x3565e0['id']===_0x35642d):null;$(_0x4393e7(0x18b))[_0x4393e7(0x1bb)]=_0x131041&&_0x131041['id']||'',$('#methodEditorTitle')['textContent']=_0x131041?'Ch·ªânh-s·ª≠a\x20Tri\x20th·ª©c':_0x4393e7(0x1b5),$(_0x4393e7(0x1f8))[_0x4393e7(0x1bb)]=_0x131041&&_0x131041[_0x4393e7(0x454)]||'';const _0x10d1d3=$('#methodEditorContentInput');if(_0x10d1d3)_0x10d1d3['innerHTML']=_0x131041&&_0x131041['content']||'';$(_0x4393e7(0x343))[_0x4393e7(0x300)][_0x4393e7(0x31c)](_0x4393e7(0x257));try{trapFocus($('#modalMethodEditor'));}catch(_0x3853d4){}try{const _0x20a953=$(_0x4393e7(0x2ca));if(_0x20a953){const _0x1a8e1b=!!(data?.['settings']?.[_0x4393e7(0x240)]&&data[_0x4393e7(0x3cc)][_0x4393e7(0x240)]['trim']());_0x20a953[_0x4393e7(0x3f0)]=!_0x1a8e1b,_0x20a953[_0x4393e7(0x454)]=_0x1a8e1b?_0x4393e7(0x2a2):_0x4393e7(0x39d);}}catch(_0x4bcebf){}}on($(_0x44f7ae(0x3d8)),_0x44f7ae(0x30e),()=>{const _0xbac9b6=_0x44f7ae;$(_0xbac9b6(0x343))[_0xbac9b6(0x300)][_0xbac9b6(0x21c)](_0xbac9b6(0x257));try{releaseFocus();}catch(_0x47c113){}}),on($(_0x44f7ae(0x3b7)),_0x44f7ae(0x30e),async()=>{const _0x1966a4=_0x44f7ae,_0x57813f=getCurrentSubtopic();if(!_0x57813f){toast(_0x1966a4(0x193));return;}_0x57813f[_0x1966a4(0x2ef)]=Array['isArray'](_0x57813f[_0x1966a4(0x2ef)])?_0x57813f[_0x1966a4(0x2ef)]:[];const _0x19d5bd=$('#methodEditorId')[_0x1966a4(0x1bb)]||uid('m'),_0x2b239b=($(_0x1966a4(0x1f8))[_0x1966a4(0x1bb)]||'')[_0x1966a4(0x265)](),_0x4f638b=$(_0x1966a4(0x46e)),_0x3f234d=_0x4f638b?_0x4f638b['innerHTML']||'':'',_0x300585=_0x57813f['methods'][_0x1966a4(0x3dd)](_0x475c0e=>_0x475c0e['id']===_0x19d5bd),_0x21bea5={'id':_0x19d5bd,'title':_0x2b239b,'content':_0x3f234d};if(_0x300585>=0x0)_0x57813f[_0x1966a4(0x2ef)][_0x300585]=_0x21bea5;else _0x57813f[_0x1966a4(0x2ef)]['unshift'](_0x21bea5);await storageManager[_0x1966a4(0x1c9)](_0x1966a4(0x25e),_0x57813f),renderMethods(),$('#modalMethodEditor')[_0x1966a4(0x300)][_0x1966a4(0x21c)](_0x1966a4(0x257));try{releaseFocus();}catch(_0x2f8dc2){}}),on($(_0x44f7ae(0x2ca)),'click',async()=>{const _0x4be259=_0x44f7ae,_0x239593=$(_0x4be259(0x46e));if(!_0x239593)return;const _0x19d440=(_0x239593[_0x4be259(0x3ef)]||'')['trim']();if(!_0x19d440||_0x19d440[_0x4be259(0x1ae)]<0x14){toast(_0x4be259(0x42a));return;}const _0x5bf5c1=$(_0x4be259(0x2ca));_0x5bf5c1&&(_0x5bf5c1[_0x4be259(0x3f0)]=!![],_0x5bf5c1[_0x4be259(0x200)]=_0x4be259(0x27a));const _0x11c762='Ph√¢n\x20t√≠ch\x20v√†\x20ƒë·ªãnh\x20d·∫°ng\x20l·∫°i\x20ƒëo·∫°n\x20vƒÉn\x20b·∫£n\x20sau\x20ƒë√¢y\x20th√†nh\x20m√£\x20HTML\x20s·∫°ch.\x20S·ª≠\x20d·ª•ng\x20c√°c\x20th·∫ª\x20sau:\x0a-\x20D√πng\x20<h4>\x20cho\x20c√°c\x20ti√™u\x20ƒë·ªÅ\x20ch√≠nh.\x0a-\x20D√πng\x20<strong>\x20ƒë·ªÉ\x20nh·∫•n\x20m·∫°nh\x20c√°c\x20thu·∫≠t\x20ng·ªØ\x20ho·∫∑c\x20√Ω\x20t∆∞·ªüng\x20quan\x20tr·ªçng.\x0a-\x20D√πng\x20<i>\x20cho\x20c√°c\x20c√¢u\x20ghi\x20ch√∫\x20ho·∫∑c\x20tr√≠ch\x20d·∫´n.\x0a-\x20D√πng\x20<ol>\x20v√†\x20<li>\x20cho\x20c√°c\x20danh\x20s√°ch\x20c√≥\x20th·ª©\x20t·ª±.\x0a-\x20D√πng\x20<ul>\x20v√†\x20<li>\x20cho\x20c√°c\x20danh\x20s√°ch\x20kh√¥ng\x20c√≥\x20th·ª©\x20t·ª±.\x0a-\x20B·ªçc\x20c√°c\x20ƒëo·∫°n\x20vƒÉn\x20th√¥ng\x20th∆∞·ªùng\x20trong\x20th·∫ª\x20<p>.\x0aVƒÉn\x20b·∫£n\x20c·∫ßn\x20ƒë·ªãnh\x20d·∫°ng:\x0a\x0a\x22'+_0x19d440+'\x22',_0x84f3cf=await callGeminiAPI(_0x11c762);_0x84f3cf?(_0x239593[_0x4be259(0x200)]=_0x84f3cf,toast(_0x4be259(0x355))):toast('AI\x20kh√¥ng\x20th·ªÉ\x20ƒë·ªãnh\x20d·∫°ng\x20l√∫c\x20n√†y.'),_0x5bf5c1&&(_0x5bf5c1[_0x4be259(0x3f0)]=![],_0x5bf5c1[_0x4be259(0x200)]=_0x4be259(0x220));}),on($(_0x44f7ae(0x3d9)),_0x44f7ae(0x30e),()=>{const _0x231b51=_0x44f7ae;if(!getCurrentSubtopic()){toast(_0x231b51(0x193));return;}_0x34fc4a();});const _0x4c387d=document[_0x44f7ae(0x35a)]('#view-methods');_0x4c387d&&_0x4c387d[_0x44f7ae(0x22e)]('click',_0x12b1b5=>{const _0x445238=_0x44f7ae,_0x1d165c=_0x12b1b5[_0x445238(0x26b)]['closest']&&_0x12b1b5[_0x445238(0x26b)][_0x445238(0x3f9)](_0x445238(0x18f)),_0x44889a=!_0x1d165c&&_0x12b1b5[_0x445238(0x26b)]['closest']&&_0x12b1b5[_0x445238(0x26b)][_0x445238(0x3f9)]('.method-delete');if(_0x1d165c){_0x12b1b5[_0x445238(0x359)](),_0x12b1b5['stopPropagation']();const _0x582bb1=_0x1d165c[_0x445238(0x336)]['id'];if(_0x582bb1)_0x34fc4a(_0x582bb1);return;}if(_0x44889a){_0x12b1b5[_0x445238(0x359)](),_0x12b1b5['stopPropagation']();const _0x236530=_0x44889a[_0x445238(0x336)]['id'];if(!_0x236530)return;const _0x82bd92=getCurrentSubtopic();if(!_0x82bd92)return;_0x82bd92['methods']=Array[_0x445238(0x1ac)](_0x82bd92['methods'])?_0x82bd92[_0x445238(0x2ef)]:[];const _0x22ff5e=_0x82bd92['methods'][_0x445238(0x347)](_0x26d5e1=>_0x26d5e1['id']===_0x236530);if(!_0x22ff5e)return;showConfirmModal(_0x445238(0x351),_0x445238(0x3bb)+(_0x22ff5e[_0x445238(0x454)]||'')+'\x22?',async _0x17c460=>{const _0x3cef86=_0x445238;if(!_0x17c460)return;_0x82bd92[_0x3cef86(0x2ef)]=_0x82bd92[_0x3cef86(0x2ef)]['filter'](_0x4e0bde=>_0x4e0bde['id']!==_0x236530),await storageManager[_0x3cef86(0x1c9)](_0x3cef86(0x25e),_0x82bd92),renderMethods();});}});$$(_0x44f7ae(0x19b))[_0x44f7ae(0x467)](_0x340ac9=>{const _0xab715d=_0x44f7ae;_0x340ac9['addEventListener'](_0xab715d(0x30e),()=>{const _0x182b59=_0xab715d;editingPreset=_0x340ac9[_0x182b59(0x336)][_0x182b59(0x3be)],highlightPresetSelector(),loadEditingPresetFields();});}),$$('.presets\x20button')[_0x44f7ae(0x467)](_0x543110=>{const _0x2897d9=_0x44f7ae;_0x543110[_0x2897d9(0x22e)](_0x2897d9(0x30e),_0x17477a=>{const _0x11ee2b=_0x2897d9,_0x40976b=_0x17477a[_0x11ee2b(0x26b)][_0x11ee2b(0x336)][_0x11ee2b(0x1d0)],_0x204176=data[_0x11ee2b(0x3cc)][_0x11ee2b(0x1d0)];if(_0x40976b===_0x204176)return;timer[_0x11ee2b(0x18e)]!==_0x11ee2b(0x317)?showConfirmModal('X√°c\x20nh·∫≠n\x20chuy·ªÉn\x20ƒë·ªïi',_0x11ee2b(0x42b)+_0x40976b+_0x11ee2b(0x384),_0x2ce215=>{const _0x35d093=_0x11ee2b;_0x2ce215&&(timer[_0x35d093(0x2cf)](),timer[_0x35d093(0x34d)](_0x40976b),renderAll(),toast(_0x35d093(0x331)+_0x40976b+'.'));}):(timer[_0x11ee2b(0x34d)](_0x40976b),renderAll(),toast('ƒê√£\x20chuy·ªÉn\x20sang\x20Ki·ªÉu\x20'+_0x40976b+'.'));});}),on($('#btnStart'),_0x44f7ae(0x30e),()=>timer[_0x44f7ae(0x406)]()),on($(_0x44f7ae(0x20d)),_0x44f7ae(0x30e),()=>timer[_0x44f7ae(0x1d9)]()),on($(_0x44f7ae(0x461)),_0x44f7ae(0x30e),()=>timer[_0x44f7ae(0x1b7)]()),on($(_0x44f7ae(0x373)),_0x44f7ae(0x30e),()=>timer[_0x44f7ae(0x20c)]()),on($(_0x44f7ae(0x1e4)),'click',()=>timer['skip']()),on($('#btnReset'),_0x44f7ae(0x30e),()=>timer['reset']()),on($('#btnBreakEarly'),_0x44f7ae(0x30e),()=>timer[_0x44f7ae(0x2da)]()),on($(_0x44f7ae(0x37a)),'change',_0x49b0cb=>{const _0x158e5f=_0x44f7ae;handleFileUpload(_0x49b0cb[_0x158e5f(0x26b)]['files'][0x0],async _0x70c2db=>{const _0x453ecd=_0x158e5f;data[_0x453ecd(0x3cc)]['customBg']=_0x70c2db,await saveData(),applyCustomBg(),toast(_0x453ecd(0x228));}),_0x49b0cb[_0x158e5f(0x26b)][_0x158e5f(0x1bb)]=null;}),on($(_0x44f7ae(0x271)),_0x44f7ae(0x30e),async()=>{const _0x37587e=_0x44f7ae;data['settings'][_0x37587e(0x45e)]='',data[_0x37587e(0x3cc)][_0x37587e(0x3c7)]=![],await saveData(),applyCustomBg(),toast(_0x37587e(0x3bd)),$(_0x37587e(0x470))[_0x37587e(0x300)]['contains']('show')&&openSettings();}),on($(_0x44f7ae(0x27c)),_0x44f7ae(0x1b4),_0xf4952=>{const _0x250351=_0x44f7ae;handleFileUpload(_0xf4952[_0x250351(0x26b)][_0x250351(0x3b1)][0x0],async _0x4bf057=>{const _0x30696e=_0x250351;data[_0x30696e(0x3cc)][_0x30696e(0x325)][_0x30696e(0x246)]=_0x4bf057,await saveData(),toast(_0x30696e(0x26d));}),_0xf4952[_0x250351(0x26b)][_0x250351(0x1bb)]=null;}),on($('#uploadSoundBreak'),_0x44f7ae(0x1b4),_0xf0a891=>{const _0x21866e=_0x44f7ae;handleFileUpload(_0xf0a891[_0x21866e(0x26b)][_0x21866e(0x3b1)][0x0],async _0x70ec4a=>{const _0x47ab68=_0x21866e;data[_0x47ab68(0x3cc)][_0x47ab68(0x325)][_0x47ab68(0x48b)]=_0x70ec4a,await saveData(),toast('ƒê√£\x20l∆∞u\x20√¢m\x20b√°o\x20h·∫øt\x20NGH·ªà\x20NG·∫ÆN.');}),_0xf0a891[_0x21866e(0x26b)][_0x21866e(0x1bb)]=null;}),on($('#uploadSoundLong'),'change',_0xe3f6dd=>{const _0x590673=_0x44f7ae;handleFileUpload(_0xe3f6dd[_0x590673(0x26b)]['files'][0x0],async _0x2488c0=>{const _0x251e5f=_0x590673;data[_0x251e5f(0x3cc)][_0x251e5f(0x325)][_0x251e5f(0x1f3)]=_0x2488c0,await saveData(),toast(_0x251e5f(0x445));}),_0xe3f6dd[_0x590673(0x26b)][_0x590673(0x1bb)]=null;}),on($(_0x44f7ae(0x30f)),'click',toggleFullScreen),document[_0x44f7ae(0x22e)](_0x44f7ae(0x2c1),updateFullscreenButton),window[_0x44f7ae(0x22e)]('keydown',_0x25c965=>{const _0x164c1d=_0x44f7ae,_0x133dff=_0x25c965['target'],_0xd39f5=(_0x133dff[_0x164c1d(0x42e)]||'')[_0x164c1d(0x3b2)](),_0x1a22ef=[_0x164c1d(0x1bf),_0x164c1d(0x302),_0x164c1d(0x21f)][_0x164c1d(0x3cb)](_0xd39f5)||_0x133dff['isContentEditable'];if(_0x25c965[_0x164c1d(0x449)]===_0x164c1d(0x3a0)&&!_0x1a22ef){_0x25c965[_0x164c1d(0x359)]();if(timer[_0x164c1d(0x18e)]==='idle'||timer['state']===_0x164c1d(0x433))timer[_0x164c1d(0x406)]();else timer[_0x164c1d(0x1b7)]();}(_0x25c965['key']==='n'||_0x25c965[_0x164c1d(0x3b5)]==='N')&&(!_0x1a22ef&&(_0x25c965['preventDefault'](),timer['skip']()));if(_0x25c965[_0x164c1d(0x3b5)]===_0x164c1d(0x3a8)){$$('.modal')[_0x164c1d(0x467)](_0x23604d=>_0x23604d[_0x164c1d(0x300)][_0x164c1d(0x21c)]('show'));try{releaseFocus();}catch(_0x2d21c4){}}if(_0x25c965['altKey']&&!_0x1a22ef){if(_0x25c965['key']==='ArrowUp')_0x25c965[_0x164c1d(0x359)](),_0x31796e(0x0,-0xa);else{if(_0x25c965['key']===_0x164c1d(0x39c))_0x25c965[_0x164c1d(0x359)](),_0x31796e(0x0,0xa);else{if(_0x25c965[_0x164c1d(0x3b5)]===_0x164c1d(0x38d))_0x25c965['preventDefault'](),_0x31796e(-0xa,0x0);else _0x25c965[_0x164c1d(0x3b5)]===_0x164c1d(0x49d)&&(_0x25c965[_0x164c1d(0x359)](),_0x31796e(0xa,0x0));}}}}),$$(_0x44f7ae(0x371))[_0x44f7ae(0x467)](_0x484d46=>_0x484d46[_0x44f7ae(0x22e)](_0x44f7ae(0x30e),_0x122476=>{const _0x3d91a2=_0x44f7ae;if(_0x122476&&_0x122476[_0x3d91a2(0x26b)]&&_0x122476[_0x3d91a2(0x26b)]['id']===_0x3d91a2(0x24e))return;if(_0x122476[_0x3d91a2(0x26b)]===_0x484d46){_0x484d46[_0x3d91a2(0x300)][_0x3d91a2(0x21c)](_0x3d91a2(0x257));try{releaseFocus();}catch(_0x29532d){}}})),window[_0x44f7ae(0x22e)](_0x44f7ae(0x30e),_0x5cf6d4=>{const _0x59ae9d=_0x44f7ae;!_0x5cf6d4[_0x59ae9d(0x26b)][_0x59ae9d(0x3f9)](_0x59ae9d(0x34e))&&!_0x5cf6d4[_0x59ae9d(0x26b)][_0x59ae9d(0x3f9)](_0x59ae9d(0x2d0))&&closeAllMenus();});try{const _0x4cb35e=document[_0x44f7ae(0x35a)](_0x44f7ae(0x2cb));if(_0x4cb35e)_0x4cb35e[_0x44f7ae(0x22e)]('scroll',closeAllMenus);}catch(_0x41ea1f){}try{window['addEventListener'](_0x44f7ae(0x446),closeAllMenus,!![]);}catch(_0x5f1115){}window[_0x44f7ae(0x22e)](_0x44f7ae(0x2d5),()=>timer[_0x44f7ae(0x2d1)](!![]));try{const _0x1fc416=Array[_0x44f7ae(0x43d)](document['querySelectorAll']('#view-methods\x20.method-item'));_0x1fc416[_0x44f7ae(0x1ae)]&&_0x1fc416[_0x44f7ae(0x467)](_0x1b2054=>{const _0x309891=_0x44f7ae;_0x1b2054[_0x309891(0x22e)]('toggle',()=>{_0x1b2054['open']&&_0x1fc416['forEach'](_0x1b694c=>{if(_0x1b694c!==_0x1b2054)_0x1b694c['open']=![];});});});}catch(_0x3700d4){}const _0x3d32d6=$(_0x44f7ae(0x1fd));let _0x32b233=![],_0x53530a,_0x14a8a8;_0x3d32d6&&(_0x3d32d6[_0x44f7ae(0x22e)](_0x44f7ae(0x1d3),_0x34f5c7=>{const _0x5085cf=_0x44f7ae;_0x32b233=!![];const _0x47c96d=_0x3d32d6['getBoundingClientRect']();_0x53530a=_0x34f5c7[_0x5085cf(0x374)]-_0x47c96d['left'],_0x14a8a8=_0x34f5c7[_0x5085cf(0x2d7)]-_0x47c96d['top'],_0x3d32d6[_0x5085cf(0x34c)][_0x5085cf(0x2b9)]='none';}),document['addEventListener'](_0x44f7ae(0x212),_0x108409=>{const _0x28918e=_0x44f7ae;if(!_0x32b233)return;let _0x3f1fed=_0x108409[_0x28918e(0x374)]-_0x53530a,_0x119e44=_0x108409['clientY']-_0x14a8a8;const _0x1ca3b9=window[_0x28918e(0x214)]-_0x3d32d6[_0x28918e(0x329)],_0x5bf7c0=window[_0x28918e(0x407)]-_0x3d32d6['offsetHeight'];_0x3f1fed=Math[_0x28918e(0x248)](0x0,Math['min'](_0x3f1fed,_0x1ca3b9)),_0x119e44=Math[_0x28918e(0x248)](0x0,Math[_0x28918e(0x28f)](_0x119e44,_0x5bf7c0)),_0x3d32d6[_0x28918e(0x34c)][_0x28918e(0x441)]=_0x3f1fed+'px',_0x3d32d6[_0x28918e(0x34c)][_0x28918e(0x24a)]=_0x119e44+'px',_0x3d32d6['style'][_0x28918e(0x3fa)]=_0x28918e(0x309),_0x3d32d6['style']['right']=_0x28918e(0x309);}),document[_0x44f7ae(0x22e)](_0x44f7ae(0x2e3),()=>{const _0x1d68f2=_0x44f7ae;if(!_0x32b233)return;_0x32b233=![],_0x3d32d6[_0x1d68f2(0x34c)][_0x1d68f2(0x2b9)]='';}));function _0x1c120d(_0x7546f1){const _0x58d7b8=_0x44f7ae,_0x373b57=$(_0x58d7b8(0x1fd));if(!_0x373b57)return;_0x373b57[_0x58d7b8(0x34c)][_0x58d7b8(0x427)]=_0x58d7b8(0x3ca),_0x373b57['style']['transition']='',_0x373b57[_0x58d7b8(0x34c)][_0x58d7b8(0x441)]=_0x58d7b8(0x309),_0x373b57['style'][_0x58d7b8(0x24a)]='auto',_0x373b57[_0x58d7b8(0x34c)][_0x58d7b8(0x3c9)]='auto',_0x373b57[_0x58d7b8(0x34c)][_0x58d7b8(0x3fa)]=_0x58d7b8(0x309);const _0x18964f=0x10;_0x7546f1==='tl'&&(_0x373b57[_0x58d7b8(0x34c)]['left']=_0x18964f+'px',_0x373b57[_0x58d7b8(0x34c)][_0x58d7b8(0x24a)]=_0x18964f+'px'),_0x7546f1==='tr'&&(_0x373b57[_0x58d7b8(0x34c)][_0x58d7b8(0x3c9)]=_0x18964f+'px',_0x373b57['style'][_0x58d7b8(0x24a)]=_0x18964f+'px'),_0x7546f1==='bl'&&(_0x373b57[_0x58d7b8(0x34c)][_0x58d7b8(0x441)]=_0x18964f+'px',_0x373b57['style'][_0x58d7b8(0x3fa)]=_0x18964f+'px'),_0x7546f1==='br'&&(_0x373b57[_0x58d7b8(0x34c)]['right']=_0x18964f+'px',_0x373b57['style'][_0x58d7b8(0x3fa)]=_0x18964f+'px');}function _0x31796e(_0x3de31a,_0x479900){const _0x3f1c07=_0x44f7ae,_0x3a5524=$(_0x3f1c07(0x1fd));if(!_0x3a5524)return;const _0x25b51e=_0x3a5524[_0x3f1c07(0x182)](),_0x3e7b05=Math['max'](0x0,Math[_0x3f1c07(0x28f)](_0x25b51e[_0x3f1c07(0x441)]+_0x3de31a,window[_0x3f1c07(0x214)]-_0x3a5524[_0x3f1c07(0x329)])),_0x858cfd=Math[_0x3f1c07(0x248)](0x0,Math[_0x3f1c07(0x28f)](_0x25b51e['top']+_0x479900,window['innerHeight']-_0x3a5524['offsetHeight']));_0x3a5524[_0x3f1c07(0x34c)]['left']=_0x3e7b05+'px',_0x3a5524[_0x3f1c07(0x34c)][_0x3f1c07(0x24a)]=_0x858cfd+'px',_0x3a5524[_0x3f1c07(0x34c)]['right']='auto',_0x3a5524[_0x3f1c07(0x34c)][_0x3f1c07(0x3fa)]=_0x3f1c07(0x309);}}function toggleBackgroundView(){const _0x52bb3e=_0x2d92ab,_0x135371=document[_0x52bb3e(0x3e7)];_0x135371[_0x52bb3e(0x300)][_0x52bb3e(0x38e)](_0x52bb3e(0x482));const _0x3c841e=_0x135371['classList'][_0x52bb3e(0x2de)](_0x52bb3e(0x482)),_0x325394=$('#btnToggleBg');if(!_0x325394)return;_0x3c841e?(_0x325394['title']='Hi·ªán\x20giao\x20di·ªán',_0x325394[_0x52bb3e(0x200)]=_0x52bb3e(0x1e2)):(_0x325394['title']=_0x52bb3e(0x203),_0x325394['innerHTML']=_0x52bb3e(0x3a1));}function updateMainViewVisibility(){const _0x11f8e1=_0x2d92ab,_0xb64891=!!getCurrentSubtopic(),_0x3e6289=$(_0x11f8e1(0x3f5)),_0x1ec377=$(_0x11f8e1(0x39b));_0x1ec377&&_0x1ec377[_0x11f8e1(0x300)][_0x11f8e1(0x38e)](_0x11f8e1(0x31d),_0xb64891),_0x3e6289&&(_0xb64891?_0x3e6289[_0x11f8e1(0x300)][_0x11f8e1(0x21c)](_0x11f8e1(0x43f)):_0x3e6289[_0x11f8e1(0x300)][_0x11f8e1(0x31c)](_0x11f8e1(0x43f)));}function updatePresetButtonsText(){const _0x3146b2=_0x2d92ab,_0x1ecedd=data[_0x3146b2(0x3cc)],_0x550b20=_0x1ecedd[_0x3146b2(0x474)],_0x251694=_0x1ecedd[_0x3146b2(0x2dd)],_0x101255=_0x1ecedd[_0x3146b2(0x1d7)][_0x3146b2(0x423)],_0x408bc6=_0x1ecedd[_0x3146b2(0x1d7)]['B_work'],_0x3a3a90=$(_0x3146b2(0x290)),_0x1e4d5e=$(_0x3146b2(0x30c)),_0x2abe27=$(_0x3146b2(0x218));_0x3a3a90&&(_0x3a3a90[_0x3146b2(0x3ef)]=_0x550b20+'√ó'+_0x101255+_0x3146b2(0x392)),_0x1e4d5e&&(_0x1e4d5e[_0x3146b2(0x3ef)]=_0x251694+'√ó'+_0x408bc6+_0x3146b2(0x249)),_0x2abe27&&(_0x2abe27[_0x3146b2(0x3ef)]='üåä\x20Flow');}function renderAll(){const _0x3b92c6=_0x2d92ab;updatePresetButtonsText();const _0x24705f=data[_0x3b92c6(0x3cc)][_0x3b92c6(0x1d0)];$$('.presets\x20button')[_0x3b92c6(0x467)](_0x420e90=>{const _0x4ee4e9=_0x3b92c6,_0x339bd9=_0x420e90[_0x4ee4e9(0x336)][_0x4ee4e9(0x1d0)]===_0x24705f;_0x420e90[_0x4ee4e9(0x300)][_0x4ee4e9(0x38e)]('acc',_0x339bd9),_0x420e90[_0x4ee4e9(0x300)][_0x4ee4e9(0x38e)](_0x4ee4e9(0x49a),!_0x339bd9),_0x420e90[_0x4ee4e9(0x319)](_0x4ee4e9(0x2d3),_0x339bd9);}),updateMainViewVisibility(),timer['setPreset'](data[_0x3b92c6(0x3cc)][_0x3b92c6(0x1d0)],{'silent':!![]}),renderTopics(),renderContextBadge(),renderStatsHistory(),renderGeneralNotes(),renderMethods(),renderChat(),applyCustomBg(),applyPanelOpacity(),renderSubtopicTasks(),updateFullscreenButton(),switchView(data[_0x3b92c6(0x3cc)][_0x3b92c6(0x229)]);}function toggleFullScreen(){const _0x1d7fcf=_0x2d92ab;!document[_0x1d7fcf(0x267)]?document[_0x1d7fcf(0x297)][_0x1d7fcf(0x1f5)]()['catch'](_0x23654b=>{toast('L·ªói:\x20Kh√¥ng\x20th·ªÉ\x20b·∫≠t\x20ch·∫ø\x20ƒë·ªô\x20to√†n\x20m√†n\x20h√¨nh:\x20'+_0x23654b['message']);}):document[_0x1d7fcf(0x1c5)]&&document[_0x1d7fcf(0x1c5)]();}function _0x5325(){const _0x230497=['click','#btnFullscreen','longBreakIntervalA','B_short','interval','1822272UuwWiJ','active','<div\x20class=\x22tiny\x22>Ch∆∞a\x20c√≥\x20ghi\x20ch√∫.</div>','#subtopicTasksList','idle','method-item','setAttribute','timerState_','reduce','add','hidden','#chatInput','volume','padStart','chatHistory','#btnCloseSettings','.color-palette','#toolItalic','customSounds','<div>','#welcomePanel\x20p','candidates','offsetWidth','keydown','<p>ƒê·ªÉ\x20kh√¥ng\x20b·ªã\x20cho√°ng\x20ng·ª£p\x20khi\x20h·ªçc\x20m·ªôt\x20lƒ©nh\x20v·ª±c\x20m·ªõi,\x20h√£y\x20t·∫≠p\x20trung\x20v√†o\x2020%\x20ki·∫øn\x20th·ª©c\x20c·ªët\x20l√µi\x20mang\x20l·∫°i\x2080%\x20k·∫øt\x20qu·∫£\x20(Li·ªÅu\x20l∆∞·ª£ng\x20Hi·ªáu\x20qu·∫£\x20T·ªëi\x20thi·ªÉu).</p><h4>20%\x20c·ªët\x20l√µi:\x20√Åp\x20d·ª•ng\x20Khung\x20Ph√¢n\x20t√≠ch\x205\x20B∆∞·ªõc\x20ƒë·ªÉ\x20x√°c\x20ƒë·ªãnh\x2020%\x20quan\x20tr·ªçng\x20nh·∫•t:</h4><ol><li><strong>X√°c\x20ƒë·ªãnh\x20K·∫øt\x20qu·∫£:</strong>\x20M·ª•c\x20ti√™u\x20cu·ªëi\x20c√πng\x20c·ªßa\x20b·∫°n\x20l√†\x20g√¨?\x20(v√≠\x20d·ª•:\x20x√¢y\x20d·ª±ng\x20ƒë∆∞·ª£c\x20m·ªôt\x20trang\x20web).</li><li><strong>Ph√¢n\x20t√≠ch\x20N·ªÅn\x20t·∫£ng:</strong>\x20T√¨m\x203-5\x20nguy√™n\x20l√Ω\x20b·∫•t\x20bi·∫øn\x20c·ªßa\x20ng√†nh.</li><li><strong>Nh·∫≠n\x20di·ªán\x20L·ªói\x20sai\x20Ph·ªï\x20bi·∫øn:</strong>\x20H·ªçc\x20c√°ch\x20tr√°nh\x20nh·ªØng\x20l·ªói\x20m√†\x20ng∆∞·ªùi\x20m·ªõi\x20hay\x20m·∫Øc\x20ph·∫£i.</li><li><strong>T√¨m\x20\x22Y·∫øu\x20t·ªë\x20Nh√¢n\x22:</strong>\x20K·ªπ\x20nƒÉng\x20n√†o\x20s·∫Ω\x20gi√∫p\x20h·ªçc\x20m·ªçi\x20th·ª©\x20kh√°c\x20d·ªÖ\x20d√†ng\x20h∆°n?\x20(v√≠\x20d·ª•:\x20nh·∫°c\x20l√Ω\x20trong\x20√¢m\x20nh·∫°c).</li><li><strong>L·∫≠p\x20b·∫£n\x20ƒë·ªì\x20·ª®ng\x20d·ª•ng\x20Th·ª±c\x20ti·ªÖn:</strong>\x20T·∫≠p\x20trung\x20v√†o\x2020%\x20c√¥ng\x20vi·ªác\x20chi·∫øm\x2080%\x20th·ªùi\x20gian\x20th·ª±c\x20t·∫ø\x20c·ªßa\x20ng√†nh.</li></ol>','space','.aux-panel,\x20.modal-card','hours','timer.cycleInfo','(ch∆∞a\x20ch·ªçn)','ƒê√£\x20chuy·ªÉn\x20sang\x20Ki·ªÉu\x20','allow','exportData','createObjectURL','<p>Nguy√™n\x20t·∫Øc\x20c·ªët\x20l√µi\x20c·ªßa\x20k·ªπ\x20thu·∫≠t\x20n√†y\x20d·ª±a\x20tr√™n\x20m·ªôt\x20√Ω\x20t∆∞·ªüng\x20duy\x20nh·∫•t:\x20\x22N·∫øu\x20b·∫°n\x20kh√¥ng\x20th·ªÉ\x20gi·∫£i\x20th√≠ch\x20m·ªôt\x20ch·ªß\x20ƒë·ªÅ\x20m·ªôt\x20c√°ch\x20ƒë∆°n\x20gi·∫£n,\x20b·∫°n\x20ch∆∞a\x20th·ª±c\x20s·ª±\x20hi·ªÉu\x20n√≥.\x22\x20M·ª•c\x20ti√™u\x20l√†\x20bi·∫øn\x20ki·∫øn\x20th·ª©c\x20ph·ª©c\x20t·∫°p\x20th√†nh\x20l·ªùi\x20gi·∫£i\x20th√≠ch\x20ƒë∆°n\x20gi·∫£n\x20ƒë·∫øn\x20m·ª©c\x20m·ªôt\x20ƒë·ª©a\x20tr·∫ª\x20c≈©ng\x20c√≥\x20th·ªÉ\x20hi·ªÉu.</p><h4>Quy\x20Tr√¨nh\x204\x20B∆∞·ªõc\x20Tinh\x20G·ªçn</h4><ol><li><strong>H·ªçc:</strong>\x20Ch·ªçn\x20m·ªôt\x20ch·ªß\x20ƒë·ªÅ\x20v√†\x20vi·∫øt\x20ra\x20t·∫•t\x20c·∫£\x20nh·ªØng\x20g√¨\x20b·∫°n\x20bi·∫øt\x20v·ªÅ\x20n√≥.</li><li><strong>D·∫°y:</strong>\x20Gi·∫£\x20v·ªù\x20d·∫°y\x20l·∫°i\x20ch·ªß\x20ƒë·ªÅ\x20n√†y\x20b·∫±ng\x20ng√¥n\x20ng·ªØ\x20ƒë∆°n\x20gi·∫£n\x20nh·∫•t\x20c√≥\x20th·ªÉ.\x20Vi·∫øt\x20ho·∫∑c\x20n√≥i\x20to\x20ra.</li><li><strong>T√¨m\x20&\x20S·ª≠a\x20L·ªói:</strong>\x20B·∫•t\x20c·ª©\x20khi\x20n√†o\x20b·∫°n\x20b·ªã\x20\x22k·∫πt\x22,\x20ph·∫£i\x20d√πng\x20thu·∫≠t\x20ng·ªØ\x20ph·ª©c\x20t·∫°p,\x20ho·∫∑c\x20kh√¥ng\x20th·ªÉ\x20gi·∫£i\x20th√≠ch\x20tr√¥i\x20ch·∫£y,\x20b·∫°n\x20ƒë√£\x20t√¨m\x20th·∫•y\x20l·ªó\x20h·ªïng\x20ki·∫øn\x20th·ª©c\x20c·ªßa\x20m√¨nh.\x20H√£y\x20quay\x20l·∫°i\x20t√†i\x20li·ªáu\x20g·ªëc\x20ƒë·ªÉ\x20h·ªçc\x20l·∫°i\x20cho\x20ƒë·∫øn\x20khi\x20l·∫•p\x20ƒë∆∞·ª£c\x20l·ªó\x20h·ªïng\x20ƒë√≥.</li><li><strong>ƒê∆°n\x20Gi·∫£n\x20H√≥a:</strong>\x20S·∫Øp\x20x·∫øp\x20l·∫°i\x20l·ªùi\x20gi·∫£i\x20th√≠ch\x20cu·ªëi\x20c√πng,\x20s·ª≠\x20d·ª•ng\x20c√°c\x20v√≠\x20d·ª•\x20ho·∫∑c\x20ph√©p\x20v√≠\x20von\x20ƒë∆°n\x20gi·∫£n\x20ƒë·ªÉ\x20n√≥\x20tr·ªü\x20n√™n\x20m·∫°ch\x20l·∫°c\x20v√†\x20d·ªÖ\x20hi·ªÉu\x20nh·∫•t.</li></ol><h4>C·ªët\x20L√µi</h4><p>K·ªπ\x20thu·∫≠t\x20Feynman\x20bu·ªôc\x20b·∫°n\x20ph·∫£i\x20chuy·ªÉn\x20t·ª´\x20vi·ªác\x20ti·∫øp\x20thu\x20th·ª•\x20ƒë·ªông\x20(ƒë·ªçc,\x20nghe)\x20sang\x20ch·ªß\x20ƒë·ªông\x20x·ª≠\x20l√Ω\x20th√¥ng\x20tin.\x20Qu√°\x20tr√¨nh\x20\x22b·ªã\x20k·∫πt\x22\x20khi\x20gi·∫£i\x20th√≠ch\x20ch√≠nh\x20l√†\x20c√¥ng\x20c·ª•\x20ch·∫©n\x20ƒëo√°n\x20m·∫°nh\x20m·∫Ω\x20nh·∫•t,\x20n√≥\x20ch·ªâ\x20ra\x20ch√≠nh\x20x√°c\x20ƒëi·ªÉm\x20b·∫°n\x20c√≤n\x20y·∫øu.</p><p><i>C√°ch\x20nhanh\x20nh·∫•t\x20ƒë·ªÉ\x20ki·ªÉm\x20tra\x20v√†\x20c·ªßng\x20c·ªë\x20s·ª±\x20hi·ªÉu\x20bi·∫øt\x20c·ªßa\x20b·∫°n\x20l√†\x20th·ª≠\x20d·∫°y\x20l·∫°i\x20n√≥\x20cho\x20ng∆∞·ªùi\x20kh√°c\x20m·ªôt\x20c√°ch\x20ƒë∆°n\x20gi·∫£n.</i></p>','dataset','sessionsCompleted','backgroundImage','indexOf','autoplay;\x20encrypted-media;\x20picture-in-picture','L·ªói\x20HTTP:\x20','slice','T√™n\x20Ch·ªß\x20ƒë·ªÅ\x20con\x20m·ªõi?','B_long','<strong>$1</strong>','now','formatBlock','#set_backupDays','#modalMethodEditor','L·∫∑p\x20L·∫°i\x20Ng·∫Øt\x20Qu√£ng\x20(Spaced\x20Repetition):\x20H·ªçc\x20ƒê√∫ng\x20Th·ªùi\x20ƒêi·ªÉm','#set_backgroundMode','N·ª≠a\x20ngh√¨n\x20gi·ªù\x20t·∫≠p\x20trung.\x20B·∫°n\x20ƒë√£\x20d√†nh\x20m·ªôt\x20kho·∫£ng\x20th·ªùi\x20gian\x20ƒë√°ng\x20k·ªÉ\x20ƒë·ªÉ\x20theo\x20ƒëu·ªïi\x20ƒëi·ªÅu\x20quan\x20tr·ªçng\x20v·ªõi\x20m√¨nh.\x20M·ª©c\x20ƒë·ªô\x20chuy√™n\x20t√¢m\x20n√†y\x20ch·∫Øc\x20ch·∫Øn\x20ƒëang\x20t·∫°o\x20ra\x20nh·ªØng\x20k·∫øt\x20qu·∫£\x20s√¢u\x20s·∫Øc\x20v√†\x20kh√°c\x20bi·ªát.\x20Th·∫≠t\x20ƒë√°ng\x20ng∆∞·ª°ng\x20m·ªô.','find','#btnAddTopic','</h4>','R·ª≠a\x20m·∫∑t\x20ho·∫∑c\x20v·ªó\x20nh·∫π\x20l√™n\x20m·∫∑t\x20ƒë·ªÉ\x20t·ªânh\x20t√°o\x20h∆°n.','Enter','style','setPreset','.actions-menu-btn','button','toISOString','X√°c\x20nh·∫≠n\x20x√≥a','Ch∆∞a\x20c√≥\x20ti√™u\x20ƒë·ªÅ','L·∫Øc\x20nh·∫π\x20c·ªï\x20tay\x20v√†\x20vai\x20trong\x2030\x20gi√¢y.','Xem\x20m·ªôt\x20t·∫•m\x20·∫£nh\x20d·ªÖ\x20th∆∞∆°ng\x20ho·∫∑c\x20l√†m\x20b·∫°n\x20vui.','AI\x20ƒë√£\x20ƒë·ªãnh\x20d·∫°ng\x20xong!','16129692ZZCmed','__ytApiWatchdog','readonly','preventDefault','querySelector','/maxresdefault.jpg','#summariesList','none','ƒê√£\x20t·∫Øt\x20n·ªÅn\x20YouTube\x20ƒë·ªÉ\x20h·ª£p\x20v·ªõi\x20theme\x20s√°ng.','BUFFERING','B·∫°n\x20c√≥\x20ch·∫Øc\x20mu·ªën\x20x√≥a\x20Ch·ªß\x20ƒë·ªÅ\x20\x22','#btnCloseDashboard','btn\x20small\x20danger','Ch·ªçn\x20m·ªôt\x20ch·ªß\x20ƒë·ªÅ\x20con\x20tr∆∞·ªõc.','#btnToggleBg','-9999px','yt-fallback','italic','soundPermissionBar','push','enableWinddown','<option\x20value=\x22\x22>--\x20Ch·ªçn\x20ng√†y\x20ƒë·ªÉ\x20ph·ª•c\x20h·ªìi\x20--</option>','T·ª±\x20nh·∫Øc:\x20Ngh·ªâ\x20ng∆°i\x20ƒë√∫ng\x20c√°ch\x20l√†\x20ƒë·ªÉ\x20l√†m\x20vi·ªác\x20t·ªët\x20h∆°n!','work','B∆∞·ªõc\x20ra\x20ban\x20c√¥ng,\x20t·∫≠n\x20h∆∞·ªüng\x20√°nh\x20s√°ng\x20t·ª±\x20nhi√™n.','#btnSummarize','get','.modal','U·ªëng\x20m·ªôt\x20ly\x20n∆∞·ªõc\x20ƒë·ªÉ\x20gi·ªØ\x20ƒë·ªß\x20n∆∞·ªõc.','#btnResume','clientX','date','#btnToggleYtSound','http','http:','#btnGenericCancel','#uploadBg','onYouTubeIframeAPIReady','\x20hidden','getAll','flowtimeBreakRatio','getIframe','PlayerState','isNaN','Tab','.tab-content','?\x20Thao\x20t√°c\x20n√†y\x20s·∫Ω\x20d·ª´ng\x20v√†\x20ƒë·∫∑t\x20l·∫°i\x20phi√™n\x20l√†m\x20vi·ªác\x20hi·ªán\x20t·∫°i.','achievedMilestones','#set_short','T·∫†M\x20D·ª™NG','Vui\x20l√≤ng\x20ch·ªçn\x20m·ªôt\x20b·∫£n\x20sao\x20l∆∞u.','ƒê√£\x20x√≥a\x20l·ªãch\x20s·ª≠\x20chat.','<ul>','updateSettings','pomodoro_files','ArrowLeft','toggle','.subtopic-btn','S·ª≠a\x20t√™n\x20Ch·ªß\x20ƒë·ªÅ\x20con','#currentSubtopicNameChat','\x20(A)','1079469wFUOoT','map','backupDaysToKeep','√Çm\x20thanh\x20ƒë√£\x20ƒë∆∞·ª£c\x20b·∫≠t!','Th√™m\x20Ch·ªß\x20ƒë·ªÅ\x20con','iframe','.subtopics','loadLanguage','#welcomePanel','ArrowDown','Vui\x20l√≤ng\x20th√™m\x20Gemini\x20API\x20Key\x20trong\x20C√†i\x20ƒë·∫∑t\x20ƒë·ªÉ\x20s·ª≠\x20d·ª•ng\x20t√≠nh\x20nƒÉng\x20n√†y.','...','#stateBadge','Space','<svg\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20width=\x2216\x22\x20height=\x2216\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M2\x2012s3-7\x2010-7\x2010\x207\x2010\x207-3\x207-10\x207-10-7-10-7Z\x22/><circle\x20cx=\x2212\x22\x20cy=\x2212\x22\x20r=\x223\x22/></svg>','L·ªói\x20khi\x20g·ªçi\x20Gemini\x20API:','mute','initDB','checked','set_youtubeUrl','#ytUrlFeedback','Escape','#set_apiKey','</label>','display','Massage\x20nh·∫π\x20hai\x20b√™n\x20th√°i\x20d∆∞∆°ng.','#editorPreview','createdAt','topicId','To√†n\x20m√†n\x20h√¨nh','files','toLowerCase','#btnTestSound','#generalNotesList','key','#btnSaveSettings','#btnSaveMethod','<div\x20class=\x22tiny\x22>Ch∆∞a\x20c√≥\x20t√≥m\x20t·∫Øt\x20n√†o.</div>','Ch∆∞a\x20ch·ªçn\x20Ch·ªß\x20ƒë·ªÅ\x20con','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','X√≥a\x20tri\x20th·ª©c\x20\x22','menu-active','ƒê√£\x20x√≥a\x20h√¨nh\x20n·ªÅn\x20t√πy\x20ch·ªânh.','presetTarget','\x20ph√∫t\x20theo\x20Flowtime\x20(','_getStore','badge\x20state\x20break','tasks','(Kh√¥ng\x20t·∫°o\x20ƒë∆∞·ª£c\x20t√≥m\x20t·∫Øt)','replace','sub-row','ƒê√£\x20l∆∞u\x20ghi\x20ch√∫','useYtThumbnailAsBg','A_winddown','right','fixed','includes','settings','#breakSuggestionDisplay','cancel','random','POST','text','getDate','workMinutes','‚ùå\x20Link\x20kh√¥ng\x20h·ª£p\x20l·ªá\x20ho·∫∑c\x20kh√¥ng\x20ƒë∆∞·ª£c\x20h·ªó\x20tr·ª£.','getBackupList','Chu\x20k·ª≥\x20','status','#btnCancelMethodEditor','#btnAddMethod','topicsList','_onFinishSegment','stroke','findIndex','scrollTop','url(','#set_winddown','chime','gain','warn','Sortable','stopPropagation','L·ªói\x20l∆∞u\x20d·ªØ\x20li·ªáu:\x20','body','flex','item','opacity','transaction','Nh·∫Øm\x20m·∫Øt\x20v√†\x20th∆∞\x20gi√£n\x20trong\x20m·ªôt\x20ph√∫t.','L·ªói\x20t·ª´\x20Gemini:\x20','Ph·ª•c\x20h·ªìi\x20d·ªØ\x20li·ªáu\x20th√†nh\x20c√¥ng!\x20T·∫£i\x20l·∫°i\x20trang...','textContent','disabled','absolute','Missing\x20element','prevState','onkeydown','#view-timer','height','</td></tr>','data','closest','bottom','#btnAddGeneralNote','PLAYING','script','prompt','https://www.youtube.com','join','details','#set_long','T·ª±\x20h·ªèi\x20b·∫£n\x20th√¢n:\x20‚ÄúM√¨nh\x20c·∫£m\x20th·∫•y\x20th·∫ø\x20n√†o\x20l√∫c\x20n√†y?‚Äù','save','ytUrlFeedback','start','innerHeight','\x20ph√∫t','<div\x20class=\x22tiny\x22>Ch·ªçn\x20ch·ªß\x20ƒë·ªÅ\x20con\x20ƒë·ªÉ\x20b·∫Øt\x20ƒë·∫ßu\x20chat.</div>','width','main_settings','_sortable','#btnClearChat','setProperty','__ytApiPromise','round','btn\x20small','Creating\x20backup\x20for\x20','tid','blob:','<div\x20class=\x22tiny\x22>Vui\x20l√≤ng\x20ch·ªçn\x20m·ªôt\x20ch·ªß\x20ƒë·ªÅ\x20con\x20ƒë·ªÉ\x20xem\x20t√≥m\x20t·∫Øt.</div>','frequency','.timer-circle-container','name','protocol','#statSessions','onupgradeneeded','tickHandle','ƒê·∫∑t\x20tay\x20l√™n\x20ng·ª±c,\x20c·∫£m\x20nh·∫≠n\x20nh·ªãp\x20tim\x20c·ªßa\x20m√¨nh.','repeat','topic','?\x20D·ªØ\x20li·ªáu\x20hi·ªán\x20t·∫°i\x20s·∫Ω\x20b·ªã\x20ghi\x20ƒë√®.','toLocaleString','\x20|\x20<strong>T·ªïng\x20nhi·ªám\x20v·ª•:</strong>\x20','A_work','tab','test','.json','position','styleWithCSS','location','C·∫ßn\x20c√≥\x20n·ªôi\x20dung\x20ƒë·ªÉ\x20AI\x20ƒë·ªãnh\x20d·∫°ng.','B·∫°n\x20c√≥\x20ch·∫Øc\x20mu·ªën\x20chuy·ªÉn\x20sang\x20Ki·ªÉu\x20','method-content','importData','tagName','G·ª≠i','#set_interval','stop','badge\x20state\x20work','paused','ENDED','ƒê·ªïi\x20t√™n\x20Ch·ªß\x20ƒë·ªÅ','D·ª±a\x20v√†o\x20th√¥ng\x20tin\x20sau:\x0a-\x20Ch·ªß\x20ƒë·ªÅ:\x20\x22','menu-item\x20danger','selectionStart','delete','end','longBreakIntervalB','Failed\x20to\x20load\x20YouTube\x20API','from','G·ª≠i\x20b·∫°n,\x2050\x20gi·ªù\x20(ƒê·ªông\x20l·ª±c)','no-subtopic-selected','#ytSoundVolume','left','mode','ƒê√£\x20d·ª´ng\x20nh·∫°c\x20n·ªÅn.','totalMinutes','ƒê√£\x20l∆∞u\x20√¢m\x20b√°o\x20h·∫øt\x20NGH·ªà\x20D√ÄI.','scroll','origin','lang','code','G·ª£i\x20Nh·ªõ\x20Ch·ªß\x20ƒê·ªông\x20(Active\x20Recall):\x20Nguy√™n\x20T·∫Øc\x20C·ªët\x20L√µi\x20ƒê·ªÉ\x20H·ªçc\x20S√¢u','N·∫Øn\x20nh·∫π\x20c√°c\x20kh·ªõp\x20ng√≥n\x20tay\x20sau\x20khi\x20g√µ\x20ph√≠m.','model','<p>N·∫øu\x20G·ª£i\x20nh·ªõ\x20ch·ªß\x20ƒë·ªông\x20l√†\x20v·ªÅ\x20c√°ch\x20h·ªçc,\x20th√¨\x20L·∫∑p\x20l·∫°i\x20ng·∫Øt\x20qu√£ng\x20l√†\x20v·ªÅ\x20th·ªùi\x20ƒëi·ªÉm\x20h·ªçc.\x20ƒê√¢y\x20l√†\x20m·ªôt\x20h·ªá\x20th·ªëng\x20l√™n\x20l·ªãch\x20√¥n\x20t·∫≠p\x20ƒë·ªÉ\x20ƒë∆∞a\x20th√¥ng\x20tin\x20v√†o\x20tr√≠\x20nh·ªõ\x20d√†i\x20h·∫°n\x20m·ªôt\x20c√°ch\x20hi·ªáu\x20qu·∫£\x20nh·∫•t.</p><h4>Nguy√™n\x20T·∫Øc\x20C·ªët\x20L√µi:\x20Ch·ªëng\x20L·∫°i\x20S·ª±\x20L√£ng\x20Qu√™n\x20üß†</h4><p>Ph∆∞∆°ng\x20ph√°p\x20n√†y\x20d·ª±a\x20tr√™n\x20\x22ƒê∆∞·ªùng\x20cong\x20L√£ng\x20qu√™n\x22,\x20cho\x20th·∫•y\x20ch√∫ng\x20ta\x20qu√™n\x20th√¥ng\x20tin\x20nhanh\x20nh·∫•t\x20ngay\x20sau\x20khi\x20h·ªçc.\x20L·∫∑p\x20l·∫°i\x20ng·∫Øt\x20qu√£ng\x20ho·∫°t\x20ƒë·ªông\x20b·∫±ng\x20c√°ch\x20y√™u\x20c·∫ßu\x20b·∫°n\x20√¥n\x20t·∫≠p\x20l·∫°i\x20m·ªôt\x20th√¥ng\x20tin\x20ngay\x20tr∆∞·ªõc\x20khi\x20b·∫°n\x20s·∫Øp\x20qu√™n\x20n√≥.</p><p>M·ªói\x20l·∫ßn\x20√¥n\x20t·∫≠p\x20th√†nh\x20c√¥ng\x20s·∫Ω\x20l√†m\x20cho\x20kho·∫£ng\x20th·ªùi\x20gian\x20b·∫°n\x20nh·ªõ\x20th√¥ng\x20tin\x20ƒë√≥\x20d√†i\x20ra.\x20L·∫ßn\x20ƒë·∫ßu\x20b·∫°n\x20c√≥\x20th·ªÉ\x20qu√™n\x20sau\x201\x20ng√†y,\x20nh∆∞ng\x20sau\x20khi\x20√¥n\x20t·∫≠p,\x20b·∫°n\x20s·∫Ω\x20nh·ªõ\x20ƒë∆∞·ª£c\x20trong\x203\x20ng√†y,\x20r·ªìi\x201\x20tu·∫ßn,\x201\x20th√°ng,\x20v√†\x20c·ª©\x20th·∫ø\x20xa\x20d·∫ßn.</p><h4>C√¥ng\x20C·ª•\x20Hi·ªáu\x20Qu·∫£\x20Nh·∫•t:\x20Ph·∫ßn\x20M·ªÅm\x20SRS\x20üì±</h4><p>Thay\x20v√¨\x20t·ª±\x20l√™n\x20l·ªãch\x20th·ªß\x20c√¥ng,\x20c√°ch\x20hi·ªáu\x20qu·∫£\x20nh·∫•t\x20l√†\x20s·ª≠\x20d·ª•ng\x20c√°c\x20ph·∫ßn\x20m·ªÅm\x20L·∫∑p\x20l·∫°i\x20ng·∫Øt\x20qu√£ng\x20(Spaced\x20Repetition\x20Software\x20-\x20SRS).\x20Anki\x20ƒë∆∞·ª£c\x20xem\x20l√†\x20ti√™u\x20chu·∫©n\x20v√†ng.\x20N√≥\x20t·ª±\x20ƒë·ªông\x20h√≥a\x20ho√†n\x20to√†n\x20vi·ªác\x20l√™n\x20l·ªãch\x20√¥n\x20t·∫≠p\x20cho\x20h√†ng\x20ng√†n\x20th·∫ª\x20ghi\x20nh·ªõ\x20d·ª±a\x20tr√™n\x20ƒë·ªô\x20kh√≥\x20m√†\x20b·∫°n\x20t·ª±\x20ƒë√°nh\x20gi√°,\x20ƒë·∫£m\x20b·∫£o\x20b·∫°n\x20lu√¥n\x20√¥n\x20t·∫≠p\x20v√†o\x20th·ªùi\x20ƒëi·ªÉm\x20t·ªëi\x20∆∞u\x20nh·∫•t.</p><h4>Sai\x20L·∫ßm\x20L·ªõn\x20Nh·∫•t\x20C·∫ßn\x20Tr√°nh\x20‚ùå</h4><p>L√Ω\x20do\x20s·ªë\x20m·ªôt\x20khi·∫øn\x20m·ªçi\x20ng∆∞·ªùi\x20th·∫•t\x20b·∫°i\x20v·ªõi\x20ph∆∞∆°ng\x20ph√°p\x20n√†y\x20l√†\x20\x22Qu√°\x20t·∫£i\x20L·ªãch\x20√¥n\x20t·∫≠p\x22\x20(Review\x20Overload).\x20ƒêi·ªÅu\x20n√†y\x20x·∫£y\x20ra\x20khi\x20b·∫°n\x20t·∫°o\x20qu√°\x20nhi·ªÅu\x20th·∫ª\x20m·ªõi\x20m·ªói\x20ng√†y\x20ho·∫∑c\x20b·ªè\x20l·ª°\x20v√†i\x20ng√†y\x20√¥n\x20t·∫≠p,\x20d·∫´n\x20ƒë·∫øn\x20m·ªôt\x20l∆∞·ª£ng\x20th·∫ª\x20t·ªìn\x20ƒë·ªçng\x20kh·ªïng\x20l·ªì\x20g√¢y\x20n·∫£n\x20ch√≠.</p><p><strong>Gi·∫£i\x20ph√°p\x20(20%\x20h√†nh\x20ƒë·ªông,\x2080%\x20k·∫øt\x20qu·∫£):</strong>\x20H√£y\x20nh·∫•t\x20qu√°n.\x20ƒê·∫∑t\x20ra\x20gi·ªõi\x20h·∫°n\x20th·ª±c\x20t·∫ø\x20v·ªÅ\x20s·ªë\x20l∆∞·ª£ng\x20th·∫ª\x20m·ªõi\x20m·ªói\x20ng√†y\x20(v√≠\x20d·ª•:\x2010-20\x20th·∫ª)\x20v√†\x20duy\x20tr√¨\x20vi·ªác\x20√¥n\x20t·∫≠p\x20h√†ng\x20ng√†y.\x20Th√†\x20h·ªçc\x20√≠t\x20m√†\x20ƒë·ªÅu\x20c√≤n\x20h∆°n\x20h·ªçc\x20d·ªìn.</p><h4>S·ª±\x20K·∫øt\x20H·ª£p\x20S·ªëng\x20C√≤n:\x20AR\x20+\x20SR</h4><p>L·∫∑p\x20l·∫°i\x20ng·∫Øt\x20qu√£ng\x20(SR)\x20v√†\x20G·ª£i\x20nh·ªõ\x20ch·ªß\x20ƒë·ªông\x20(AR)\x20l√†\x20hai\x20m·∫∑t\x20c·ªßa\x20c√πng\x20m·ªôt\x20ƒë·ªìng\x20xu\x20v√†\x20kh√¥ng\x20th·ªÉ\x20t√°ch\x20r·ªùi.\x20SR\x20cung\x20c·∫•p\x20l·ªãch\x20tr√¨nh\x20KHI\x20N√ÄO\x20n√™n\x20√¥n\x20t·∫≠p.\x20AR\x20l√†\x20h√†nh\x20ƒë·ªông\x20b·∫°n\x20th·ª±c\x20hi·ªán\x20KHI\x20√¥n\x20t·∫≠p.\x20S·ª±\x20k·∫øt\x20h·ª£p\x20n√†y\x20ƒë·∫£m\x20b·∫£o\x20n·ªó\x20l·ª±c\x20g·ª£i\x20nh·ªõ\x20c·ªßa\x20b·∫°n\x20x·∫£y\x20ra\x20v√†o\x20\x22ƒëi·ªÉm\x20ng·ªçt\x22\x20c·ªßa\x20tr√≠\x20nh·ªõ.\x20S·ª≠\x20d·ª•ng\x20Anki\x20ch√≠nh\x20l√†\x20c√°ch\x20tri·ªÉn\x20khai\x20k·ªπ\x20thu·∫≠t\x20k·∫øt\x20h·ª£p\x20n√†y\x20m·ªôt\x20c√°ch\x20hi·ªáu\x20qu·∫£\x20nh·∫•t.</p>','#timeDisplay','function','beep','input,select,textarea','var(--sub)','linearRampToValueAtTime','title','soundOn','Gemini\x20API\x20Error:','#btnSummarizeNote','Ôºã\x20Th√™m','sort','B·∫£n\x20sao\x20l∆∞u\x20ng√†y:\x20','#btnGenericOk','üí°\x20G·ª£i\x20√Ω:\x20','panelOpacity','customBg','className','.nav-btn[data-view=\x22','#btnPause','https://www.youtube.com/embed/','head','webkitAudioContext','revokeObjectURL','default','forEach','hist-item','#statTasks','note-content','statusText','\x22\x20title=\x22Ho√†n\x20th√†nh\x20task\x22>\x20<label\x20for=\x22','X√≥a','#methodEditorContentInput','theme','#modalSettings','note-item','ƒêang\x20ph√°t\x20nh·∫°c\x20n·ªÅn...','L·ªói:\x20','cyclesA','#selectedContext','Kh√¥ng\x20th·ªÉ\x20l∆∞u\x20thay\x20ƒë·ªïi.','</tbody></table>','isConnected','sessions','sess','badge','PomodoroAppDB','removeChild','onerror','AudioContext','NƒÉm\x20gi·ªù\x20t·∫≠p\x20trung!\x20B·∫°n\x20ƒë√£\x20v∆∞·ª£t\x20qua\x20r√†o\x20c·∫£n\x20l·ªõn\x20nh·∫•t:\x20s·ª±\x20tr√¨\x20ho√£n.\x20M·ªói\x20ph√∫t\x20b·∫°n\x20d√†nh\x20ra\x20ƒë·ªÅu\x20l√†\x20m·ªôt\x20l·ªùi\x20kh·∫≥ng\x20ƒë·ªãnh\x20cho\x20m·ª•c\x20ti√™u\x20c·ªßa\x20m√¨nh.\x20H√£y\x20gi·ªØ\x20v·ªØng\x20ng·ªçn\x20l·ª≠a\x20n√†y!','#toolBold','bg-view-mode','S·ª≠a','&gt;','</td><td>','Nh·∫≠p\x20th·∫•t\x20b·∫°i:\x20','<p>Benjamin\x20Franklin\x20ƒë√£\x20t·ª±\x20r√®n\x20luy·ªán\x20k·ªπ\x20nƒÉng\x20vi·∫øt\x20t·ª´\x20k√©m\x20c·ªèi\x20tr·ªü\x20n√™n\x20b·∫≠c\x20th·∫ßy\x20b·∫±ng\x20m·ªôt\x20ph∆∞∆°ng\x20ph√°p\x20ch·ªß\x20ƒë·ªông,\x20thay\x20v√¨\x20ch·ªâ\x20ƒë·ªçc\x20m·ªôt\x20c√°ch\x20th·ª•\x20ƒë·ªông.\x20C·ªët\x20l√µi\x20c·ªßa\x20ph∆∞∆°ng\x20ph√°p\x20n√†y\x20l√†\x20ph√¢n\x20t√≠ch,\x20t√°i\x20t·∫°o,\x20v√†\x20so\x20s√°nh\x20v·ªõi\x20m·ªôt\x20b√†i\x20vi·∫øt\x20ch·∫•t\x20l∆∞·ª£ng\x20cao.</p><p>ƒê√¢y\x20l√†\x20m·ªôt\x20v√≠\x20d·ª•\x20kinh\x20ƒëi·ªÉn\x20c·ªßa\x20\x22Luy·ªán\x20t·∫≠p\x20c√≥\x20Ch·ªß\x20ƒë√≠ch\x22:\x20t·∫≠p\x20trung\x20v√†o\x20ƒëi·ªÉm\x20y·∫øu,\x20c√≥\x20m·ª•c\x20ti√™u\x20r√µ\x20r√†ng\x20v√†\x20nh·∫≠n\x20ph·∫£n\x20h·ªìi\x20ngay\x20l·∫≠p\x20t·ª©c.</p><h4>Quy\x20Tr√¨nh\x203\x20B∆∞·ªõc\x20C·ªët\x20L√µi</h4><ol><li><strong>Ph√¢n\x20T√≠ch\x20(Deconstruct):</strong>\x20ƒê·ªçc\x20m·ªôt\x20b√†i\x20vi·∫øt\x20m·∫´u\x20xu·∫•t\x20s·∫Øc.\x20Sau\x20ƒë√≥,\x20ch·ªâ\x20ghi\x20l·∫°i\x20nh·ªØng\x20√Ω\x20ch√≠nh\x20c·ªßa\x20t·ª´ng\x20ƒëo·∫°n\x20ho·∫∑c\x20t·ª´ng\x20c√¢u\x20ra\x20m·ªôt\x20t·ªù\x20gi·∫•y\x20ri√™ng.</li><li><strong>T√°i\x20T·∫°o\x20(Reconstruct):</strong>\x20V√†i\x20ng√†y\x20sau,\x20khi\x20ƒë√£\x20qu√™n\x20ƒëi\x20vƒÉn\x20phong\x20c·ªßa\x20b·∫£n\x20g·ªëc,\x20h√£y\x20d√πng\x20nh·ªØng\x20ghi\x20ch√∫\x20√Ω\x20ch√≠nh\x20ƒë√≥\x20ƒë·ªÉ\x20vi·∫øt\x20l·∫°i\x20to√†n\x20b·ªô\x20b√†i\x20vi·∫øt\x20b·∫±ng\x20ng√¥n\x20ng·ªØ\x20v√†\x20c√°ch\x20di·ªÖn\x20ƒë·∫°t\x20c·ªßa\x20ch√≠nh\x20b·∫°n.</li><li><strong>So\x20S√°nh\x20&\x20S·ª≠a\x20L·ªói\x20(Compare\x20&\x20Correct):</strong>\x20ƒê·ªëi\x20chi·∫øu\x20tr·ª±c\x20ti·∫øp\x20b√†i\x20vi·∫øt\x20c·ªßa\x20b·∫°n\x20v·ªõi\x20b·∫£n\x20g·ªëc.\x20ƒê√¢y\x20l√†\x20b∆∞·ªõc\x20quan\x20tr·ªçng\x20nh·∫•t.\x20N√≥\x20gi√∫p\x20b·∫°n\x20ph√°t\x20hi·ªán\x20ngay\x20l·∫≠p\x20t·ª©c\x20nh·ªØng\x20l·ªói\x20sai\x20v·ªÅ\x20t·ª´\x20v·ª±ng,\x20c·∫•u\x20tr√∫c\x20c√¢u,\x20v√†\x20c√°ch\x20s·∫Øp\x20x·∫øp\x20√Ω\x20t∆∞·ªüng\x20ƒë·ªÉ\x20s·ª≠a\x20ch·ªØa.</li></ol><p>Franklin\x20c√≤n\x20th·ª±c\x20h√†nh\x20c√°c\x20bi·∫øn\x20th·ªÉ\x20n√¢ng\x20cao\x20nh∆∞\x20x√°o\x20tr·ªôn\x20th·ª©\x20t·ª±\x20c√°c\x20√Ω\x20ch√≠nh\x20ƒë·ªÉ\x20r√®n\x20luy·ªán\x20t∆∞\x20duy\x20logic,\x20ho·∫∑c\x20chuy·ªÉn\x20vƒÉn\x20xu√¥i\x20th√†nh\x20th∆°\x20ƒë·ªÉ\x20l√†m\x20gi√†u\x20v·ªën\x20t·ª´.</p><h4>Nguy√™n\x20T·∫Øc\x20V√†ng</h4><p>Th√†nh\x20c√¥ng\x20c·ªßa\x20ph∆∞∆°ng\x20ph√°p\x20n√†y\x20kh√¥ng\x20ƒë·∫øn\x20t·ª´\x20vi·ªác\x20l·∫∑p\x20l·∫°i\x20v√¥\x20th·ª©c,\x20m√†\x20ƒë·∫øn\x20t·ª´\x20v√≤ng\x20l·∫∑p\x20ph·∫£n\x20h·ªìi\x20tr·ª±c\x20ti·∫øp.\x20Vi·ªác\x20so\x20s√°nh\x20v·ªõi\x20b·∫£n\x20g·ªëc\x20bu·ªôc\x20b·∫°n\x20ph·∫£i\x20ƒë·ªëi\x20m·∫∑t\x20v√†\x20s·ª≠a\x20ch·ªØa\x20nh·ªØng\x20ƒëi·ªÉm\x20y·∫øu\x20c·ª•\x20th·ªÉ\x20c·ªßa\x20m√¨nh,\x20bi·∫øn\x20vi·ªác\x20h·ªçc\x20t·ª´\x20m·ªôt\x20qu√°\x20tr√¨nh\x20m∆°\x20h·ªì\x20th√†nh\x20m·ªôt\x20b√†i\x20t·∫≠p\x20c√≥\x20th·ªÉ\x20ƒëo\x20l∆∞·ªùng\x20ƒë∆∞·ª£c.</p><p><i>ƒê·ªÉ\x20vi·∫øt\x20gi·ªèi\x20h∆°n,\x20ƒë·ª´ng\x20ch·ªâ\x20ƒë·ªçc.\x20H√£y\x20ch·ªçn\x20m·ªôt\x20b√†i\x20vi·∫øt\x20hay,\x20ph√¢n\x20t√≠ch\x20n√≥,\x20c·ªë\x20g·∫Øng\x20vi·∫øt\x20l·∫°i,\x20v√†\x20so\x20s√°nh\x20ƒë·ªÉ\x20t√¨m\x20ra\x20l·ªói\x20sai.</i></p>','var(--muted)','enableSessionNotes','\x20|\x20<strong>T·ªïng\x20phi√™n:</strong>\x20','break_end','methodId','createGain','generalNotes','backups','splice','chat-msg\x20','sound_unlocked','undefined','substring','note','Ki·ªÉm\x20tra\x20v√†\x20ch·ªânh\x20l·∫°i\x20t∆∞\x20th·∫ø\x20ng·ªìi\x20cho\x20ƒë√∫ng.','Th√™m\x20t√πy\x20ch·ªçn','setVolume','appendChild','ghost','stringify','long_break','ArrowRight','.tab-btn','catch','<tr><td>','tasksCompleted','play','getBoundingClientRect','#btnSendMessage','<ol>','pointerdown','then','IndexedDB\x20error:','#customSoundsContainer','<div\x20class=\x22tiny\x22>Vui\x20l√≤ng\x20ch·ªçn\x20m·ªôt\x20ch·ªß\x20ƒë·ªÅ\x20con.</div>','#windDownChecklist','#methodEditorId','#historyList','Kh√¥ng\x20t√¨m\x20th·∫•y\x20b·∫£n\x20sao\x20l∆∞u.','state','.method-edit','ƒê√£\x20l∆∞u\x20c√†i\x20ƒë·∫∑t','#genericTitle','N·∫°p\x20nƒÉng\x20l∆∞·ª£ng\x20b·∫±ng\x20m·ªôt\x20m√≥n\x20ƒÉn\x20nh·∫π\x20l√†nh\x20m·∫°nh.','Vui\x20l√≤ng\x20ch·ªçn\x20m·ªôt\x20Ch·ªß\x20ƒë·ªÅ\x20con\x20tr∆∞·ªõc.','split','block','reload','cycles','#set_enableSessionNotes','Vui\x20l√≤ng\x20nh·∫≠p\x20ghi\x20ch√∫\x20tr∆∞·ªõc\x20khi\x20t√≥m\x20t·∫Øt.','summaries','#timerPresetSelector\x20button','href','#settings-flowtime','destroy','A_short','note-content-wrapper','#set_theme_color','btn\x20small\x20ghost\x20method-edit','Nghe\x20m·ªôt\x20b·∫£n\x20nh·∫°c\x20y√™u\x20th√≠ch.','objectStore','Tho√°t\x20to√†n\x20m√†n\x20h√¨nh','ƒê√£\x20nh·∫≠p\x20d·ªØ\x20li·ªáu\x20th√†nh\x20c√¥ng!','pastel','segmentTotal','.nav-btn','Failed\x20to\x20save\x20data:','ƒê·ªïi\x20t√™n\x20Ch·ªß\x20ƒë·ªÅ\x20con','isArray','<p\x20class=\x22tiny\x22\x20style=\x22opacity:0.7;\x22>Ch∆∞a\x20c√≥\x20tri\x20th·ª©c\x20n√†o\x20trong\x20Ch·ªß\x20ƒë·ªÅ\x20con\x20n√†y.</p>','length','#toolH4','setItem','breathing','activeElement','autoStartNext','change','Th√™m\x20Tri\x20th·ª©c\x20m·ªõi','ƒêang\x20ph√°t','pause','stats','stopVideo','insertUnorderedList','value','#modalGeneric','<p>G·ª£i\x20nh·ªõ\x20ch·ªß\x20ƒë·ªông\x20l√†\x20h√†nh\x20ƒë·ªông\x20n·ªó\x20l·ª±c\x20truy\x20xu·∫•t\x20th√¥ng\x20tin\x20t·ª´\x20n√£o\x20b·ªô\x20m√†\x20kh√¥ng\x20nh√¨n\x20v√†o\x20t√†i\x20li·ªáu.\x20ƒê√¢y\x20l√†\x20ph∆∞∆°ng\x20ph√°p\x20h·ªçc\x20hi·ªáu\x20qu·∫£\x20v∆∞·ª£t\x20tr·ªôi\x20so\x20v·ªõi\x20vi·ªác\x20ƒë·ªçc\x20l·∫°i,\x20highlight\x20hay\x20t√≥m\x20t·∫Øt\x20m·ªôt\x20c√°ch\x20th·ª•\x20ƒë·ªông.</p><h4>Nguy√™n\x20T·∫Øc\x2020/80</h4><p><strong>20%\x20C·ªët\x20l√µi:</strong>\x20H√†nh\x20ƒë·ªông\x20\x22v·∫Øt\x20√≥c\x22\x20ƒë·ªÉ\x20nh·ªõ\x20l·∫°i\x20th√¥ng\x20tin\x20s·∫Ω\x20c·ªßng\x20c·ªë\x20c√°c\x20li√™n\x20k·∫øt\x20th·∫ßn\x20kinh,\x20gi√∫p\x20chuy·ªÉn\x20ki·∫øn\x20th·ª©c\x20v√†o\x20b·ªô\x20nh·ªõ\x20d√†i\x20h·∫°n.\x20C·∫£m\x20gi√°c\x20kh√≥\x20khƒÉn\x20khi\x20c·ªë\x20g·∫Øng\x20nh·ªõ\x20ch√≠nh\x20l√†\x20d·∫•u\x20hi·ªáu\x20c·ªßa\x20vi·ªác\x20h·ªçc\x20t·∫≠p\x20hi·ªáu\x20qu·∫£\x20ƒëang\x20di·ªÖn\x20ra.</p><p><strong>80%\x20K·∫øt\x20qu·∫£:</strong>\x20B·∫°n\x20s·∫Ω\x20ghi\x20nh·ªõ\x20ki·∫øn\x20th·ª©c\x20s√¢u\x20v√†\x20l√¢u\x20h∆°n,\x20ƒë·ªìng\x20th·ªùi\x20bi·∫øt\x20ch√≠nh\x20x√°c\x20m√¨nh\x20ƒëang\x20y·∫øu\x20·ªü\x20ƒë√¢u.</p><h4>C√°c\x20Ph∆∞∆°ng\x20Ph√°p\x20Quan\x20Tr·ªçng\x20Nh·∫•t</h4><ul><li><strong>T·ª±\x20Ki·ªÉm\x20Tra\x20(Self-testing):</strong>\x20Thay\x20v√¨\x20ƒë·ªçc\x20l·∫°i\x20ghi\x20ch√∫,\x20h√£y\x20che\x20ch√∫ng\x20ƒëi\x20v√†\x20t·ª±\x20ƒë·∫∑t\x20c√¢u\x20h·ªèi\x20cho\x20m√¨nh.\x20V√≠\x20d·ª•:\x20D√πng\x20flashcards\x20(th·∫ª\x20ghi\x20nh·ªõ)\x20v√†\x20lu√¥n\x20tr·∫£\x20l·ªùi\x20tr∆∞·ªõc\x20khi\x20l·∫≠t\x20xem\x20ƒë√°p\x20√°n.</li><li><strong>K·ªπ\x20thu·∫≠t\x20\x22Blurting\x22:</strong>\x20Sau\x20khi\x20h·ªçc\x20m·ªôt\x20ch·ªß\x20ƒë·ªÅ,\x20h√£y\x20ƒë√≥ng\x20s√°ch\x20l·∫°i\x20v√†\x20vi·∫øt\x20ra\x20gi·∫•y\x20m·ªçi\x20th·ª©\x20b·∫°n\x20c√≥\x20th·ªÉ\x20nh·ªõ.\x20Sau\x20ƒë√≥,\x20so\x20s√°nh\x20v·ªõi\x20t√†i\x20li·ªáu\x20g·ªëc\x20ƒë·ªÉ\x20l·∫•p\x20ƒë·∫ßy\x20nh·ªØng\x20l·ªó\x20h·ªïng\x20ki·∫øn\x20th·ª©c.</li><li><strong>D·∫°y\x20l·∫°i\x20cho\x20ng∆∞·ªùi\x20kh√°c:</strong>\x20Gi·∫£i\x20th√≠ch\x20m·ªôt\x20kh√°i\x20ni·ªám\x20cho\x20ng∆∞·ªùi\x20kh√°c\x20bu·ªôc\x20b·∫°n\x20ph·∫£i\x20truy\x20xu·∫•t,\x20ƒë∆°n\x20gi·∫£n\x20h√≥a\x20v√†\x20s·∫Øp\x20x·∫øp\x20l·∫°i\x20th√¥ng\x20tin\x20m·ªôt\x20c√°ch\x20m·∫°ch\x20l·∫°c.</li></ul><p><i>T√≥m\x20l·∫°i:\x20ƒê·ª´ng\x20ch·ªâ\x20ƒë·ªçc\x20l·∫°i.\x20H√£y\x20d·ª´ng\x20l·∫°i,\x20che\x20t√†i\x20li·ªáu\x20ƒëi,\x20v√†\x20t·ª±\x20h·ªèi:\x20\x22M√¨nh\x20th·ª±c\x20s·ª±\x20nh·ªõ\x20ƒë∆∞·ª£c\x20g√¨?\x22</i></p>','onclick','input','Ch·ªçn\x20ch·ªß\x20ƒë·ªÅ\x20con\x20tr∆∞·ªõc.','objectStoreNames','connect','T√≥m\x20t·∫Øt\x20c√°c\x20ghi\x20ch√∫\x20sau\x20theo\x20g·∫°ch\x20ƒë·∫ßu\x20d√≤ng,\x20ng·∫Øn\x20g·ªçn,\x20r√µ\x20r√†ng:\x0a\x0a','scrollHeight','exitFullscreen','#set_work','postMessage','.sub-row','update','object','657520zQNaok','B·∫°n\x20c√≥\x20ch·∫Øc\x20mu·ªën\x20x√≥a\x20Ch·ªß\x20ƒë·ªÅ\x20con\x20\x22','&amp;','startsWith','version','preset','getAllKeys','Xu·∫•t','mousedown','getMonth','radial-gradient(1200px\x20800px\x20at\x2010%\x20-10%,\x20#20285b\x200%,\x20#0f1222\x2050%,\x20#0b0e1a\x20100%)','G·ª≠i\x20b·∫°n,\x2020\x20gi·ªù\x20(N·ªÅn\x20t·∫£ng)','durations','cycleIndex','finishFlowSession','#btnDefaults','beginWork','autoBackup','<i>$1</i>','application/json','sine','#cycleInfo','note-meta','<svg\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20width=\x2216\x22\x20height=\x2216\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M9.88\x209.88a3\x203\x200\x201\x200\x204.24\x204.24\x22/><path\x20d=\x22M10.73\x205.08A10.43\x2010.43\x200\x200\x201\x2012\x205c7\x200\x2010\x207\x2010\x207a13.16\x2013.16\x200\x200\x201-1.67\x202.68\x22/><path\x20d=\x22M6.61\x206.61A13.526\x2013.526\x200\x200\x200\x202\x2012s3\x207\x2010\x207a9.74\x209.74\x200\x200\x200\x205.39-1.61\x22/><line\x20x1=\x222\x22\x20y1=\x222\x22\x20x2=\x2222\x22\x20y2=\x2222\x22/></svg>','relative','#btnSkip','selectedTopicId','oncomplete','btnToggleYtSound','H√£y\x20ƒë·ª©ng\x20d·∫≠y\x20v∆∞∆°n\x20vai\x20v√†\x20du·ªói\x20ng∆∞·ªùi.','triangle','playVideo','src','match','#topicsList','ƒê·ª©ng\x20l√™n\x20v√†\x20ƒëi\x20l·∫°i\x20v√†i\x20b∆∞·ªõc\x20ƒë·ªÉ\x20m√°u\x20l∆∞u\x20th√¥ng.','5725280dMCNIg','Player','#btnDashboard','parse','long_end','Daily\x20backup\x20successful.','requestFullscreen','Ph∆∞∆°ng\x20Ph√°p\x20Vi·∫øt\x20c·ªßa\x20Benjamin\x20Franklin:\x20H·ªçc\x20Vi·∫øt\x20B·∫±ng\x20C√°ch\x20T√°i\x20T·∫°o','backgroundMode','#methodEditorTitleInput','.timer-circle-progress','.nav-btn[data-view]','250\x20gi·ªù\x20l√†\x20minh\x20ch·ª©ng\x20cho\x20s·ª±\x20b·ªÅn\x20b·ªâ\x20ƒë√°ng\x20kinh\x20ng·∫°c.\x20B·∫°n\x20ƒë√£\x20ƒë·ªëi\x20m·∫∑t\x20v·ªõi\x20nh·ªØng\x20ng√†y\x20kh√≥\x20khƒÉn,\x20nh·ªØng\x20l√∫c\x20m·∫•t\x20t·∫≠p\x20trung,\x20nh∆∞ng\x20b·∫°n\x20v·∫´n\x20quay\x20tr·ªü\x20l·∫°i.\x20S·ª©c\x20m·∫°nh\x20th·ª±c\x20s·ª±\x20n·∫±m\x20·ªü\x20ch√≠nh\x20s·ª±\x20ki√™n\x20tr√¨\x20n√†y.','localeCompare','#draggableTimer','backgroundSize','https://img.youtube.com/vi/','innerHTML','strokeDasharray','100\x20gi·ªù!\x20ƒê√¢y\x20kh√¥ng\x20c√≤n\x20l√†\x20m·ªôt\x20th·ª≠\x20nghi·ªám\x20n·ªØa,\x20m√†\x20l√†\x20m·ªôt\x20s·ª±\x20ƒë·∫ßu\x20t∆∞\x20nghi√™m\x20t√∫c\x20cho\x20m·ª•c\x20ti√™u\x20c·ªßa\x20b·∫°n.\x0a\x0aH√£y\x20d√†nh\x20m·ªôt\x20ch√∫t\x20th·ªùi\x20gian\x20ƒë·ªÉ\x20nh√¨n\x20l·∫°i:\x20100\x20gi·ªù\x20t·∫≠p\x20trung\x20n√†y\x20ƒë√£\x20gi√∫p\x20b·∫°n\x20ti·∫øn\x20xa\x20ƒë·∫øn\x20ƒë√¢u?\x20NƒÉng\x20l∆∞·ª£ng\x20b·∫°n\x20b·ªè\x20ra\x20ƒëang\x20ƒë·ªãnh\x20h√¨nh\x20n√™n\x20k·∫øt\x20qu·∫£.','·∫®n\x20giao\x20di·ªán','break','#audioLongEnd','div','#set_panelOpacity','Deleted\x20old\x20backup:\x20','text/plain','#set_enableWinddown','Ch∆∞a\x20c√≥\x20ghi\x20ch√∫\x20ƒë·ªÉ\x20t√≥m\x20t·∫Øt.','resume','#btnFinishFlow','span','Ch√∫c\x20m·ª´ng\x20b·∫°n\x20ƒë√£\x20l√†m\x20ƒë∆∞·ª£c\x20ƒëi·ªÅu\x20kh√≥\x20nh·∫•t:\x20B·∫Øt\x20ƒë·∫ßu\x20v√†\x20duy\x20tr√¨.\x0a\x0a20\x20gi·ªù\x20kh√¥ng\x20ch·ªâ\x20l√†\x20th·ªùi\x20gian,\x20ƒë√≥\x20l√†\x2020\x20gi·ªù\x20b·∫°n\x20ƒë√£\x20chi·∫øn\x20th·∫Øng\x20s·ª±\x20xao\x20nh√£ng.\x20B·∫°n\x20ƒëang\x20x√¢y\x20d·ª±ng\x20m·ªôt\x20n·ªÅn\x20t·∫£ng\x20v·ªØng\x20ch·∫Øc\x20cho\x20s·ª±\x20k·ª∑\x20lu·∫≠t.\x20H√£y\x20t·ª±\x20h√†o\x20v·ªÅ\x20kh·ªüi\x20ƒë·∫ßu\x20n√†y.','DB_NAME','getPropertyValue','mousemove','&quot;','innerWidth','selectionEnd','isCompleted','Kh√¥ng\x20t·∫£i\x20ƒë∆∞·ª£c\x20API\x20YouTube.\x20Ki·ªÉm\x20tra\x20m·∫°ng\x20ho·∫∑c\x20t·∫£i\x20l·∫°i\x20trang.','#btnPresetC','remaining','getSettings','L·ªói:\x20ƒê√£\x20v∆∞·ª£t\x20qu√°\x20h·∫°n\x20m·ª©c\x20y√™u\x20c·∫ßu\x20t·ªõi\x20Gemini.\x20Vui\x20l√≤ng\x20th·ª≠\x20l·∫°i\x20sau\x20√≠t\x20ph√∫t.','remove','method-title','--bg-image','select','‚ú®\x20T·ª±\x20ƒë·ªông\x20ƒë·ªãnh\x20d·∫°ng','Phi√™n\x20ƒë√£\x20ho√†n\x20th√†nh!\x20Nh·∫•n\x20B·∫Øt\x20ƒë·∫ßu\x20ƒë·ªÉ\x20b·∫Øt\x20ƒë·∫ßu\x20phi√™n\x20ti·∫øp\x20theo.','removing','unMute','L·ªói\x20kh·ªüi\x20t·∫°o:\x20','ƒêang\x20t·∫£i\x20API\x20YouTube...','#backupList','readwrite','ƒê√£\x20c·∫≠p\x20nh·∫≠t\x20h√¨nh\x20n·ªÅn.','currentView','G·ª≠i\x20b·∫°n,\x20100\x20gi·ªù\x20c·ªëng\x20hi·∫øn\x20(Cam\x20k·∫øt)','5.000\x20gi·ªù\x20t·∫≠p\x20trung\x20c√≥\x20ch·ªß\x20ƒë√≠ch.\x20ƒê√¢y\x20l√†\x20m·ªôt\x20th√†nh\x20t·ª±u\x20m√†\x20r·∫•t\x20√≠t\x20ng∆∞·ªùi\x20ƒë·∫°t\x20ƒë∆∞·ª£c.\x0a\x0aT·∫°i\x20c·ªôt\x20m·ªëc\x20n√†y,\x20c√¢u\x20h·ªèi\x20kh√¥ng\x20c√≤n\x20l√†\x20\x27L√†m\x20th·∫ø\x20n√†o\x20ƒë·ªÉ\x20t·∫≠p\x20trung?\x27,\x20m√†\x20l√†\x20\x27S·ª±\x20t·∫≠p\x20trung\x20n√†y\x20s·∫Ω\x20ƒë∆∞·ª£c\x20d√πng\x20ƒë·ªÉ\x20t·∫°o\x20ra\x20gi√°\x20tr·ªã\x20g√¨?\x27.\x20B·∫°n\x20kh√¥ng\x20ch·ªâ\x20l√†m\x20vi·ªác,\x20b·∫°n\x20ƒëang\x20t·∫°o\x20ra\x20di\x20s·∫£n.','durationMinutes','NGH·ªà\x20D√ÄI','addEventListener','&lt;','.method-item','#genericInput','#toolColor','task','#aiPromptSuggestions\x20button','toString','#btnHelpCreateTopic','Nguy√™n\x20T·∫Øc\x2080/20\x20ƒê·ªÉ\x20Chinh\x20Ph·ª•c\x20Lƒ©nh\x20V·ª±c\x20M·ªõi','timer.selectSubtopicPrompt','B·∫°n\x20c√≥\x20ch·∫Øc\x20mu·ªën\x20ph·ª•c\x20h·ªìi\x20d·ªØ\x20li·ªáu\x20t·ª´\x20ng√†y\x20','oldIndex','</ul>','removeEventListener','open','setRangeText','M·ªü\x20c·ª≠a\x20s·ªï\x20cho\x20kh√¥ng\x20kh√≠\x20m·ªõi\x20v√†o\x20ph√≤ng.','apiKey','actions','getPlayerState','<div\x20class=\x22tiny\x22>Ch∆∞a\x20c√≥\x20d·ªØ\x20li·ªáu</div>','badge\x20state\x20long','lofi','work_end','#noteText','max','\x20(B)','top','shiftKey','.color-swatch','.topic-item','modalMethodEditor','#set_ytThumbAsBg','parentElement','A_long','finished','#toolList','view','lastBackupDate','beginWindDown','show','topic-actions','2zPJBsU','createOscillator','#btnBreakEarly','floor','toLocaleDateString','subtopics','img.youtube.com/vi/','querySelectorAll','L·ªói:\x20Gemini\x20API\x20Key\x20kh√¥ng\x20h·ª£p\x20l·ªá\x20ho·∫∑c\x20ƒë√£\x20b·ªã\x20thay\x20ƒë·ªïi.\x20Vui\x20l√≤ng\x20ki·ªÉm\x20tra\x20l·∫°i\x20trong\x20C√†i\x20ƒë·∫∑t.','contentWindow','result','getFullYear','trim','L√ÄM\x20VI·ªÜC','fullscreenElement','topics','B_winddown','getElementById','target','.topic-item.menu-active','ƒê√£\x20l∆∞u\x20√¢m\x20b√°o\x20h·∫øt\x20L√ÄM\x20VI·ªÜC.','<li\x20class=\x22tiny\x22\x20style=\x22opacity:\x200.7;\x22>Tuy·ªát\x20v·ªùi!\x20Kh√¥ng\x20c√≤n\x20task\x20n√†o.</li>','B_work','AutoBackup\x20error:','#btnClearBg','L√†m\x20ƒë·ªông\x20t√°c\x20‚Äúth·ªü\x20d√†i‚Äù\x20s√¢u\x20m·ªôt\x20l·∫ßn,\x20th·∫£\x20l·ªèng\x20vai.','var(--warn)','selectedSubtopicId','L·ªói\x20m·∫°ng\x20khi\x20k·∫øt\x20n·ªëi\x20ƒë·∫øn\x20Gemini.\x20Vui\x20l√≤ng\x20ki·ªÉm\x20tra\x20k·∫øt\x20n·ªëi\x20internet.','actions-menu','restoreBackup','updateUI','btn\x20small\x20ghost\x20actions-menu-btn','<div\x20class=\x22spinner\x22></div>','timerState','#uploadSoundWork','H·∫†\x20NHI·ªÜT','message','#btnStart','filter','var(--danger)','#dashboardContent','wind_down','values','.\x20Vui\x20l√≤ng\x20th·ª≠\x20l·∫°i\x20v·ªõi\x20n·ªôi\x20dung\x20kh√°c.','soundTheme','youtubeVolume','#chatMessages','<option\x20value=\x22\x22>Kh√¥ng\x20c√≥\x20b·∫£n\x20sao\x20l∆∞u\x20n√†o</option>','promptFeedback','user','#settings-pomodoro','currentConfig','--panel-opacity','min','#btnPresetA','</p>','#set_autoStartNext','#modalDashboard','by_topic','pauseVideo','download','documentElement','<p\x20class=\x22tiny\x22\x20style=\x22opacity:0.7;\x22>Vui\x20l√≤ng\x20ch·ªçn\x20m·ªôt\x20Ch·ªß\x20ƒë·ªÅ\x20con\x20ƒë·ªÉ\x20xem\x20Kho\x20Tri\x20Th·ª©c.</p>','put','error','#modalNote','menu-item','blockReason','#newSubtopicTaskInput','pomodoroData_v11','async','light','D√πng\x20AI\x20ƒë·ªÉ\x20t·ª±\x20ƒë·ªông\x20ƒë·ªãnh\x20d·∫°ng\x20vƒÉn\x20b·∫£n','collapsedTopics','K·ªπ\x20Thu·∫≠t\x20Feynman:\x20Hi·ªÉu\x20S√¢u\x20B·∫±ng\x20C√°ch\x20Gi·∫£i\x20Th√≠ch\x20ƒê∆°n\x20Gi·∫£n','#btnRestoreBackup','createObjectStore','NGH·ªà\x20NG·∫ÆN','resolve','50\x20gi·ªù\x20t·∫≠p\x20trung!\x20Th√≥i\x20quen\x20c·ªßa\x20b·∫°n\x20ƒëang\x20t·∫°o\x20ra\x20ƒë·ªông\x20l·ª±c.\x20S·ª±\x20nh·∫•t\x20qu√°n\x20nh·ªè\x20b√©\x20m·ªói\x20ng√†y\x20ƒëang\x20c·ªông\x20h∆∞·ªüng\x20th√†nh\x20nh·ªØng\x20b∆∞·ªõc\x20ti·∫øn\x20l·ªõn.\x20B·∫°n\x20ƒëang\x20ƒëi\x20ƒë√∫ng\x20h∆∞·ªõng,\x20h√£y\x20ti·∫øp\x20t·ª•c\x20ph√°t\x20huy.','Kh√¥ng\x20nh·∫≠n\x20ƒë∆∞·ª£c\x20n·ªôi\x20dung\x20h·ª£p\x20l·ªá\x20t·ª´\x20AI.','summary','youtube-player-container','#view-','defer','focus','<div><span\x20class=\x22tiny\x22>(ch∆∞a\x20c√≥\x20ghi\x20ch√∫)</span></div>','14mWLJHV','toast','0\x20ph√∫t','Nh·∫π\x20nh√†ng\x20nh·∫Øm\x20m·∫Øt\x20v√†\x20m·ªâm\x20c∆∞·ªùi\x20v·ªõi\x20ch√≠nh\x20m√¨nh.','#modalMilestone','#genericMessage','file','Nh·ªõ\x20u·ªëng\x20m·ªôt\x20ng·ª•m\x20n∆∞·ªõc\x20nh√©!','transition','string','B·∫°n\x20c√≥\x20ch·∫Øc\x20mu·ªën\x20x√≥a\x20t√≥m\x20t·∫Øt\x20n√†y?','command','#statTotal','abs','append','color','fullscreenchange','about:blank','log','.color-picker-wrapper','#set_flowRatio','getVolume','sum','T·ªáp\x20kh√¥ng\x20ƒë√∫ng\x20ƒë·ªãnh\x20d·∫°ng','exponentialRampToValueAtTime','#btnAutoFormat','.app-content','<li>','cover','#milestoneTitle','reset','.actions-menu','persistTimerState','aria-expanded','aria-pressed','execCommand','beforeunload','<h4>','clientY','</li>','G·ª≠i\x20b·∫°n,\x201.000\x20gi·ªù\x20(Chuy·ªÉn\x20h√≥a)','beginBreak','clear','data:','cyclesB','contains','button,\x20[href],\x20input,\x20select,\x20textarea,\x20[tabindex]:not([tabindex=\x22-1\x22])','#set_theme','Initialization\x20error:','createElement','mouseup','#set_cycles','#set_youtubeUrl','Ch√∫\x20√Ω\x20ƒë·∫øn\x20c·∫£m\x20gi√°c\x20nhi·ªát\x20ƒë·ªô,\x20√°nh\x20s√°ng\x20trong\x20ph√≤ng.','L·∫Øng\x20nghe\x20h∆°i\x20th·ªü\x20ra\x20v√†o\x20qua\x20m≈©i.','getItem','onload','527201TcoBXi','unshift','timer','</div>','backgroundRepeat','methods','option','692404TlgcsP','role','<div\x20class=\x22tiny\x22>Ch∆∞a\x20c√≥\x20phi√™n\x20n√†o</div>','sid','Th·∫£\x20l·ªèng\x20hai\x20ch√¢n,\x20l·∫Øc\x20nh·∫π\x20c·ªï\x20ch√¢n\x20d∆∞·ªõi\x20b√†n.','Th·ª±c\x20hi·ªán\x20v√†i\x20ƒë·ªông\x20t√°c\x20h√≠t\x20th·ªü\x20s√¢u.','/hqdefault.jpg','L·ªói\x20ph√°t\x20√¢m\x20thanh:','#toolBullet','_startTick','T√≥m\x20t·∫Øt\x20th·∫•t\x20b·∫°i.','newIndex','topic-header','onsuccess','cueVideoById','classList','#set_volume','textarea','currentDurations','content','all','OK.\x20Link\x20h·ª£p\x20l·ªá.\x20ƒêang\x20chu·∫©n\x20b·ªã\x20ph√°t...','Ch∆∞a\x20c√≥\x20link\x20h·ª£p\x20l·ªá.\x20D√°n\x20link\x20r·ªìi\x20b·∫•m\x20‚ñ∂Ô∏è.','\x20ti·∫øng\x20','auto','var(--acc-2)','kh√¥ng\x20r√µ','#btnPresetB','#toasts'];_0x5325=function(){return _0x230497;};return _0x5325();}function updateFullscreenButton(){const _0x2c3b85=_0x2d92ab,_0x331a21=$(_0x2c3b85(0x30f));document[_0x2c3b85(0x267)]?(_0x331a21[_0x2c3b85(0x200)]='‚ÜôÔ∏è',_0x331a21[_0x2c3b85(0x454)]=_0x2c3b85(0x1a5)):(_0x331a21[_0x2c3b85(0x200)]='‚ÜóÔ∏è',_0x331a21[_0x2c3b85(0x454)]=_0x2c3b85(0x3b0));}async function initializeApp(){const _0x2f8115=_0x2d92ab;try{await storageManager[_0x2f8115(0x3a4)]();const [_0x1c02ec,_0xb71c81,_0x3b7f6b]=await Promise[_0x2f8115(0x305)]([storageManager[_0x2f8115(0x21a)](),storageManager['getAll']('topics'),storageManager[_0x2f8115(0x37d)](_0x2f8115(0x25e))]);let _0x53fb24;if(!_0x1c02ec){const _0x163477=JSON[_0x2f8115(0x1f2)](JSON[_0x2f8115(0x49b)](defaults));await storageManager[_0x2f8115(0x38b)](_0x163477['settings']);for(const _0x39c473 of _0x163477[_0x2f8115(0x268)]){const {subtopics:_0x22dd4e,..._0x4329da}=_0x39c473;await storageManager[_0x2f8115(0x31c)](_0x2f8115(0x268),_0x4329da);for(const _0x494057 of _0x22dd4e){await storageManager[_0x2f8115(0x31c)]('subtopics',{..._0x494057,'topicId':_0x39c473['id']});}}_0x53fb24=_0x163477;}else{const _0x248f81={};for(const _0x536fa5 of _0xb71c81)_0x248f81[_0x536fa5['id']]={..._0x536fa5,'subtopics':[]};for(const _0x231ba4 of _0x3b7f6b)_0x248f81[_0x231ba4[_0x2f8115(0x3af)]]?.[_0x2f8115(0x25e)][_0x2f8115(0x369)](_0x231ba4);_0x53fb24={'version':defaults[_0x2f8115(0x1cf)],'settings':_0x1c02ec,'topics':Object[_0x2f8115(0x284)](_0x248f81)};}data=window['data']=_0x53fb24,normalizeDataStructure(data),await ensureValidSelection(),await seedAchievedMilestones(),renderAll();try{storageManager[_0x2f8115(0x1dc)](data);}catch(_0x4f6542){console[_0x2f8115(0x3e3)](_0x2f8115(0x270),_0x4f6542);}bindEvents(),applyTheme();}catch(_0x5a2a25){console['error'](_0x2f8115(0x2e1),_0x5a2a25),toast(_0x2f8115(0x224)+_0x5a2a25[_0x2f8115(0x27e)]);}}callGeminiAPI=async function(_0x43b020,_0x25fa61=0x3,_0x2a9151=0x3e8){const _0x5bc2ea=_0x2d92ab,_0x40d784=data?.[_0x5bc2ea(0x3cc)]?.['apiKey']||'';if(!_0x40d784)return toast('Vui\x20l√≤ng\x20nh·∫≠p\x20Gemini\x20API\x20Key\x20trong\x20ph·∫ßn\x20C√†i\x20ƒë·∫∑t.'),null;const _0x582d29=_0x5bc2ea(0x3ba)+_0x40d784,_0x28c3ee={'contents':[{'role':_0x5bc2ea(0x28b),'parts':[{'text':_0x43b020}]}]};try{const _0x5e6db3=await fetch(_0x582d29,{'method':_0x5bc2ea(0x3d0),'headers':{'Content-Type':'application/json'},'body':JSON[_0x5bc2ea(0x49b)](_0x28c3ee)});if(!_0x5e6db3['ok']){if(_0x5e6db3[_0x5bc2ea(0x3d7)]===0x1ad&&_0x25fa61>0x0)return await new Promise(_0x595297=>setTimeout(_0x595297,_0x2a9151)),callGeminiAPI(_0x43b020,_0x25fa61-0x1,_0x2a9151*0x2);let _0x508e44=null;try{_0x508e44=await _0x5e6db3['json']();}catch(_0x2187ac){}let _0x3b224c=_0x5bc2ea(0x33b)+_0x5e6db3[_0x5bc2ea(0x3d7)];if(_0x5e6db3[_0x5bc2ea(0x3d7)]===0x190)_0x3b224c=_0x5bc2ea(0x261);else{if(_0x5e6db3['status']===0x1ad)_0x3b224c=_0x5bc2ea(0x21b);else _0x508e44?.[_0x5bc2ea(0x29a)]?.[_0x5bc2ea(0x27e)]&&(_0x3b224c=_0x5bc2ea(0x3ed)+_0x508e44['error'][_0x5bc2ea(0x27e)]);}return toast(_0x3b224c,0xfa0),console[_0x5bc2ea(0x29a)](_0x5bc2ea(0x456),_0x508e44||_0x5e6db3[_0x5bc2ea(0x46b)]),null;}const _0x5562f2=await _0x5e6db3['json']();if(_0x5562f2[_0x5bc2ea(0x328)]&&_0x5562f2[_0x5bc2ea(0x328)][0x0]?.['content']?.['parts']?.[0x0]?.[_0x5bc2ea(0x3d1)])return formatGeminiResponse(_0x5562f2[_0x5bc2ea(0x328)][0x0][_0x5bc2ea(0x304)]['parts'][0x0][_0x5bc2ea(0x3d1)]);else{console[_0x5bc2ea(0x29a)]('API\x20response\x20structure\x20is\x20unexpected:',_0x5562f2);if(_0x5562f2[_0x5bc2ea(0x28a)]?.['blockReason'])return'N·ªôi\x20dung\x20b·ªã\x20ch·∫∑n\x20v√¨:\x20'+_0x5562f2[_0x5bc2ea(0x28a)][_0x5bc2ea(0x29d)]+_0x5bc2ea(0x285);return _0x5bc2ea(0x2aa);}}catch(_0x324b40){return console[_0x5bc2ea(0x29a)](_0x5bc2ea(0x3a2),_0x324b40),toast(_0x5bc2ea(0x275),0xfa0),null;}},loadLanguage(localStorage[_0x2d92ab(0x2e8)]('lang')||'vi')[_0x2d92ab(0x186)](initializeApp);
    </script>
</body>
</html>
